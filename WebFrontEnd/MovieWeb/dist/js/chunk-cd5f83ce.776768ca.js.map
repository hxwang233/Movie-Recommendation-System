{"version":3,"sources":["webpack:///./node_modules/@antv/g2plot/esm/plots/bullet/utils.js","webpack:///./node_modules/@antv/g2plot/esm/plots/bullet/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/bullet/index.js","webpack:///./node_modules/@antv/g2plot/esm/utils/transform/histogram.js","webpack:///./node_modules/@antv/g2plot/esm/plots/histogram/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/histogram/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/progress/utils.js","webpack:///./node_modules/d3-hierarchy/src/constant.js","webpack:///./node_modules/@antv/g2plot/esm/plots/pie/interactions/pie-legend-action.js","webpack:///./node_modules/@antv/g2plot/esm/plots/pie/interactions/pie-statistic-action.js","webpack:///./node_modules/@antv/g2plot/esm/plots/pie/interactions/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/pie/index.js","webpack:///./node_modules/@antv/g2plot/esm/adaptor/conversion-tag.js","webpack:///./node_modules/@antv/g2plot/esm/adaptor/connected-area.js","webpack:///./node_modules/@antv/g2plot/esm/plots/column/adaptor.js","webpack:///./node_modules/d3-hierarchy/src/treemap/round.js","webpack:///./node_modules/@antv/g2plot/esm/types/index.js","webpack:///./node_modules/@antv/g2plot/esm/utils/data.js","webpack:///./node_modules/@antv/g2plot/esm/plots/liquid/utils.js","webpack:///./node_modules/@antv/g2plot/esm/plots/liquid/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/liquid/shapes/liquid.js","webpack:///./node_modules/@antv/g2plot/esm/plots/liquid/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/waterfall/constants.js","webpack:///./node_modules/@antv/g2plot/esm/plots/waterfall/utils.js","webpack:///./node_modules/@antv/g2plot/esm/plots/waterfall/shape.js","webpack:///./node_modules/@antv/g2plot/esm/plots/waterfall/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/waterfall/index.js","webpack:///./node_modules/d3-hierarchy/src/treemap/dice.js","webpack:///./node_modules/size-sensor/lib/sensors/index.js","webpack:///./node_modules/@antv/g2plot/esm/utils/number.js","webpack:///./node_modules/@antv/g2plot/esm/plots/area/adaptor.js","webpack:///./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///./node_modules/d3-hierarchy/src/accessors.js","webpack:///./node_modules/d3-hierarchy/src/treemap/squarify.js","webpack:///./node_modules/@antv/g2plot/esm/utils/hierarchy/util.js","webpack:///./node_modules/@antv/g2plot/esm/adaptor/geometries/polygon.js","webpack:///./node_modules/@antv/g2plot/esm/plots/progress/constants.js","webpack:///./node_modules/@antv/g2plot/esm/utils/transform/word-cloud.js","webpack:///./node_modules/@antv/g2plot/esm/plots/word-cloud/utils.js","webpack:///./node_modules/@antv/g2plot/esm/plots/word-cloud/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/word-cloud/shapes/word-cloud.js","webpack:///./node_modules/@antv/g2plot/esm/plots/word-cloud/index.js","webpack:///./node_modules/size-sensor/lib/debounce.js","webpack:///./node_modules/@antv/g2plot/esm/utils/hierarchy/treemap.js","webpack:///./node_modules/@antv/g2plot/esm/plots/bar/utils.js","webpack:///./node_modules/@antv/g2plot/esm/plots/pie/contants.js","webpack:///./node_modules/size-sensor/lib/sensorPool.js","webpack:///./node_modules/@antv/g2plot/esm/plots/multi-view/utils.js","webpack:///./node_modules/@antv/g2plot/esm/plots/multi-view/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/multi-view/interactions/utils.js","webpack:///./node_modules/@antv/g2plot/esm/plots/multi-view/interactions/association.js","webpack:///./node_modules/@antv/g2plot/esm/plots/multi-view/index.js","webpack:///./node_modules/size-sensor/lib/sensors/object.js","webpack:///./node_modules/@antv/g2plot/esm/plots/radial-bar/utils.js","webpack:///./node_modules/@antv/g2plot/esm/plots/radial-bar/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/radial-bar/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/pie/adaptor.js","webpack:///./node_modules/d3-regression/dist/d3-regression.js","webpack:///./node_modules/@antv/g2plot/esm/utils/transform/chord.js","webpack:///./node_modules/@antv/g2plot/esm/plots/chord/constant.js","webpack:///./node_modules/@antv/g2plot/esm/plots/chord/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/chord/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/gauge/adaptor.js","webpack:///./node_modules/@antv/g2plot/node_modules/tslib/tslib.es6.js","webpack:///./node_modules/@antv/g2plot/esm/adaptor/geometries/base.js","webpack:///./node_modules/@antv/g2plot/esm/plots/line/constants.js","webpack:///./node_modules/@antv/g2plot/esm/plots/line/interactions/marker-active.js","webpack:///./node_modules/@antv/g2plot/esm/plots/line/interactions/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/line/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/gauge/shapes/gauge.js","webpack:///./node_modules/@antv/g2plot/esm/plots/gauge/shapes/meter-gauge.js","webpack:///./node_modules/@antv/g2plot/esm/plots/gauge/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/bar/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/ring-progress/constants.js","webpack:///./node_modules/@antv/g2plot/esm/plots/ring-progress/index.js","webpack:///./node_modules/@antv/g2plot/esm/utils/flow.js","webpack:///./node_modules/@antv/g2plot/esm/utils/pick.js","webpack:///./node_modules/@antv/g2plot/esm/utils/template.js","webpack:///./node_modules/@antv/g2plot/esm/utils/invariant.js","webpack:///./node_modules/@antv/g2plot/esm/utils/dom.js","webpack:///./node_modules/@antv/g2plot/esm/utils/geometry.js","webpack:///./node_modules/@antv/g2plot/esm/utils/label.js","webpack:///./node_modules/@antv/g2plot/esm/utils/path.js","webpack:///./node_modules/@antv/g2plot/esm/utils/deep-assign.js","webpack:///./node_modules/@antv/g2plot/esm/utils/kebab-case.js","webpack:///./node_modules/@antv/g2plot/esm/utils/context.js","webpack:///./node_modules/@antv/g2plot/esm/utils/measure-text.js","webpack:///./node_modules/@antv/g2plot/esm/plots/bar/constants.js","webpack:///./node_modules/@antv/g2plot/esm/plots/bar/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/funnel/constant.js","webpack:///./node_modules/@antv/g2plot/esm/plots/funnel/geometries/common.js","webpack:///./node_modules/@antv/g2plot/esm/plots/funnel/geometries/basic.js","webpack:///./node_modules/@antv/g2plot/esm/plots/funnel/geometries/compare.js","webpack:///./node_modules/@antv/g2plot/esm/plots/funnel/geometries/facet.js","webpack:///./node_modules/@antv/g2plot/esm/plots/funnel/geometries/dynamic-height.js","webpack:///./node_modules/@antv/g2plot/esm/plots/funnel/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/funnel/index.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/count.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/each.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/find.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/sum.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/sort.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/path.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/ancestors.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/descendants.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/leaves.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/links.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/iterator.js","webpack:///./node_modules/d3-hierarchy/src/hierarchy/index.js","webpack:///./node_modules/@antv/g2plot/esm/utils/hierarchy/partition.js","webpack:///./node_modules/@antv/g2plot/esm/plots/sunburst/utils.js","webpack:///./node_modules/@antv/g2plot/esm/plots/sunburst/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/sunburst/index.js","webpack:///./node_modules/size-sensor/lib/id.js","webpack:///./node_modules/@antv/g2plot/esm/plots/treemap/utils.js","webpack:///./node_modules/@antv/g2plot/esm/plots/treemap/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/treemap/interactions/actions/treemap-drill-down-action.js","webpack:///./node_modules/@antv/g2plot/esm/plots/treemap/interactions/util.js","webpack:///./node_modules/@antv/g2plot/esm/plots/treemap/interactions/treemap-drill-down.js","webpack:///./node_modules/@antv/g2plot/esm/plots/treemap/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/line/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/tiny-area/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/scatter/interaction/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/pie/utils.js","webpack:///./node_modules/size-sensor/lib/sensors/resizeObserver.js","webpack:///./node_modules/@antv/g2plot/esm/plots/progress/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/tiny-line/utils.js","webpack:///./node_modules/@antv/g2plot/esm/plots/box/constant.js","webpack:///./node_modules/@antv/g2plot/esm/plots/box/utils.js","webpack:///./node_modules/@antv/g2plot/esm/plots/box/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/box/index.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/@antv/g2plot/esm/plots/ring-progress/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/tiny-column/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/utils/statistic.js","webpack:///./node_modules/@antv/g2plot/esm/plots/tiny-line/index.js","webpack:///./node_modules/@antv/g2plot/esm/constant.js","webpack:///./node_modules/@antv/g2plot/esm/utils/matrix.js","webpack:///./node_modules/d3-array/src/sum.js","webpack:///./node_modules/d3-array/src/max.js","webpack:///./node_modules/d3-array/src/min.js","webpack:///./node_modules/d3-sankey/src/align.js","webpack:///./node_modules/d3-sankey/src/constant.js","webpack:///./node_modules/d3-sankey/src/sankey.js","webpack:///./node_modules/d3-path/src/path.js","webpack:///./node_modules/d3-shape/src/array.js","webpack:///./node_modules/d3-sankey/src/sankeyLinkHorizontal.js","webpack:///./node_modules/@antv/g2plot/esm/utils/transform/sankey.js","webpack:///./node_modules/@antv/g2plot/esm/plots/sankey/constant.js","webpack:///./node_modules/@antv/g2plot/esm/plots/sankey/circle.js","webpack:///./node_modules/@antv/g2plot/esm/plots/sankey/helper.js","webpack:///./node_modules/@antv/g2plot/esm/plots/sankey/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/sankey/index.js","webpack:///./node_modules/@antv/g2plot/esm/utils/transform/percent.js","webpack:///./node_modules/@antv/g2plot/esm/plots/tiny-line/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/scatter/util.js","webpack:///./node_modules/@antv/g2plot/esm/plots/scatter/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/scatter/index.js","webpack:///./node_modules/@antv/g2plot/esm/adaptor/geometries/area.js","webpack:///./node_modules/@antv/g2plot/esm/adaptor/geometries/line.js","webpack:///./node_modules/@antv/g2plot/esm/adaptor/geometries/point.js","webpack:///./node_modules/@antv/g2plot/esm/adaptor/geometries/interval.js","webpack:///./node_modules/@antv/g2plot/esm/adaptor/geometries/edge.js","webpack:///./node_modules/d3-hierarchy/src/treemap/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/area/constants.js","webpack:///./node_modules/@antv/g2plot/esm/plots/area/index.js","webpack:///./node_modules/size-sensor/lib/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/column/constants.js","webpack:///./node_modules/@antv/g2plot/esm/plots/column/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/progress/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/adaptor/common.js","webpack:///./node_modules/@antv/g2plot/esm/plots/gauge/constants.js","webpack:///./node_modules/d3-hierarchy/src/cluster.js","webpack:///./node_modules/d3-hierarchy/src/array.js","webpack:///./node_modules/d3-hierarchy/src/pack/enclose.js","webpack:///./node_modules/d3-hierarchy/src/pack/siblings.js","webpack:///./node_modules/d3-hierarchy/src/pack/index.js","webpack:///./node_modules/d3-hierarchy/src/stratify.js","webpack:///./node_modules/d3-hierarchy/src/tree.js","webpack:///./node_modules/d3-hierarchy/src/treemap/binary.js","webpack:///./node_modules/d3-hierarchy/src/treemap/sliceDice.js","webpack:///./node_modules/d3-hierarchy/src/treemap/resquarify.js","webpack:///./node_modules/@antv/g2plot/esm/plots/dual-axes/types.js","webpack:///./node_modules/@antv/g2plot/esm/plots/dual-axes/constant.js","webpack:///./node_modules/@antv/g2plot/esm/plots/dual-axes/util/option.js","webpack:///./node_modules/@antv/g2plot/esm/plots/dual-axes/util/legend.js","webpack:///./node_modules/@antv/g2plot/esm/plots/dual-axes/util/geometry.js","webpack:///./node_modules/@antv/g2plot/esm/plots/dual-axes/util/render-sider.js","webpack:///./node_modules/@antv/g2plot/esm/plots/dual-axes/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/dual-axes/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/radar/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/radar/interactions/radar-tooltip-action.js","webpack:///./node_modules/@antv/g2plot/esm/plots/radar/interactions/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/radar/index.js","webpack:///./node_modules/@antv/g2plot/esm/core/plot.js","webpack:///./node_modules/@antv/g2plot/esm/plots/rose/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/rose/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/tiny-column/constants.js","webpack:///./node_modules/@antv/g2plot/esm/plots/tiny-column/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/tiny-area/constants.js","webpack:///./node_modules/@antv/g2plot/esm/plots/tiny-area/index.js","webpack:///./node_modules/size-sensor/lib/constant.js","webpack:///./node_modules/@antv/g2plot/esm/utils/view.js","webpack:///./node_modules/@antv/g2plot/esm/lab.js","webpack:///./node_modules/@antv/g2plot/esm/utils/tooltip.js","webpack:///./node_modules/@antv/g2plot/esm/utils/conversion.js","webpack:///./node_modules/d3-hierarchy/src/treemap/slice.js","webpack:///./node_modules/@antv/g2plot/esm/plots/bidirectional-bar/constant.js","webpack:///./node_modules/@antv/g2plot/esm/plots/bidirectional-bar/utils.js","webpack:///./node_modules/@antv/g2plot/esm/plots/bidirectional-bar/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/bidirectional-bar/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/tiny-line/constants.js","webpack:///./node_modules/@antv/g2plot/esm/plugin/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/gauge/utils.js","webpack:///./node_modules/d3-hierarchy/src/partition.js","webpack:///./node_modules/@antv/g2/lib/util/graphics.js","webpack:///./node_modules/@antv/g2plot/esm/plots/heatmap/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/heatmap/shapes/circle.js","webpack:///./node_modules/@antv/g2plot/esm/plots/heatmap/shapes/square.js","webpack:///./node_modules/@antv/g2plot/esm/plots/heatmap/index.js","webpack:///./node_modules/@antv/g2plot/esm/plots/stock/constant.js","webpack:///./node_modules/@antv/g2plot/esm/plots/stock/utils.js","webpack:///./node_modules/@antv/g2plot/esm/plots/stock/adaptor.js","webpack:///./node_modules/@antv/g2plot/esm/plots/stock/index.js"],"names":["transformData","options","data","xField","measureField","rangeField","targetField","layout","ds","scales","forEach","item","index","_a","sort","a","b","d","i","range","push","rKey","String","mKey","length","tKey","min","Math","apply","flat","Infinity","max","reverse","geometry","params","chart","bulletStyle","color","size","label","r","yField","seriesField","isStack","interval","style","geometries","tooltip","m","t","point","shape","coordinate","transpose","ext","meta","_b","xAxis","yAxis","extData","sync","axis","legend","removeInteraction","rangeGeometry","measureGeometry","targetGeometry","type","measure","target","adaptor","_super","Bullet","_this","this","arguments","prototype","changeData","updateOption","getSchemaAdaptor","getDefaultOptions","call","tickLine","line","fillOpacity","position","showMarkers","getBinKey","value","binWidth","floor","sturges","values","ceil","log","LN2","binHistogram","binField","binNumber","stackField","originData_copy","rangeWidth","_binWidth","_defaultBinNumber","bins","groups","bin","binKey","count","Object","keys","groupKey","groupKeyBinKey","plotData","columnStyle","p","callback","cfg","fields","Histogram","stroke","shared","interactions","getProgressData","percent","clampPercent","constantZero","x","PieLegendAction","getActiveElements","delegateObject","getDelegationObject","context","view","component","item_1","field_1","get","elements","filter","ele","getModel","getActiveElementLabels","labels","labelsContainer","getChildren","find","getData","transfrom","offset","elementLabels","element","idx","labelShape","isPolar","isTransposed","getAngle","startAngle","endAngle","middleAngle","cos","y","sin","setMatrix","active","reset","StatisticAction","getAnnotations","_view","getController","option","getInitialAnnotation","initialAnnotation","init","on","annotations","change","event","match","colorField_1","getGroupedFields","annotationController_1","clear","getScaleFields","angleField_1","colorField_2","angleScale_1","getScaleByField","colorScale_1","annotationOptions_1","statisticOptions","titleOpt_1","opt","key","contentOpt_1","text","transform","getText","html","container","getCoordinate","containerWidth","getRadius","innerRadius","width","filteredData","customHtml","formatter","annotation","render","annotationController","initialStatistic","start","trigger","action","end","Pie","emit","BEFORE_CHANGE_DATA","fromData","prevOptions","angleField","prevData","curData","update","AFTER_CHANGE_DATA","getConversionTagOptionsWithDefaults","horizontal","spacing","arrow","headSize","fill","fontSize","textAlign","textBaseline","conversion","parsePoints","points","convertPoint","renderArrowTag","config","elemPrev","elemNext","group","pointPrev","pointNext","totalHeight","totalWidth","addShape","id","getElementId","mappingData","name","attrs","renderTextTag","_c","field","textShape","textWidth","getBBox","cWidth","cEnd","textAdjusted","slice","attr","renderTag","disabled","conversionTag","theme","columnWidthRatio","addGroup","geom","elem","INTERACTION_MAP","hover","click","connectedArea","disable","interaction","defaultOptions","isPercent","tooltipOptions","datum","Number","toFixed","widthRatio","percentYMeta","minLimit","maxLimit","isRange","undefined","content","join","isBar","node","x0","round","y0","x1","y1","adjustYMetaByZero","numberData","v","isNaN","gtZero","every","ltZero","transformDataToNodeLinkData","sourceField","weightField","Array","isArray","nodes","links","nodesMap","nodesIndex","source","weight","CAT_VALUE","getLiquidData","liquidStyle","radius","outline","wave","scale","customInfo","updated","statistic","metaFormatter_1","plotType","DURATION","lerp","factor","getFillAttrs","opacity","getLineAttrs","defaultAttrs","lineWidth","strokeOpacity","getWaterWavePositions","stage","waveLength","amplitude","PI","getWaterWavePath","waterLevel","phase","cx","cy","curves","path","_phase","left","waveRight","c","pos","addWaterWave","level","waveCount","waveAttrs","clip","bbox","maxX","minX","height","maxY","minY","matrix","stopAnimate","animate","duration","repeat","e","console","warn","draw","radio","border","distance","center","parsePoint","minXPoint","halfWidth","circleAttrs","waves","clipCircle","setClip","Liquid","title","lineHeight","Y_FIELD","DIFF_FIELD","ABSOLUTE_FIELD","IS_TOTAL","processData","newYField","total","newData","WARN","sum","processed","map","dIdx","getRectPath","first","defaultStyle","leaderLine","waterfallStyle","risingFill","fallingFill","colorMapping","rawFields","Y_FIELD_META","alias","items","marker","symbol","custom","labelMode","showCrosshairs","geometry_1","nextPoints","rectPath","parsePath","fillAttrs","leaderLineCfg","linkPath","Waterfall","lineDash","grid","parent","children","n","k","defineProperty","exports","createSensor","_object","_resizeObserver","ResizeObserver","isRealNumber","isBetween","areaStyle","pointMapping","lineMapping","chartData","primary","area","second","areaGeometry","adjust","g","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","args","err","optional","f","required","Error","phi","sqrt","squarifyRatio","ratio","row","nodeValue","dx","dy","sumValue","minValue","maxValue","newRatio","minRatio","alpha","beta","rows","i0","i1","dice","squarify","INVALID_FIELD_ERR_MSG","getField","defaultField","TypeError","getAllNodes","root","each","eachNode","polygon","colorField","tooltipFields","mapping","DEFAULT_COLOR","DEFAULT_OPTIONS","animation","font","padding","spiral","timeInterval","wordCloud","words","tagCloud","imageMask","createMask","result","tags","_tags","tag","w","h","cloudRadians","cw","ch","cloudText","cloudFont","cloudFontNormal","cloudFontSize","cloudRotate","random","cloudPadding","cloudSprite","contextAndRatio","di","sprite","clearRect","maxh","save","measureText","rotate","sr","cr","wcr","wsr","hcr","hsr","abs","translate","fillText","strokeText","restore","xoff","yoff","hasText","pixels","getImageData","w32","seen","seenRow","j","cloudCollide","board","sw","last","lx","sx","msx","cloudBounds","bounds","b0","b1","collideRects","archimedeanSpiral","rectangularSpiral","sign","zeroArray","cloudCanvas","document","createElement","functor","spirals","archimedean","rectangular","fontWeight","fontStyle","canvas","cloud","getContext","fillStyle","strokeStyle","place","dxdy","startX","startY","maxDelta","s","dt","step","Date","now","hasImage","_bounds","img","can","cxt","drawImage","imageData","tmp","flag","_","rawOptions","chartPadding","appendPadding","wordField","wordStyle","autoFit","placementStrategy","fontFamily","arr","getSingleKeyValues","getFontSizeMapping","getSize","getRotate","word","containerSize","resolvePadding","top","right","bottom","normalPadding","length_1","processImageMask","res","rej","HTMLImageElement","image_1","Image","crossOrigin","src","onload","onerror","ERROR","fMin_1","fMax_1","min_1","max_1","resolveRotate","rotation","rotationSteps","perSize","numbers","reflect","nice","getTextAttrs","WordCloud","showTitle","rotateRatio","handler","catch","triggerResize","destroyed","execAdaptor","window","setTimeout","_default","delay","timer","_len","_key","clearTimeout","tile","ignoreParentValue","paddingInner","paddingOuter","paddingTop","paddingRight","paddingBottom","paddingLeft","as","treemap","partition","prop","indexOf","transformBarData","pieStyle","components","removeSensor","getSensor","_id","_interopRequireDefault","_sensors","_constant","obj","__esModule","Sensors","sensorId","getAttribute","SizeSensorId","newId","setAttribute","sensor","removeAttribute","destroy","PLOT_ADAPTORS","pie","column","bar","gauge","progress","PLOT_CONSTRUCTOR","execPlotAdaptor","plot","cls","module","multiView","views","region","axes","viewOfG2","createView","enable","l","multiPlot","plots","getElementValue","model","record","clearHighlight","el","hasState","setState","Association","getAssociationItems","linkField","dim","data_1","getXScale","getYScales","getGroupScales","inactive","showTooltip","siblings","box","getCanvasBBox","hideTooltip","sibling","selected","highlight","MultiView","_debounce","listeners","newSensor","getComputedStyle","contentDocument","defaultView","addEventListener","resizeListener","display","overflow","pointerEvents","zIndex","SensorClassName","SensorTabIndex","appendChild","listener","bind","cb","parentNode","removeEventListener","removeChild","unbind","splice","getScaleMax","maxAngle","yData","formatRadian","barStyle","minColumnWidth","minBarWidth","maxColumnWidth","maxBarWidth","columnBackground","barBackground","intervalGeometry","RadialBar","percentageField_1","zIndexReversed","labelCfg","content_1","dataum","angleScale","percentage","LABEL_LAYOUT_TYPE_MAP","inner","outer","spider","labelLayoutType","labelLayoutCfg","concat","pieAnnotation","metaFormatter","dataValue","global","factory","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","_arr","_n","_d","_e","_s","_i","Symbol","iterator","next","u","isFinite","xv","yv","X","Float64Array","Y","ux","uy","visitPoints","iterations","determination","uY","predict","SSE","SST","sse","sst","angle","atan2","midpoint","interpose","xmin","xmax","LOG10E","precision","pow","maxIter","px","iter","found","p0","p1","mp","a0","a1","ols","uX","uXY","uX2","delta","slope","intercept","exponential","domain","YL","XY","XYL","X2Y","ly","xy","_ols","_ols2","exp","out","rSquared","linear","X2","median","maxiters","epsilon","loess","bandwidth","_points","_points2","bw","yhat","residuals","robustWeights","edge","W","denom","xk","yk","tricube","xkw","updateInterval","medianResidual","_w","output","val","cnt","prev","logarithmic","base","E","lb","quad","quadratic","x2","X3","X4","n0","X2X2","polynomial","order","o","coefficients","_o","lhs","rhs","coef","gaussianElimination","uncenter","z","power","YS","regressionExp","regressionLinear","regressionLoess","regressionLog","regressionPoly","regressionPow","regressionQuad","nodeWidthRatio","nodePaddingRatio","sourceWeight","targetWeight","sortBy","processGraph","nodeById","edges","inEdges","outEdges","frequency","sortNodes","sortMethods","localeCompare","method","layoutNodes","len","nodePaddingRatio_1","margin_1","nodeWidthRatio_1","totalValue_1","deltaX","deltaX_1","locatingEdges","valueById_1","sId","tId","sNode","tNode","sValue","currentSValue","sStart","sEnd","tValue","currentTValue","tStart","tEnd","chordLayout","chordLayoutOptions","chordLayoutInputData","outputNodes","outputLinks","X_FIELD","NODE_COLOR_FIELD","EDGE_COLOR_FIELD","nodesData","edgesData","link","chordData","nodeGeometry","nodeStyle","nodeView","edgeGeometry","edgeStyle","edgeView","edgeOptions","Chord","centerX","offsetX","labelEmit","indicator","indicatorData","v1","defaultColor","getTheme","rangeData","v2","rangeColor","meterView","meter","background","v3","transformContent","other","extendStatics","setPrototypeOf","__proto__","hasOwnProperty","__extends","__","constructor","create","__assign","assign","__rest","getOwnPropertySymbols","propertyIsEnumerable","__spreadArrays","il","jl","getMappingField","shapeField","sizeField","styleField","unshift","getMappingFunction","mappingFields","func","state","crosshairs","MarkerActiveAction","getView","evt","items_1","Line","pointer","pin","y2","steps","STEP","stepRatio","gap","getCenter","drawn","capture","Gauge","indicatorView","rangeView","barWidthRatio","reversed","RingProgress","flow","flows","param","reduce","pick","template","replace","RegExp","LEVEL","BRAND","getMessage","format","argIndex","condition","getContainerSize","clientWidth","parseInt","clientHeight","findGeometry","getAllElements","transformLabel","labelOptions","points2Path","isInCircle","smoothBezier","smooth","isLoop","constraint","prevPoint","nextPoint","cps","hasConstraint","sub","d0","d1","cp0","add","cp1","shift","catmullRom2bezier","crp","pointList","cp2","controlPointList","getSplinePath","constaint","prePoint","splinePath","MAX_MIX_LEVEL","toString","isType","isObjectLike","isPlainObject","proto","getPrototypeOf","deep","dist","maxLevel","deepAssign","rst","kebabCase","toLowerCase","getCanvasContext","fontVariant","ctx","metrics","marginRatio","Bar","switchedFieldOptions","FUNNEL_PERCENT","FUNNEL_MAPPING_VALUE","FUNNEL_CONVERSATION","FUNNEL_TOTAL_PERCENT","PLOYGON_X","PLOYGON_Y","originData","formatData","maxSize","minSize","maxYFieldValue","conversionTagComponent","getLineCoordinate","getOptions","formatter_1","lineOption","offsetY","autoRotate","geo","actions","datumIndex","initLineOption","basicFunnel","compareField","facet","eachView","rowIndex","columnIndex","formatterData","defaultFacetLabel","once","viewIndex","compareFunnel","facetFunnel","preItemX","preItemY","dynamicHeightFunnel","defaultOption","dynamicHeight","Funnel","eachAfter","that","pop","eachBefore","compare","ancestor","leastCommonAncestor","aNodes","ancestors","bNodes","from","leaves","current","hierarchy","Map","mapChildren","objectChildren","child","childs","Node","depth","computeHeight","node_copy","copyData","descendants","copy","hierarchyConfig","nodeInfo","getTooltipTemplate","className","listItem","formatterItem","innerHTML","sunburstStyle","coord","customContent","Sunburst","isDrillDown","findIndex","getFommatInteractions","openDrillDown","ancestorNode","rectStyle","common","TreemapDrillDownAction","cacheDataStack","drill","currentData","groupScales","drillData","cacheData","isTopParentNode","hasHistoryDrill","getAction","treemapElementDrillAction","showEnable","isEnable","rollback","Treemap","lineStyle","lineShape","lineGeometry","pointOptions","lineOptions","seriesData","processing","throttle","wait","leading","trailing","getTotalValue","adaptOffset","defaultOffset","endsWith","parseFloat","processIllegalData","isAllZero","observe","disconnect","Progress","getTinyData","BOX_RANGE","BOX_RANGE_ALIAS","BOX_SYNC_NAME","OUTLIERS_VIEW_ID","low_1","q1_1","median_1","q3_1","high_1","groupField","yFieldName","schema","outliersPoint","outliersField","outliersStyle","outliersView","_x","_outliers","baseMeta","syncName","boxStyle","_y","Box","runtime","Op","hasOwn","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","makeInvokeMethod","tryCatch","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","__await","unwrapped","previousPromise","enqueue","callInvokeWithMethodAndArg","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","resultName","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","iterable","iteratorMethod","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","async","object","skipTempReset","charAt","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","adapteStyle","styleObject","justifyContent","alignItems","shapeStyleKeys","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","_f","includes","setStatisticContainerStyle","renderStatistic","titleOpt","contentOpt","containerW","liquidShape","circle","getWidth","renderGaugeStatistic","polarCoord","polarCenter","polarRadius","polarMaxY","TinyLine","AXIS_META_CONFIG_KEYS","DEFAULT_COLORS","GRADIENT","CONTINUOUS","ORIGIN_MATRIX","ulMatrix","valueof","targetDepth","justify","sourceLinks","targetLinks","constant","ascendingSourceBreadth","ascendingBreadth","ascendingTargetBreadth","defaultId","defaultNodes","graph","defaultLinks","computeLinkBreadths","py","linkSort","align","sankey","computeNodeLinks","computeNodeValues","computeNodeDepths","computeNodeHeights","computeNodeBreadths","entries","fixedValue","Set","computeNodeLayers","kx","columns","layer","initializeNodeBreadths","ky","reorderLinks","relaxRightToLeft","relaxLeftToRight","targetTop","reorderNodeLinks","resolveCollisions","sourceTop","subject","resolveCollisionsBottomToTop","resolveCollisionsTopToBottom","nodeId","nodeAlign","nodeSort","nodeWidth","nodePadding","extent","pi","tau","tauEpsilon","Path","_x0","_y0","_x1","_y1","moveTo","closePath","lineTo","quadraticCurveTo","bezierCurveTo","arcTo","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","tan","acos","t01","t21","arc","ccw","da","rect","ALIGN_METHOD","getNodeAlignFunction","sankeyLayoutOptions","sankeyLayout","sankeyProcessor","layoutData","tx","COLOR_FIELD","hasCircle","circleCache","some","cutoffCircle","dataWithoutCircle","removedData","has","set","getNodeWidthRatio","getNodePaddingRatio","sankeyLayoutInputData","isNode","Sankey","syncViewPadding","isLast","showContent","sumMap","groupValue","getDataWhetherPecentage","asField","REGRESSION_MAP","poly","getQuadrantDefaultConfig","xBaseline","yBaseline","textOffset","defaultConfig","regionStyle","labelStyle","xScaleView","yScaleView","pathData","convert","getPath","regressionLine","algorithm","reg","getMeta","xFieldValue","yFieldValue","xIsPositiveNumber","yIsPositiveNumber","getValue","customValue","rangeX","rangeY","transformOptions","pointStyle","newOptions","showLegend","scatterGeometry","scatterAnnotation","quadrant","annotationOptions","labels_1","regionStyle_1","defaultConfig_1","quadrants","split","style_1","top_1","defaultStyle_1","Scatter","stepType","connectNulls","otherAdaptor","isGroup","dodgeBy","paddingStack","positionNode","Area","ver","_sensorPool","Column","progressStyle","slider","scrollbar","annotationOption","limitInPlot","RANGE_VALUE","RANGE_TYPE","PERCENT","INDICATEOR_VIEW_ID","RANGE_VIEW_ID","MASK_VIEW_ID","ticks","subTickLine","lineCap","tickCount","tickInterval","defaultSeparation","meanX","meanXReduce","maxYReduce","leafLeft","leafRight","separation","nodeSize","cluster","previousNode","shuffle","array","circles","B","enclosesWeak","encloseBasis","extendBasis","enclosesWeakAll","enclosesNot","encloseBasis2","encloseBasis3","dr","encloseBasis1","r1","r2","r21","x3","y3","r3","a2","a3","b2","b3","c2","c3","d2","d3","ab","xa","xb","ya","yb","A","C","intersects","score","previous","packEnclose","aa","ca","sj","sk","pack","enclose","defaultRadius","radiusLeaf","packChildren","translateChild","preroot","ambiguous","defaultParentId","parentId","stratify","nodeKey","nodeByKey","nextLeft","nextRight","moveSubtree","wm","wp","executeShifts","nextAncestor","vim","TreeNode","treeRoot","tree","firstWalk","secondWalk","sizeNode","apportion","vip","vop","vom","sip","sop","sim","som","sums","valueOffset","valueTarget","hi","mid","valueLeft","valueRight","resquarify","_squarify","AxisType","DualAxesGeometry","LEFT_AXES_VIEW","RIGHT_AXES_VIEW","DEFAULT_YAXIS_CONFIG","autoHide","DEFAULT_LEFT_YAXIS_CONFIG","DEFAULT_RIGHT_YAXIS_CONFIG","isLine","geometryOption","isColumn","getGeometryOption","transformObjectToArray","transformAttribute","a1_1","a2_1","getYAxisWithDefault","axisType","Left","Right","getViewLegendItems","userMarker","colorAttribute","isGeometry","viewId","attributes","getGroupAttributes","attrItems","getLegendItems","drawSingleGeometry","FIELD_KEY","adjust_1","customOffset","renderSlider","sliderValue","xScale","dataSize","isHorizontal","xValues","xTickCount","minIndex","maxIndex","geometryOptions","allLine","SORT_MAP","themeColor","colors10","groupScale","leftView","rightView","leftItems","rightItems","yF","changeVisible","unchecked","legendItem_1","curLegendItem","originValue","DualAxes","areaOptions","RadarTooltipController","getTooltipItems","getTooltipCfg","cfgTitle","hintItems","dataArray","title_1","result_1","displayTitle","RadarTooltipAction","show","controller","getTooltipController","hide","Radar","follow","SOURCE_ATTRIBUTE_NAME","PLOT_CONTAINER_OPTIONS","Plot","getElementById","createG2","bindEvents","renderer","minGap","getChartSize","localRefresh","chartSize","bindSizeSensor","status","getStates","stateObjects","states","changeSize","unbindSizeSensor","off","forceFit","sectorStyle","Rose","DEFAULT_TOOLTIP_OPTIONS","containerTpl","itemTpl","domStyles","TinyColumn","TinyArea","findViewById","getViews","getSilbingViews","Stage","notice","DEV","BETA","STABLE","Lab","getTooltipMapping","defaultFields","conversionTagFormatter","FIRST_AXES_VIEW","SECOND_AXES_VIEW","SERIES_FIELD_KEY","hopeData","groupData","data1","data2","autoPadding","p2","__axisPosition","instance","firstView","secondView","firstViewData","secondViewData","aliasMap","metaKey","leftGeometry","rightGeometry","BidirectionalBar","P","processRangeData","getIndicatorData","getRangeData","clampTicks","getReplaceAttrs","getPolygonCentroid","getArcPath","getSectorPath","polarToCartesian","util_1","getPointsBox","isEmpty","centerY","angleInRadian","startAngleInRadian","endAngleInRadian","innerStart","innerEnd","middlePoint","innerMiddlePoint","circlePathCommands","arcSweep","sectorPathCommands","isNumberEqual","shapeModel","coordStartAngle","coordEndAngle","diffAngle","xs","ys","isNumber","former","diff","sourceShape","targetShape","originAttrs","newAttrs","sizeRatio","heatmap","checkedSizeRatio","heatmapStyle","maxRadius","radiusRatio","maxSideLength","lenRatio","sideLength","Heatmap","alignTick","TREND_FIELD","TREND_UP","TREND_DOWN","TREND_COLOR","getStockData","open_1","close_1","high","low","open","close","openAlias","closeAlias","highAlias","lowAlias","baseGeomTooltipOptions","xFieldVal","openVal","closeVal","highVal","lowVal","tpl","baseTooltipOptions","defaultContent","tooltipCrosshairsText","chartTooltip","Stock"],"mappings":"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","file":"js/chunk-cd5f83ce.776768ca.js","sourcesContent":["/**\n * bullet \n * @param options\n */\nexport function transformData(options) {\n    var data = options.data, xField = options.xField, measureField = options.measureField, rangeField = options.rangeField, targetField = options.targetField, layout = options.layout;\n    var ds = [];\n    var scales = [];\n    data.forEach(function (item, index) {\n        var _a;\n        //  title * range\n        item[rangeField].sort(function (a, b) { return a - b; });\n        item[rangeField].forEach(function (d, i) {\n            var _a;\n            var range = i === 0 ? d : item[rangeField][i] - item[rangeField][i - 1];\n            ds.push((_a = {\n                    rKey: rangeField + \"_\" + i\n                },\n                _a[xField] = xField ? item[xField] : String(index),\n                _a[rangeField] = range,\n                _a));\n        });\n        //  title * measure\n        item[measureField].forEach(function (d, i) {\n            var _a;\n            ds.push((_a = {\n                    mKey: item[measureField].length > 1 ? measureField + \"_\" + i : \"\" + measureField\n                },\n                _a[xField] = xField ? item[xField] : String(index),\n                _a[measureField] = d,\n                _a));\n        });\n        //  title * target\n        ds.push((_a = {\n                tKey: \"\" + targetField\n            },\n            _a[xField] = xField ? item[xField] : String(index),\n            _a[targetField] = item[targetField],\n            _a));\n        // \n        scales.push(item[rangeField], item[measureField], item[targetField]);\n    });\n    // scales \n    var min = Math.min.apply(Math, scales.flat(Infinity));\n    var max = Math.max.apply(Math, scales.flat(Infinity));\n    // min  0  0 \n    min = min > 0 ? 0 : min;\n    // \n    if (layout === 'vertical') {\n        ds.reverse();\n    }\n    return { min: min, max: max, ds: ds };\n}\n//# sourceMappingURL=utils.js.map","import { __assign } from \"tslib\";\nimport { get } from '@antv/util';\nimport { interaction, animation, theme, tooltip, scale } from '../../adaptor/common';\nimport { flow, transformLabel, deepAssign } from '../../utils';\nimport { interval, point } from '../../adaptor/geometries';\nimport { transformData } from './utils';\n/**\n * geometry \n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var bulletStyle = options.bulletStyle, targetField = options.targetField, rangeField = options.rangeField, measureField = options.measureField, xField = options.xField, color = options.color, layout = options.layout, size = options.size, label = options.label;\n    // \n    var _a = transformData(options), min = _a.min, max = _a.max, ds = _a.ds;\n    chart.data(ds);\n    // rangeGeometry\n    var r = deepAssign({}, params, {\n        options: {\n            xField: xField,\n            yField: rangeField,\n            seriesField: 'rKey',\n            isStack: true,\n            label: get(label, 'range'),\n            interval: {\n                color: get(color, 'range'),\n                style: get(bulletStyle, 'range'),\n                size: get(size, 'range'),\n            },\n        },\n    });\n    interval(r);\n    //  tooltip \n    chart.geometries[0].tooltip(false);\n    // measureGeometry\n    var m = deepAssign({}, params, {\n        options: {\n            xField: xField,\n            yField: measureField,\n            seriesField: 'mKey',\n            isStack: true,\n            label: get(label, 'measure'),\n            interval: {\n                color: get(color, 'measure'),\n                style: get(bulletStyle, 'measure'),\n                size: get(size, 'measure'),\n            },\n        },\n    });\n    interval(m);\n    // targetGeometry\n    var t = deepAssign({}, params, {\n        options: {\n            xField: xField,\n            yField: targetField,\n            seriesField: 'tKey',\n            label: get(label, 'target'),\n            point: {\n                color: get(color, 'target'),\n                style: get(bulletStyle, 'target'),\n                size: get(size, 'target') / 2,\n                shape: layout === 'horizontal' ? 'line' : 'hyphen',\n            },\n        },\n    });\n    point(t);\n    // \n    if (layout === 'horizontal') {\n        chart.coordinate().transpose();\n    }\n    return __assign(__assign({}, params), { ext: { data: { min: min, max: max } } });\n}\n/**\n * meta \n * @param params\n */\nexport function meta(params) {\n    var _a, _b;\n    var options = params.options, ext = params.ext;\n    var xAxis = options.xAxis, yAxis = options.yAxis, targetField = options.targetField, rangeField = options.rangeField, measureField = options.measureField, xField = options.xField;\n    var extData = ext.data;\n    return flow(scale((_a = {},\n        _a[xField] = xAxis,\n        _a[measureField] = yAxis,\n        _a), (_b = {},\n        _b[measureField] = { min: extData === null || extData === void 0 ? void 0 : extData.min, max: extData === null || extData === void 0 ? void 0 : extData.max },\n        _b[targetField] = {\n            sync: \"\" + measureField,\n        },\n        _b[rangeField] = {\n            sync: \"\" + measureField,\n        },\n        _b)))(params);\n}\n/**\n * axis \n * @param params\n */\nfunction axis(params) {\n    var chart = params.chart, options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, measureField = options.measureField, rangeField = options.rangeField, targetField = options.targetField;\n    chart.axis(\"\" + rangeField, false);\n    chart.axis(\"\" + targetField, false);\n    //  false \n    if (xAxis === false) {\n        chart.axis(\"\" + xField, false);\n    }\n    else {\n        chart.axis(\"\" + xField, xAxis);\n    }\n    if (yAxis === false) {\n        chart.axis(\"\" + measureField, false);\n    }\n    else {\n        chart.axis(\"\" + measureField, yAxis);\n    }\n    return params;\n}\n/**\n * legend \n * @param params\n */\nfunction legend(params) {\n    var chart = params.chart, options = params.options;\n    var legend = options.legend;\n    chart.removeInteraction('legend-filter');\n    // @TODO  legend\n    chart.legend(legend);\n    //  color  legend, legend\n    chart.legend('rKey', false);\n    chart.legend('mKey', false);\n    chart.legend('tKey', false);\n    return params;\n}\n/**\n * label \n * @param params\n */\nfunction label(params) {\n    var chart = params.chart, options = params.options;\n    var label = options.label, measureField = options.measureField, targetField = options.targetField, rangeField = options.rangeField;\n    var _a = chart.geometries, rangeGeometry = _a[0], measureGeometry = _a[1], targetGeometry = _a[2];\n    if (get(label, 'range')) {\n        rangeGeometry.label(\"\" + rangeField, __assign({ layout: [{ type: 'limit-in-plot' }] }, transformLabel(label.range)));\n    }\n    else {\n        rangeGeometry.label(false);\n    }\n    if (get(label, 'measure')) {\n        measureGeometry.label(\"\" + measureField, __assign({ layout: [{ type: 'limit-in-plot' }] }, transformLabel(label.measure)));\n    }\n    else {\n        measureGeometry.label(false);\n    }\n    if (get(label, 'target')) {\n        targetGeometry.label(\"\" + targetField, __assign({ layout: [{ type: 'limit-in-plot' }] }, transformLabel(label.target)));\n    }\n    else {\n        targetGeometry.label(false);\n    }\n    return params;\n}\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // flow  G2 API\n    flow(geometry, meta, axis, legend, theme, label, tooltip, interaction, animation)(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __extends } from \"tslib\";\nimport { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { adaptor, meta } from './adaptor';\nimport { transformData } from './utils';\nvar Bullet = /** @class */ (function (_super) {\n    __extends(Bullet, _super);\n    function Bullet() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'bullet';\n        return _this;\n    }\n    Bullet.prototype.changeData = function (data) {\n        this.updateOption({ data: data });\n        var _a = transformData(this.options), min = _a.min, max = _a.max, ds = _a.ds;\n        // scale\n        meta({ options: this.options, ext: { data: { min: min, max: max } }, chart: this.chart });\n        this.chart.changeData(ds);\n    };\n    /**\n     * \n     */\n    Bullet.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    Bullet.prototype.getDefaultOptions = function () {\n        return deepAssign({}, _super.prototype.getDefaultOptions.call(this), {\n            layout: 'horizontal',\n            size: {\n                range: 30,\n                measure: 20,\n                target: 20,\n            },\n            xAxis: {\n                tickLine: false,\n                line: null,\n            },\n            bulletStyle: {\n                range: {\n                    fillOpacity: 0.5,\n                },\n            },\n            label: {\n                measure: {\n                    position: 'right',\n                },\n            },\n            tooltip: {\n                // \n                showMarkers: false,\n            },\n        });\n    };\n    return Bullet;\n}(Plot));\nexport { Bullet };\n//# sourceMappingURL=index.js.map","import { clone, sortBy, valuesOfKey, getRange, each, hasKey, groupBy, isEmpty } from '@antv/util';\n//  range\nfunction getBinKey(value, binWidth) {\n    var index = Math.floor(value / binWidth);\n    return [binWidth * index, binWidth * (index + 1)];\n}\n//  sturges \nfunction sturges(values) {\n    return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n/**\n * \n * @param data\n * @param binField\n * @param binWidth\n * @param binNumber\n * @param stackField\n */\nexport function binHistogram(data, binField, binWidth, binNumber, stackField) {\n    var originData_copy = clone(data);\n    //  binField \n    sortBy(originData_copy, binField);\n    //  binField  range\n    var values = valuesOfKey(originData_copy, binField);\n    var range = getRange(values);\n    var rangeWidth = range.max - range.min;\n    //  binWidth binNumber  binWidth \n    var _binWidth = binWidth;\n    if (!binWidth && binNumber) {\n        _binWidth = rangeWidth / binNumber;\n    }\n    //  binWidth  binNumber  Sturges formula  binWidth\n    if (!binWidth && !binNumber) {\n        var _defaultBinNumber = sturges(values);\n        _binWidth = rangeWidth / _defaultBinNumber;\n    }\n    //  key - StatisticData \n    var bins = {};\n    var groups = groupBy(originData_copy, stackField);\n    //  stackField \n    if (isEmpty(groups)) {\n        each(originData_copy, function (data) {\n            var value = data[binField];\n            var bin = getBinKey(value, _binWidth);\n            var binKey = bin[0] + \"-\" + bin[1];\n            if (!hasKey(bins, binKey)) {\n                bins[binKey] = { range: bin, count: 0 };\n            }\n            bins[binKey].count += 1;\n        });\n    }\n    else {\n        Object.keys(groups).forEach(function (groupKey) {\n            each(groups[groupKey], function (data) {\n                var value = data[binField];\n                var bin = getBinKey(value, _binWidth);\n                var binKey = bin[0] + \"-\" + bin[1];\n                var groupKeyBinKey = binKey + \"-\" + groupKey;\n                if (!hasKey(bins, groupKeyBinKey)) {\n                    bins[groupKeyBinKey] = { range: bin, count: 0 };\n                    bins[groupKeyBinKey][stackField] = groupKey;\n                }\n                bins[groupKeyBinKey].count += 1;\n            });\n        });\n    }\n    //  plotData \n    var plotData = [];\n    each(bins, function (bin) {\n        plotData.push(bin);\n    });\n    return plotData;\n}\n//# sourceMappingURL=histogram.js.map","import { __rest } from \"tslib\";\nimport { tooltip, interaction, animation, theme, scale, state } from '../../adaptor/common';\nimport { findGeometry, deepAssign } from '../../utils';\nimport { flow, transformLabel } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { binHistogram } from '../../utils/transform/histogram';\n/**\n * geometry \n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var data = options.data, binField = options.binField, binNumber = options.binNumber, binWidth = options.binWidth, color = options.color, stackField = options.stackField, legend = options.legend, columnStyle = options.columnStyle;\n    // \n    var plotData = binHistogram(data, binField, binWidth, binNumber, stackField);\n    chart.data(plotData);\n    var p = deepAssign({}, params, {\n        options: {\n            xField: 'range',\n            yField: 'count',\n            seriesField: stackField,\n            isStack: true,\n            interval: {\n                color: color,\n                style: columnStyle,\n            },\n        },\n    });\n    interval(p);\n    // \n    if (legend && stackField) {\n        chart.legend(stackField, legend);\n    }\n    return params;\n}\n/**\n * meta \n * @param params\n */\nfunction meta(params) {\n    var options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis;\n    return flow(scale({\n        range: xAxis,\n        count: yAxis,\n    }))(params);\n}\n/**\n * axis \n * @param params\n */\nfunction axis(params) {\n    var chart = params.chart, options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis;\n    //  false \n    if (xAxis === false) {\n        chart.axis('range', false);\n    }\n    else {\n        chart.axis('range', xAxis);\n    }\n    if (yAxis === false) {\n        chart.axis('count', false);\n    }\n    else {\n        chart.axis('count', yAxis);\n    }\n    return params;\n}\n/**\n * label \n * @param params\n */\nfunction label(params) {\n    var chart = params.chart, options = params.options;\n    var label = options.label;\n    var geometry = findGeometry(chart, 'interval');\n    if (!label) {\n        geometry.label(false);\n    }\n    else {\n        var callback = label.callback, cfg = __rest(label, [\"callback\"]);\n        geometry.label({\n            fields: ['count'],\n            callback: callback,\n            cfg: transformLabel(cfg),\n        });\n    }\n    return params;\n}\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // flow  G2 API\n    return flow(geometry, meta, axis, theme, state, label, tooltip, interaction, animation)(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __extends } from \"tslib\";\nimport { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { binHistogram } from '../../utils/transform/histogram';\nimport { adaptor } from './adaptor';\nvar Histogram = /** @class */ (function (_super) {\n    __extends(Histogram, _super);\n    function Histogram() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'histogram';\n        return _this;\n    }\n    Histogram.prototype.changeData = function (data) {\n        this.updateOption({ data: data });\n        var _a = this.options, binField = _a.binField, binNumber = _a.binNumber, binWidth = _a.binWidth, stackField = _a.stackField;\n        this.chart.changeData(binHistogram(data, binField, binWidth, binNumber, stackField));\n    };\n    Histogram.prototype.getDefaultOptions = function () {\n        return deepAssign({}, _super.prototype.getDefaultOptions.call(this), {\n            // @ts-ignore\n            columnStyle: {\n                stroke: '#FFFFFF',\n            },\n            tooltip: {\n                shared: true,\n                showMarkers: false,\n            },\n            interactions: [{ type: 'active-region' }],\n        });\n    };\n    /**\n     * \n     */\n    Histogram.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Histogram;\n}(Plot));\nexport { Histogram };\n//# sourceMappingURL=index.js.map","import { clamp } from '@antv/util';\nimport { isRealNumber } from '../../utils/number';\n/**\n * \n */\nexport function getProgressData(percent) {\n    var clampPercent = clamp(isRealNumber(percent) ? percent : 0, 0, 1);\n    return [\n        {\n            type: 'current',\n            percent: clampPercent,\n        },\n        {\n            type: 'target',\n            percent: 1 - clampPercent,\n        },\n    ];\n}\n//# sourceMappingURL=utils.js.map","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import { __extends } from \"tslib\";\nimport { Util, Action } from '@antv/g2';\nimport { isEqual } from '@antv/util';\nimport { transform } from '../../../utils/matrix';\n/**\n *   action\n */\nvar PieLegendAction = /** @class */ (function (_super) {\n    __extends(PieLegendAction, _super);\n    function PieLegendAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * \n     */\n    PieLegendAction.prototype.getActiveElements = function () {\n        var delegateObject = Util.getDelegationObject(this.context);\n        if (delegateObject) {\n            var view = this.context.view;\n            var component = delegateObject.component, item_1 = delegateObject.item;\n            var field_1 = component.get('field');\n            if (field_1) {\n                var elements = view.geometries[0].elements;\n                return elements.filter(function (ele) { return ele.getModel().data[field_1] === item_1.value; });\n            }\n        }\n        return [];\n    };\n    /**\n     * \n     */\n    PieLegendAction.prototype.getActiveElementLabels = function () {\n        var view = this.context.view;\n        var elements = this.getActiveElements();\n        var labels = view.geometries[0].labelsContainer.getChildren();\n        return labels.filter(function (label) { return elements.find(function (ele) { return isEqual(ele.getData(), label.get('data')); }); });\n    };\n    PieLegendAction.prototype.transfrom = function (offset) {\n        if (offset === void 0) { offset = 7.5; }\n        var elements = this.getActiveElements();\n        var elementLabels = this.getActiveElementLabels();\n        elements.forEach(function (element, idx) {\n            var labelShape = elementLabels[idx];\n            var coordinate = element.geometry.coordinate;\n            if (coordinate.isPolar && coordinate.isTransposed) {\n                var _a = Util.getAngle(element.getModel(), coordinate), startAngle = _a.startAngle, endAngle = _a.endAngle;\n                var middleAngle = (startAngle + endAngle) / 2;\n                var r = offset;\n                var x = r * Math.cos(middleAngle);\n                var y = r * Math.sin(middleAngle);\n                element.shape.setMatrix(transform([['t', x, y]]));\n                labelShape.setMatrix(transform([['t', x, y]]));\n            }\n        });\n    };\n    PieLegendAction.prototype.active = function () {\n        this.transfrom();\n    };\n    /**\n     * \n     */\n    PieLegendAction.prototype.reset = function () {\n        this.transfrom(0);\n    };\n    return PieLegendAction;\n}(Action));\nexport { PieLegendAction };\n//# sourceMappingURL=pie-legend-action.js.map","import { __assign, __extends } from \"tslib\";\nimport { Action, Util } from '@antv/g2';\nimport { each, get, isFunction, isString } from '@antv/util';\nimport { adapteStyle, setStatisticContainerStyle } from '../../../utils/statistic';\n/**\n * Pie  Action\n */\nvar StatisticAction = /** @class */ (function (_super) {\n    __extends(StatisticAction, _super);\n    function StatisticAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StatisticAction.prototype.getAnnotations = function (_view) {\n        var view = _view || this.context.view;\n        // @ts-ignore\n        return view.getController('annotation').option;\n    };\n    StatisticAction.prototype.getInitialAnnotation = function () {\n        return this.initialAnnotation;\n    };\n    StatisticAction.prototype.init = function () {\n        var _this = this;\n        var view = this.context.view;\n        view.removeInteraction('tooltip');\n        view.on('afterchangesize', function () {\n            var annotations = _this.getAnnotations(view);\n            _this.initialAnnotation = annotations;\n        });\n    };\n    StatisticAction.prototype.change = function () {\n        var _a = this.context, view = _a.view, event = _a.event;\n        var annotations = this.getAnnotations();\n        if (!this.initialAnnotation) {\n            this.initialAnnotation = annotations;\n        }\n        var data = ((event === null || event === void 0 ? void 0 : event.data) || {}).data;\n        if (event.type.match('legend-item')) {\n            var delegateObject = Util.getDelegationObject(this.context);\n            // @ts-ignore\n            var colorField_1 = view.getGroupedFields()[0];\n            if (delegateObject && colorField_1) {\n                var item_1 = delegateObject.item;\n                data = view.getData().find(function (d) { return d[colorField_1] === item_1.value; });\n            }\n        }\n        if (data) {\n            var annotationController_1 = view.getController('annotation');\n            annotationController_1.clear(true);\n            // @ts-ignore\n            var _b = view.getScaleFields(), angleField_1 = _b[1], colorField_2 = _b[2];\n            var angleScale_1 = view.getScaleByField(angleField_1);\n            var colorScale_1 = view.getScaleByField(colorField_2);\n            var annotationOptions_1 = annotations.filter(function (a) { return !get(a, 'key', '').match('statistic'); });\n            var statisticOptions = annotations.filter(function (a) { return get(a, 'key', '').match('statistic'); });\n            var titleOpt_1 = statisticOptions.filter(function (opt) { return opt.key === 'top-statistic'; });\n            var contentOpt_1 = statisticOptions.filter(function (opt) { return opt.key === 'bottom-statistic'; });\n            each(statisticOptions, function (option) {\n                var text;\n                var transform;\n                if (option.key === 'top-statistic') {\n                    text = colorScale_1 ? colorScale_1.getText(data[colorField_2]) : null;\n                    transform = contentOpt_1 ? 'translate(-50%, -100%)' : 'translate(-50%, -50%)';\n                }\n                else {\n                    text = angleScale_1 ? angleScale_1.getText(data[angleField_1]) : data[angleField_1];\n                    transform = titleOpt_1 ? 'translate(-50%, 0)' : 'translate(-50%,-50%)';\n                }\n                annotationOptions_1.push(__assign(__assign({}, option), { html: function (container, view) {\n                        var coordinate = view.getCoordinate();\n                        var containerWidth = coordinate.getRadius() * coordinate.innerRadius * 2;\n                        var style = isFunction(option.style) ? option.style() : option.style;\n                        setStatisticContainerStyle(container, __assign({ width: containerWidth + \"px\", transform: transform }, adapteStyle(style)));\n                        var filteredData = view.getData();\n                        if (option.customHtml) {\n                            return option.customHtml(container, view, data, filteredData);\n                        }\n                        if (option.formatter) {\n                            text = option.formatter(data, filteredData);\n                        }\n                        // todo G2  & G2  number\n                        return text ? (isString(text) ? text : \"\" + text) : '<div></div>';\n                    } }));\n                annotationOptions_1.forEach(function (opt) {\n                    // @ts-ignore\n                    annotationController_1.annotation(opt);\n                });\n                view.render(true);\n            });\n        }\n    };\n    StatisticAction.prototype.reset = function () {\n        var view = this.context.view;\n        var annotationController = view.getController('annotation');\n        annotationController.clear(true);\n        var initialStatistic = this.getInitialAnnotation();\n        each(initialStatistic, function (a) {\n            view.annotation()[a.type](a);\n        });\n        view.render(true);\n    };\n    return StatisticAction;\n}(Action));\nexport { StatisticAction };\n//# sourceMappingURL=pie-statistic-action.js.map","import { registerAction, registerInteraction } from '@antv/g2';\nimport { PieLegendAction } from './pie-legend-action';\nimport { StatisticAction } from './pie-statistic-action';\nregisterAction('pie-statistic', StatisticAction);\nregisterInteraction('pie-statistic-active', {\n    start: [{ trigger: 'element:mouseenter', action: 'pie-statistic:change' }],\n    end: [{ trigger: 'element:mouseleave', action: 'pie-statistic:reset' }],\n});\nregisterAction('pie-legend', PieLegendAction);\nregisterInteraction('pie-legend-active', {\n    start: [{ trigger: 'legend-item:mouseenter', action: 'pie-legend:active' }],\n    end: [{ trigger: 'legend-item:mouseleave', action: 'pie-legend:reset' }],\n});\n//# sourceMappingURL=index.js.map","import { __extends } from \"tslib\";\nimport { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { adaptor, pieAnnotation } from './adaptor';\nimport { DEFAULT_OPTIONS } from './contants';\nimport { isAllZero, processIllegalData } from './utils';\nimport './interactions';\nvar Pie = /** @class */ (function (_super) {\n    __extends(Pie, _super);\n    function Pie() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'pie';\n        return _this;\n    }\n    /**\n     *   \n     * @static \n     */\n    Pie.getDefaultOptions = function () {\n        return DEFAULT_OPTIONS;\n    };\n    /**\n     * \n     * @param data\n     */\n    Pie.prototype.changeData = function (data) {\n        this.chart.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null));\n        var prevOptions = this.options;\n        var angleField = this.options.angleField;\n        var prevData = processIllegalData(prevOptions.data, angleField);\n        var curData = processIllegalData(data, angleField);\n        //  0\n        if (isAllZero(prevData, angleField) || isAllZero(curData, angleField)) {\n            this.update({ data: data });\n        }\n        else {\n            this.updateOption({ data: data });\n            this.chart.data(curData);\n            // todo  G2  afterrender  annotations\n            pieAnnotation({ chart: this.chart, options: this.options });\n            this.chart.render(true);\n        }\n        this.chart.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null));\n    };\n    /**\n     *   ,  base \n     */\n    Pie.prototype.getDefaultOptions = function () {\n        return Pie.getDefaultOptions();\n    };\n    /**\n     *   \n     */\n    Pie.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Pie;\n}(Plot));\nexport { Pie };\n//# sourceMappingURL=index.js.map","import { __assign } from \"tslib\";\nimport { map, find, each, isObject } from '@antv/util';\nimport { getTheme } from '@antv/g2';\nimport { deepAssign } from '../utils';\nimport { conversionTagFormatter } from '../utils/conversion';\nfunction getConversionTagOptionsWithDefaults(options, horizontal) {\n    return deepAssign({\n        size: horizontal ? 32 : 80,\n        spacing: horizontal ? 8 : 12,\n        offset: horizontal ? 32 : 0,\n        arrow: options.arrow !== false && {\n            headSize: 12,\n            style: {\n                fill: 'rgba(0, 0, 0, 0.05)',\n            },\n        },\n        text: options.text !== false && {\n            style: {\n                fontSize: 12,\n                fill: 'rgba(0, 0, 0, 0.85)',\n                textAlign: 'center',\n                textBaseline: 'middle',\n            },\n            formatter: conversionTagFormatter,\n        },\n    }, options);\n}\nfunction parsePoints(coordinate, element) {\n    // @ts-ignore\n    return map(element.getModel().points, function (point) { return coordinate.convertPoint(point); });\n}\nfunction renderArrowTag(config, elemPrev, elemNext) {\n    var view = config.view, geometry = config.geometry, group = config.group, options = config.options, horizontal = config.horizontal;\n    var offset = options.offset, size = options.size, arrow = options.arrow;\n    var coordinate = view.getCoordinate();\n    var pointPrev = parsePoints(coordinate, elemPrev)[horizontal ? 3 : 0];\n    var pointNext = parsePoints(coordinate, elemNext)[horizontal ? 0 : 3];\n    var totalHeight = pointNext.y - pointPrev.y;\n    var totalWidth = pointNext.x - pointPrev.x;\n    if (typeof arrow === 'boolean') {\n        return;\n    }\n    var headSize = arrow.headSize;\n    var spacing = options.spacing;\n    var points;\n    if (horizontal) {\n        if ((totalWidth - headSize) / 2 < spacing) {\n            // \n            spacing = Math.max(1, (totalWidth - headSize) / 2);\n            points = [\n                [pointPrev.x + spacing, pointPrev.y - offset],\n                [pointPrev.x + spacing, pointPrev.y - offset - size],\n                [pointNext.x - spacing, pointNext.y - offset - size / 2],\n            ];\n        }\n        else {\n            // \n            points = [\n                [pointPrev.x + spacing, pointPrev.y - offset],\n                [pointPrev.x + spacing, pointPrev.y - offset - size],\n                [pointNext.x - spacing - headSize, pointNext.y - offset - size],\n                [pointNext.x - spacing, pointNext.y - offset - size / 2],\n                [pointNext.x - spacing - headSize, pointNext.y - offset],\n            ];\n        }\n    }\n    else {\n        if ((totalHeight - headSize) / 2 < spacing) {\n            // \n            spacing = Math.max(1, (totalHeight - headSize) / 2);\n            points = [\n                [pointPrev.x + offset, pointPrev.y + spacing],\n                [pointPrev.x + offset + size, pointPrev.y + spacing],\n                [pointNext.x + offset + size / 2, pointNext.y - spacing],\n            ];\n        }\n        else {\n            // \n            points = [\n                [pointPrev.x + offset, pointPrev.y + spacing],\n                [pointPrev.x + offset + size, pointPrev.y + spacing],\n                [pointNext.x + offset + size, pointNext.y - spacing - headSize],\n                [pointNext.x + offset + size / 2, pointNext.y - spacing],\n                [pointNext.x + offset, pointNext.y - spacing - headSize],\n            ];\n        }\n    }\n    group.addShape('polygon', {\n        id: view.id + \"-conversion-tag-arrow-\" + geometry.getElementId(elemPrev.getModel().mappingData),\n        name: 'conversion-tag-arrow',\n        attrs: __assign(__assign({}, (arrow.style || {})), { points: points }),\n    });\n}\nfunction renderTextTag(config, elemPrev, elemNext) {\n    var _a, _b, _c;\n    var view = config.view, geometry = config.geometry, group = config.group, options = config.options, field = config.field, horizontal = config.horizontal;\n    var offset = options.offset, size = options.size;\n    if (typeof options.text === 'boolean') {\n        return;\n    }\n    var coordinate = view.getCoordinate();\n    var text = ((_a = options.text) === null || _a === void 0 ? void 0 : _a.formatter) && ((_b = options.text) === null || _b === void 0 ? void 0 : _b.formatter(elemPrev.getData()[field], elemNext.getData()[field]));\n    var pointPrev = parsePoints(coordinate, elemPrev)[horizontal ? 3 : 0];\n    var pointNext = parsePoints(coordinate, elemNext)[horizontal ? 0 : 3];\n    var textShape = group.addShape('text', {\n        id: view.id + \"-conversion-tag-text-\" + geometry.getElementId(elemPrev.getModel().mappingData),\n        name: 'conversion-tag-text',\n        attrs: __assign(__assign({}, (((_c = options.text) === null || _c === void 0 ? void 0 : _c.style) || {})), { text: text, x: horizontal ? (pointPrev.x + pointNext.x) / 2 : pointPrev.x + offset + size / 2, y: horizontal ? pointPrev.y - offset - size / 2 : (pointPrev.y + pointNext.y) / 2 }),\n    });\n    if (horizontal) {\n        var totalWidth = pointNext.x - pointPrev.x;\n        var textWidth = textShape.getBBox().width;\n        if (textWidth > totalWidth) {\n            var cWidth = textWidth / text.length;\n            var cEnd = Math.max(1, Math.ceil(totalWidth / cWidth) - 1);\n            var textAdjusted = text.slice(0, cEnd) + \"...\";\n            textShape.attr('text', textAdjusted);\n        }\n    }\n}\nfunction renderTag(options, elemPrev, elemNext) {\n    renderArrowTag(options, elemPrev, elemNext);\n    renderTextTag(options, elemPrev, elemNext);\n}\n/**\n *  adaptor/\n * @param field \n * @param horizontal \n * @param disabled \n */\nexport function conversionTag(field, horizontal, disabled) {\n    if (horizontal === void 0) { horizontal = true; }\n    if (disabled === void 0) { disabled = false; }\n    return function (params) {\n        var options = params.options, chart = params.chart;\n        var conversionTag = options.conversionTag, theme = options.theme;\n        if (conversionTag && !disabled) {\n            //  1/3\n            chart.theme(deepAssign({}, isObject(theme) ? theme : getTheme(theme), {\n                columnWidthRatio: 1 / 3,\n            }));\n            //   shape annotation \n            chart.annotation().shape({\n                render: function (container, view) {\n                    var group = container.addGroup({\n                        id: chart.id + \"-conversion-tag-group\",\n                        name: 'conversion-tag-group',\n                    });\n                    var interval = find(chart.geometries, function (geom) { return geom.type === 'interval'; });\n                    var config = {\n                        view: view,\n                        geometry: interval,\n                        group: group,\n                        field: field,\n                        horizontal: horizontal,\n                        options: getConversionTagOptionsWithDefaults(conversionTag, horizontal),\n                    };\n                    var elements = horizontal ? interval.elements : interval.elements.slice().reverse();\n                    each(elements, function (elem, idx) {\n                        if (idx > 0) {\n                            renderTag(config, elements[idx - 1], elem);\n                        }\n                    });\n                },\n            });\n        }\n        return params;\n    };\n}\n//# sourceMappingURL=conversion-tag.js.map","import { registerInteraction } from '@antv/g2';\nvar INTERACTION_MAP = {\n    hover: '__interval-connected-area-hover__',\n    click: '__interval-connected-area-click__',\n};\n/** hover  */\nregisterInteraction(INTERACTION_MAP.hover, {\n    start: [\n        {\n            trigger: \"interval:mouseenter\",\n            action: ['element-highlight-by-color:highlight', 'element-link-by-color:link'],\n        },\n    ],\n    end: [\n        {\n            trigger: 'interval:mouseleave',\n            action: ['element-highlight-by-color:reset', 'element-link-by-color:unlink'],\n        },\n    ],\n});\n/** click  */\nregisterInteraction(INTERACTION_MAP.click, {\n    start: [\n        {\n            trigger: \"interval:click\",\n            action: [\n                'element-highlight-by-color:clear',\n                'element-highlight-by-color:highlight',\n                'element-link-by-color:clear',\n                'element-link-by-color:unlink',\n                'element-link-by-color:link',\n            ],\n        },\n    ],\n    end: [\n        {\n            trigger: 'document:mousedown',\n            action: ['element-highlight-by-color:clear', 'element-link-by-color:clear'],\n        },\n    ],\n});\n/**\n *  adaptor/\n * @param disable\n */\nexport function connectedArea(disable) {\n    if (disable === void 0) { disable = false; }\n    return function (params) {\n        var chart = params.chart, options = params.options;\n        var connectedArea = options.connectedArea;\n        var clear = function () {\n            chart.removeInteraction(INTERACTION_MAP.hover);\n            chart.removeInteraction(INTERACTION_MAP.click);\n        };\n        if (!disable && connectedArea) {\n            var trigger = connectedArea.trigger || 'hover';\n            clear();\n            chart.interaction(INTERACTION_MAP[trigger]);\n        }\n        else {\n            clear();\n        }\n        return params;\n    };\n}\n//# sourceMappingURL=connected-area.js.map","import { __assign, __rest } from \"tslib\";\nimport { findGeometry } from '../../utils';\nimport { tooltip, slider, interaction, animation, theme, scale, annotation, scrollbar, limitInPlot, state, } from '../../adaptor/common';\nimport { conversionTag } from '../../adaptor/conversion-tag';\nimport { connectedArea } from '../../adaptor/connected-area';\nimport { interval } from '../../adaptor/geometries';\nimport { flow, transformLabel, deepAssign } from '../../utils';\nimport { getDataWhetherPecentage } from '../../utils/transform/percent';\nimport { adjustYMetaByZero } from '../../utils/data';\n/**\n * defaultOptions\n * @param params\n */\nfunction defaultOptions(params) {\n    var options = params.options;\n    //  legend \n    var legend = options.legend;\n    var seriesField = options.seriesField, isStack = options.isStack;\n    if (seriesField) {\n        if (legend !== false) {\n            legend = __assign({ position: isStack ? 'right-top' : 'top-left' }, legend);\n        }\n    }\n    else {\n        legend = false;\n    }\n    // @ts-ignore \n    params.options.legend = legend;\n    return params;\n}\n/**\n * \n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var data = options.data, columnStyle = options.columnStyle, color = options.color, columnWidthRatio = options.columnWidthRatio, isPercent = options.isPercent, xField = options.xField, yField = options.yField, seriesField = options.seriesField, tooltip = options.tooltip;\n    chart.data(getDataWhetherPecentage(data, yField, xField, yField, isPercent));\n    //  % , \n    var tooltipOptions = isPercent\n        ? __assign({ formatter: function (datum) { return ({\n                name: datum[seriesField] || datum[xField],\n                value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n            }); } }, tooltip) : tooltip;\n    var p = deepAssign({}, params, {\n        options: {\n            widthRatio: columnWidthRatio,\n            tooltip: tooltipOptions,\n            interval: {\n                style: columnStyle,\n                color: color,\n            },\n        },\n    });\n    interval(p);\n    return params;\n}\n/**\n * meta \n * @param params\n */\nexport function meta(params) {\n    var _a, _b;\n    var options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField, data = options.data, isPercent = options.isPercent;\n    var percentYMeta = isPercent ? { max: 1, min: 0, minLimit: 0, maxLimit: 1 } : {};\n    return flow(scale((_a = {},\n        _a[xField] = xAxis,\n        _a[yField] = yAxis,\n        _a), (_b = {},\n        _b[xField] = {\n            type: 'cat',\n        },\n        _b[yField] = __assign(__assign({}, adjustYMetaByZero(data, yField)), percentYMeta),\n        _b)))(params);\n}\n/**\n * axis \n * @param params\n */\nfunction axis(params) {\n    var chart = params.chart, options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField;\n    //  false \n    if (xAxis === false) {\n        chart.axis(xField, false);\n    }\n    else {\n        chart.axis(xField, xAxis);\n    }\n    if (yAxis === false) {\n        chart.axis(yField, false);\n    }\n    else {\n        chart.axis(yField, yAxis);\n    }\n    return params;\n}\n/**\n * legend \n * @param params\n */\nexport function legend(params) {\n    var chart = params.chart, options = params.options;\n    var legend = options.legend, seriesField = options.seriesField;\n    if (legend && seriesField) {\n        chart.legend(seriesField, legend);\n    }\n    else if (legend === false) {\n        chart.legend(false);\n    }\n    return params;\n}\n/**\n * \n * @param params\n */\nfunction label(params) {\n    var chart = params.chart, options = params.options;\n    var label = options.label, yField = options.yField, isRange = options.isRange;\n    var geometry = findGeometry(chart, 'interval');\n    if (!label) {\n        geometry.label(false);\n    }\n    else {\n        var callback = label.callback, cfg = __rest(label, [\"callback\"]);\n        geometry.label({\n            fields: [yField],\n            callback: callback,\n            cfg: __assign({ \n                //  label layout  layout  position  layout\n                layout: (cfg === null || cfg === void 0 ? void 0 : cfg.position) ? undefined\n                    : [\n                        { type: 'interval-adjust-position' },\n                        { type: 'interval-hide-overlap' },\n                        { type: 'adjust-color' },\n                        { type: 'limit-in-plot', cfg: { action: 'hide' } },\n                    ] }, transformLabel(isRange\n                ? __assign({ content: function (item) {\n                        var _a;\n                        return (_a = item[yField]) === null || _a === void 0 ? void 0 : _a.join('-');\n                    } }, cfg) : cfg)),\n        });\n    }\n    return params;\n}\n/**\n * \n * @param params\n */\nexport function adaptor(params, isBar) {\n    if (isBar === void 0) { isBar = false; }\n    var options = params.options;\n    var seriesField = options.seriesField;\n    return flow(defaultOptions, // \n    theme, // theme  geometry \n    state, geometry, meta, axis, legend, tooltip, slider, scrollbar, label, interaction, animation, annotation(), conversionTag(options.yField, !isBar, !!seriesField), // \n    connectedArea(!options.isStack), limitInPlot)(params);\n}\n//# sourceMappingURL=adaptor.js.map","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","export * from './common';\nexport * from './tooltip';\nexport * from './state';\nexport * from './attr';\nexport * from './statistic';\nexport * from './meta';\n//# sourceMappingURL=index.js.map","import { get, isNumber } from '@antv/util';\n/**\n * \n * @param data\n * @param field\n */\nexport function adjustYMetaByZero(data, field) {\n    // \n    var numberData = data.filter(function (datum) {\n        var v = get(datum, [field]);\n        return isNumber(v) && !isNaN(v);\n    });\n    var gtZero = numberData.every(function (datum) { return get(datum, [field]) >= 0; });\n    var ltZero = numberData.every(function (datum) { return get(datum, [field]) <= 0; });\n    //  { min: 0, max: undefined }  update({ max: 0 })  { min: 0, max: 0 }\n    if (gtZero) {\n        return { min: 0 };\n    }\n    if (ltZero) {\n        return { max: 0 };\n    }\n    return {};\n}\n/**\n * \n * @param data\n * @param sourceField\n * @param targetField\n * @param weightField\n */\nexport function transformDataToNodeLinkData(data, sourceField, targetField, weightField) {\n    if (!Array.isArray(data)) {\n        return {\n            nodes: [],\n            links: [],\n        };\n    }\n    //   const nodes = [];\n    var links = [];\n    // \n    var nodesMap = {};\n    var nodesIndex = -1;\n    //  chord layout \n    data.forEach(function (datum) {\n        var source = datum[sourceField];\n        var target = datum[targetField];\n        var weight = datum[weightField];\n        // source node\n        if (!nodesMap[source]) {\n            nodesMap[source] = {\n                id: ++nodesIndex,\n                name: source,\n            };\n        }\n        if (!nodesMap[target]) {\n            nodesMap[target] = {\n                id: ++nodesIndex,\n                name: target,\n            };\n        }\n        // links\n        links.push({\n            source: nodesMap[source].id,\n            target: nodesMap[target].id,\n            // sourceName: source,\n            // targetName: target,\n            value: weight,\n        });\n    });\n    return {\n        nodes: Object.values(nodesMap),\n        links: links,\n    };\n}\n//# sourceMappingURL=data.js.map","var CAT_VALUE = 'liquid';\n/**\n * \n */\nexport function getLiquidData(percent) {\n    return [{ percent: percent, type: CAT_VALUE }];\n}\n//# sourceMappingURL=utils.js.map","import { get } from '@antv/util';\nimport { interaction, animation, theme, scale } from '../../adaptor/common';\nimport { flow, deepAssign, renderStatistic } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { getLiquidData } from './utils';\n/**\n * geometry \n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var percent = options.percent, color = options.color, liquidStyle = options.liquidStyle, radius = options.radius, outline = options.outline, wave = options.wave;\n    chart.scale({\n        percent: {\n            min: 0,\n            max: 1,\n        },\n    });\n    chart.data(getLiquidData(percent));\n    var p = deepAssign({}, params, {\n        options: {\n            xField: 'type',\n            yField: 'percent',\n            // radius  columnWidthRatio \n            //   redius \n            widthRatio: radius,\n            interval: {\n                color: color,\n                style: liquidStyle,\n                shape: 'liquid-fill-gauge',\n            },\n        },\n    });\n    var ext = interval(p).ext;\n    var geometry = ext.geometry;\n    //  radius  shape \n    geometry.customInfo({\n        radius: radius,\n        outline: outline,\n        wave: wave,\n    });\n    // \n    chart.legend(false);\n    chart.axis(false);\n    chart.tooltip(false);\n    return params;\n}\n/**\n * \n * @param params\n */\nexport function statistic(params, updated) {\n    var chart = params.chart, options = params.options;\n    var statistic = options.statistic, percent = options.percent, meta = options.meta;\n    // \n    chart.getController('annotation').clear(true);\n    if (statistic.content && !statistic.content.formatter) {\n        var metaFormatter_1 = get(meta, ['percent', 'formatter']);\n        // @ts-ignore\n        statistic.content.formatter = function (_a) {\n            var percent = _a.percent;\n            return metaFormatter_1 ? metaFormatter_1(percent) : (percent * 100).toFixed(2) + \"%\";\n        };\n    }\n    renderStatistic(chart, { statistic: statistic, plotType: 'liquid' }, { percent: percent });\n    if (updated) {\n        chart.render(true);\n    }\n    return params;\n}\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // flow  G2 API\n    return flow(geometry, statistic, scale({}), animation, theme, interaction)(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __assign } from \"tslib\";\nimport { registerShape } from '@antv/g2';\nimport { reduce, isNumber, mix } from '@antv/util';\nimport { transform } from '../../../utils/matrix';\nvar DURATION = 5000;\n/**\n * \n * @param min\n * @param max\n * @param factor\n */\nfunction lerp(min, max, factor) {\n    return min + (max - min) * factor;\n}\n/**\n *  attrs\n * @param cfg\n */\nfunction getFillAttrs(cfg) {\n    var attrs = __assign({ opacity: 1 }, cfg.style);\n    if (cfg.color && !attrs.fill) {\n        attrs.fill = cfg.color;\n    }\n    return attrs;\n}\n/**\n *  attrs\n * @param cfg\n */\nfunction getLineAttrs(cfg) {\n    var defaultAttrs = {\n        fill: '#fff',\n        fillOpacity: 0,\n        lineWidth: 4,\n    };\n    var attrs = mix({}, defaultAttrs, cfg.style);\n    if (cfg.color && !attrs.stroke) {\n        attrs.stroke = cfg.color;\n    }\n    if (isNumber(cfg.opacity)) {\n        attrs.opacity = attrs.strokeOpacity = cfg.opacity;\n    }\n    return attrs;\n}\n/**\n * \n * Using Bezier curves to fit sine wave.\n * There is 4 control points for each curve of wave,\n * which is at 1/4 wave length of the sine wave.\n *\n * The control points for a wave from (a) to (d) are a-b-c-d:\n *          c *----* d\n *     b *\n *       |\n * ... a * ..................\n *\n * whose positions are a: (0, 0), b: (0.5, 0.5), c: (1, 1), d: (PI / 2, 1)\n *\n * @param x          x position of the left-most point (a)\n * @param stage      0-3, stating which part of the wave it is\n * @param waveLength wave length of the sine wave\n * @param amplitude  wave amplitude\n * @return \n */\nfunction getWaterWavePositions(x, stage, waveLength, amplitude) {\n    if (stage === 0) {\n        return [\n            [x + ((1 / 2) * waveLength) / Math.PI / 2, amplitude / 2],\n            [x + ((1 / 2) * waveLength) / Math.PI, amplitude],\n            [x + waveLength / 4, amplitude],\n        ];\n    }\n    if (stage === 1) {\n        return [\n            [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), amplitude],\n            [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), amplitude / 2],\n            [x + waveLength / 4, 0],\n        ];\n    }\n    if (stage === 2) {\n        return [\n            [x + ((1 / 2) * waveLength) / Math.PI / 2, -amplitude / 2],\n            [x + ((1 / 2) * waveLength) / Math.PI, -amplitude],\n            [x + waveLength / 4, -amplitude],\n        ];\n    }\n    return [\n        [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 2), -amplitude],\n        [x + (((1 / 2) * waveLength) / Math.PI / 2) * (Math.PI - 1), -amplitude / 2],\n        [x + waveLength / 4, 0],\n    ];\n}\n/**\n * \n * @param radius          \n * @param waterLevel      \n * @param waveLength      \n * @param phase           \n * @param amplitude       \n * @param cx              x\n * @param cy              y\n * @return path            \n * @reference http://gitlab.alipay-inc.com/datavis/g6/blob/1.2.0/src/graph/utils/path.js#L135\n */\nfunction getWaterWavePath(radius, waterLevel, waveLength, phase, amplitude, cx, cy) {\n    var curves = Math.ceil(((2 * radius) / waveLength) * 4) * 4;\n    var path = [];\n    var _phase = phase;\n    // map phase to [-Math.PI * 2, 0]\n    while (_phase < -Math.PI * 2) {\n        _phase += Math.PI * 2;\n    }\n    while (_phase > 0) {\n        _phase -= Math.PI * 2;\n    }\n    _phase = (_phase / Math.PI / 2) * waveLength;\n    var left = cx - radius + _phase - radius * 2;\n    /**\n     * top-left corner as start point\n     *\n     * draws this point\n     *  |\n     * \\|/\n     *  ~~~~~~~~\n     *  |      |\n     *  +------+\n     */\n    path.push(['M', left, waterLevel]);\n    /**\n     * top wave\n     *\n     * ~~~~~~~~ <- draws this sine wave\n     * |      |\n     * +------+\n     */\n    var waveRight = 0;\n    for (var c = 0; c < curves; ++c) {\n        var stage = c % 4;\n        var pos = getWaterWavePositions((c * waveLength) / 4, stage, waveLength, amplitude);\n        path.push([\n            'C',\n            pos[0][0] + left,\n            -pos[0][1] + waterLevel,\n            pos[1][0] + left,\n            -pos[1][1] + waterLevel,\n            pos[2][0] + left,\n            -pos[2][1] + waterLevel,\n        ]);\n        if (c === curves - 1) {\n            waveRight = pos[2][0];\n        }\n    }\n    /**\n     * top-right corner\n     *\n     *                       ~~~~~~~~\n     * 3. draws this line -> |      | <- 1. draws this line\n     *                       +------+\n     *                          ^\n     *                          |\n     *                  2. draws this line\n     */\n    path.push(['L', waveRight + left, cy + radius]);\n    path.push(['L', left, cy + radius]);\n    path.push(['Z']);\n    // path.push(['L', left, waterLevel]);\n    return path;\n}\n/**\n * \n * @param x           x\n * @param y           y\n * @param level        01\n * @param waveCount   \n * @param waveAttrs      \n * @param group       \n * @param clip        \n * @param radius      \n * @param waveLength  \n */\nfunction addWaterWave(x, y, level, waveCount, waveAttrs, group, clip, radius, waveLength) {\n    var fill = waveAttrs.fill, opacity = waveAttrs.opacity;\n    var bbox = clip.getBBox();\n    var width = bbox.maxX - bbox.minX;\n    var height = bbox.maxY - bbox.minY;\n    for (var idx = 0; idx < waveCount; idx++) {\n        var factor = waveCount <= 1 ? 0 : idx / (waveCount - 1);\n        var wave = group.addShape('path', {\n            name: \"waterwave-path\",\n            attrs: {\n                path: getWaterWavePath(radius, bbox.minY + height * level, waveLength, 0, width / 32, // \n                x, y),\n                fill: fill,\n                opacity: lerp(0.2, 0.9, factor) * opacity,\n            },\n        });\n        try {\n            var matrix = transform([['t', waveLength, 0]]);\n            wave.stopAnimate();\n            wave.animate({ matrix: matrix }, {\n                duration: lerp(0.5 * DURATION, DURATION, factor),\n                repeat: true,\n            });\n        }\n        catch (e) {\n            // TODO off-screen canvas  canvas\n            console.warn('off-screen group animate error!');\n        }\n    }\n}\nregisterShape('interval', 'liquid-fill-gauge', {\n    draw: function (cfg, container) {\n        var cx = 0.5;\n        var cy = 0.5;\n        var customInfo = cfg.customInfo;\n        var radio = customInfo.radius;\n        var outline = customInfo.outline;\n        var wave = customInfo.wave;\n        var border = outline.border, distance = outline.distance;\n        var waveCount = wave.count, waveLength = wave.length;\n        //  minX\n        var minX = reduce(cfg.points, function (r, p) {\n            return Math.min(r, p.x);\n        }, Infinity);\n        var center = this.parsePoint({ x: cx, y: cy });\n        var minXPoint = this.parsePoint({ x: minX, y: cy });\n        var halfWidth = center.x - minXPoint.x;\n        //   radius \n        var radius = Math.min(halfWidth, minXPoint.y * radio);\n        var waveAttrs = getFillAttrs(cfg);\n        var circleAttrs = getLineAttrs(cfg);\n        // 1. \n        container.addShape('circle', {\n            name: 'wrap',\n            attrs: mix(circleAttrs, {\n                x: center.x,\n                y: center.y,\n                r: radius,\n                fill: 'transparent',\n                lineWidth: border,\n            }),\n        });\n        // 2.  group\n        var waves = container.addGroup({\n            name: 'waves',\n        });\n        // 3.  clip \n        var clipCircle = waves.setClip({\n            type: 'circle',\n            attrs: {\n                x: center.x,\n                y: center.y,\n                r: radius - distance - border / 2,\n            },\n        });\n        // 4. \n        addWaterWave(center.x, center.y, 1 - cfg.points[1].y, waveCount, waveAttrs, waves, clipCircle, radius * 2, waveLength);\n        return container;\n    },\n});\n//# sourceMappingURL=liquid.js.map","import { __extends } from \"tslib\";\nimport { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { adaptor, statistic } from './adaptor';\nimport { getLiquidData } from './utils';\n// register liquid shape\nimport './shapes/liquid';\n/**\n * \n */\nvar Liquid = /** @class */ (function (_super) {\n    __extends(Liquid, _super);\n    function Liquid() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'liquid';\n        return _this;\n    }\n    Liquid.prototype.getDefaultOptions = function () {\n        return {\n            color: '#6a99f9',\n            radius: 0.9,\n            statistic: {\n                title: false,\n                content: {\n                    formatter: function (_a) {\n                        var percent = _a.percent;\n                        return (percent * 100).toFixed(2) + \"%\";\n                    },\n                    style: {\n                        opacity: 0.75,\n                        fontSize: '30px',\n                        lineHeight: '30px',\n                        textAlign: 'center',\n                    },\n                },\n            },\n            outline: {\n                border: 2,\n                distance: 0,\n            },\n            wave: {\n                count: 3,\n                length: 192,\n            },\n        };\n    };\n    /**\n     * \n     * @param percent\n     */\n    Liquid.prototype.changeData = function (percent) {\n        this.chart.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null));\n        this.updateOption({ percent: percent });\n        this.chart.data(getLiquidData(percent));\n        statistic({ chart: this.chart, options: this.options }, true);\n        this.chart.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null));\n    };\n    /**\n     * \n     */\n    Liquid.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Liquid;\n}(Plot));\nexport { Liquid };\n//# sourceMappingURL=index.js.map","export var Y_FIELD = '$$yField$$';\nexport var DIFF_FIELD = '$$diffField$$';\nexport var ABSOLUTE_FIELD = '$$absoluteField$$';\nexport var IS_TOTAL = '$$isTotal$$';\n//# sourceMappingURL=constants.js.map","import { __assign } from \"tslib\";\nimport { isUndefined, isNumber, get, reduce, isObject } from '@antv/util';\nimport { LEVEL, log } from '../../utils';\nimport { ABSOLUTE_FIELD, DIFF_FIELD, IS_TOTAL, Y_FIELD } from './constants';\n/**\n * @desc [start, end]\n * @param data\n * @param xField\n * @param yField\n * @param totalLabel\n */\nexport function processData(data, xField, yField, newYField, total) {\n    var _a;\n    var newData = [];\n    reduce(data, function (r, d) {\n        var _a;\n        // \n        log(LEVEL.WARN, isNumber(d[yField]), d[yField] + \" is not a valid number\");\n        var value = isUndefined(d[yField]) ? null : d[yField];\n        newData.push(__assign(__assign({}, d), (_a = {}, _a[newYField] = [r, r + value], _a)));\n        return r + value;\n    }, 0);\n    // \n    if (newData.length && total) {\n        var sum = get(newData, [[data.length - 1], newYField, [1]]);\n        newData.push((_a = {},\n            _a[xField] = total.label,\n            _a[yField] = sum,\n            _a[newYField] = [0, sum],\n            _a));\n    }\n    return newData;\n}\n/**\n *   \n */\nexport function transformData(data, xField, yField, total) {\n    var processed = processData(data, xField, yField, Y_FIELD, total);\n    return processed.map(function (d, dIdx) {\n        var _a;\n        if (!isObject(d)) {\n            return d;\n        }\n        return __assign(__assign({}, d), (_a = {}, _a[ABSOLUTE_FIELD] = d[Y_FIELD][1], _a[DIFF_FIELD] = d[Y_FIELD][1] - d[Y_FIELD][0], _a[IS_TOTAL] = dIdx === data.length, _a));\n    });\n}\n//# sourceMappingURL=utils.js.map","import { __assign } from \"tslib\";\nimport { registerShape } from '@antv/g2';\nimport { get } from '@antv/util';\nimport { deepAssign } from '../../utils';\n/**\n *  path\n * @param points\n */\nfunction getRectPath(points) {\n    var path = [];\n    for (var i = 0; i < points.length; i++) {\n        var point = points[i];\n        if (point) {\n            var action = i === 0 ? 'M' : 'L';\n            path.push([action, point.x, point.y]);\n        }\n    }\n    var first = points[0];\n    path.push(['L', first.x, first.y]);\n    path.push(['z']);\n    return path;\n}\n/**\n * \n * @param cfg \n */\nfunction getFillAttrs(cfg) {\n    return deepAssign({}, cfg.defaultStyle, cfg.style, { fill: cfg.color });\n}\nregisterShape('interval', 'waterfall', {\n    draw: function (cfg, container) {\n        var customInfo = cfg.customInfo, points = cfg.points, nextPoints = cfg.nextPoints;\n        var group = container.addGroup();\n        //  \n        var rectPath = this.parsePath(getRectPath(points));\n        var fillAttrs = getFillAttrs(cfg);\n        group.addShape('path', {\n            attrs: __assign(__assign({}, fillAttrs), { path: rectPath }),\n        });\n        //  \n        var leaderLineCfg = get(customInfo, 'leaderLine');\n        if (leaderLineCfg && nextPoints) {\n            var linkPath = [\n                ['M', points[2].x, points[2].y],\n                ['L', nextPoints[0].x, nextPoints[0].y],\n            ];\n            if (points[2].y === nextPoints[1].y) {\n                linkPath[1] = ['L', nextPoints[1].x, nextPoints[1].y];\n            }\n            linkPath = this.parsePath(linkPath);\n            group.addShape('path', {\n                attrs: __assign({ path: linkPath }, (leaderLineCfg.style || {})),\n            });\n        }\n        return group;\n    },\n});\n//# sourceMappingURL=shape.js.map","import { __assign, __rest } from \"tslib\";\nimport { get } from '@antv/util';\nimport { interaction, animation, theme, state, scale, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { findGeometry, flow, transformLabel, deepAssign } from '../../utils';\nimport { Y_FIELD, ABSOLUTE_FIELD, DIFF_FIELD, IS_TOTAL } from './constants';\nimport { transformData } from './utils';\nimport './shape';\n/**\n * \n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var data = options.data, xField = options.xField, yField = options.yField, total = options.total, leaderLine = options.leaderLine, columnWidthRatio = options.columnWidthRatio, waterfallStyle = options.waterfallStyle, risingFill = options.risingFill, fallingFill = options.fallingFill, color = options.color;\n    // \n    chart.data(transformData(data, xField, yField, total));\n    //  colorMapping\n    var colorMapping = color ||\n        function (datum) {\n            if (get(datum, [IS_TOTAL])) {\n                return get(total, ['style', 'fill'], '');\n            }\n            return get(datum, [Y_FIELD, 1]) - get(datum, [Y_FIELD, 0]) > 0 ? risingFill : fallingFill;\n        };\n    var p = deepAssign({}, params, {\n        options: {\n            xField: xField,\n            yField: Y_FIELD,\n            seriesField: xField,\n            rawFields: [yField, DIFF_FIELD, IS_TOTAL, Y_FIELD],\n            widthRatio: columnWidthRatio,\n            interval: {\n                style: waterfallStyle,\n                shape: 'waterfall',\n                color: colorMapping,\n            },\n        },\n    });\n    var ext = interval(p).ext;\n    var geometry = ext.geometry;\n    //  waterfall leaderLineCfg  shape \n    geometry.customInfo({ leaderLine: leaderLine });\n    return params;\n}\n/**\n * meta \n * @param params\n */\nfunction meta(params) {\n    var _a, _b;\n    var options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField, meta = options.meta;\n    var Y_FIELD_META = deepAssign({}, { alias: yField }, get(meta, yField));\n    return flow(scale((_a = {},\n        _a[xField] = xAxis,\n        _a[yField] = yAxis,\n        _a[Y_FIELD] = yAxis,\n        _a), deepAssign({}, meta, (_b = {}, _b[Y_FIELD] = Y_FIELD_META, _b[DIFF_FIELD] = Y_FIELD_META, _b[ABSOLUTE_FIELD] = Y_FIELD_META, _b))))(params);\n}\n/**\n * axis \n * @param params\n */\nfunction axis(params) {\n    var chart = params.chart, options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField;\n    //  false \n    if (xAxis === false) {\n        chart.axis(xField, false);\n    }\n    else {\n        chart.axis(xField, xAxis);\n    }\n    if (yAxis === false) {\n        chart.axis(yField, false);\n        chart.axis(Y_FIELD, false);\n    }\n    else {\n        chart.axis(yField, yAxis);\n        chart.axis(Y_FIELD, yAxis);\n    }\n    return params;\n}\n/**\n * legend  todo  hover \n * @param params\n */\nfunction legend(params) {\n    var chart = params.chart, options = params.options;\n    var legend = options.legend, total = options.total, risingFill = options.risingFill, fallingFill = options.fallingFill;\n    if (legend === false) {\n        chart.legend(false);\n    }\n    else {\n        var items = [\n            {\n                name: '',\n                value: 'increase',\n                marker: { symbol: 'square', style: { r: 5, fill: risingFill } },\n            },\n            {\n                name: '',\n                value: 'decrease',\n                marker: { symbol: 'square', style: { r: 5, fill: fallingFill } },\n            },\n        ];\n        if (total) {\n            items.push({\n                name: total.label || '',\n                value: 'total',\n                marker: {\n                    symbol: 'square',\n                    style: deepAssign({}, { r: 5 }, get(total, 'style')),\n                },\n            });\n        }\n        chart.legend(deepAssign({}, {\n            custom: true,\n            position: 'top',\n            items: items,\n        }, legend));\n        chart.removeInteraction('legend-filter');\n    }\n    return params;\n}\n/**\n * \n * @param params\n */\nfunction label(params) {\n    var chart = params.chart, options = params.options;\n    var label = options.label, labelMode = options.labelMode, xField = options.xField;\n    var geometry = findGeometry(chart, 'interval');\n    if (!label) {\n        geometry.label(false);\n    }\n    else {\n        var callback = label.callback, cfg = __rest(label, [\"callback\"]);\n        geometry.label({\n            fields: labelMode === 'absolute' ? [ABSOLUTE_FIELD, xField] : [DIFF_FIELD, xField],\n            callback: callback,\n            cfg: transformLabel(cfg),\n        });\n    }\n    return params;\n}\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params) {\n    var chart = params.chart, options = params.options;\n    var tooltip = options.tooltip, xField = options.xField, yField = options.yField;\n    if (tooltip !== false) {\n        chart.tooltip(__assign({ showCrosshairs: false, showMarkers: false, shared: true, \n            // tooltip  y \n            fields: [yField] }, tooltip));\n        //  yField  tooltip \n        var geometry_1 = chart.geometries[0];\n        (tooltip === null || tooltip === void 0 ? void 0 : tooltip.formatter) ? geometry_1.tooltip(xField + \"*\" + yField, tooltip.formatter) : geometry_1.tooltip(yField);\n    }\n    else {\n        chart.tooltip(false);\n    }\n    return params;\n}\n/**\n * \n * @param params\n */\nexport function adaptor(params) {\n    return flow(geometry, meta, axis, legend, tooltip, label, state, theme, interaction, animation, annotation())(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __extends } from \"tslib\";\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { transformData } from './utils';\n/**\n * \n */\nvar Waterfall = /** @class */ (function (_super) {\n    __extends(Waterfall, _super);\n    function Waterfall() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'waterfall';\n        return _this;\n    }\n    /**\n     * @override\n     * @param data\n     */\n    Waterfall.prototype.changeData = function (data) {\n        var _a = this.options, xField = _a.xField, yField = _a.yField, total = _a.total;\n        this.updateOption({ data: data });\n        this.chart.changeData(transformData(data, xField, yField, total));\n    };\n    /**\n     *   \n     */\n    Waterfall.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    /**\n     *   \n     */\n    Waterfall.prototype.getDefaultOptions = function () {\n        return {\n            /** default: show label */\n            label: {},\n            /** default: show leaderLine */\n            leaderLine: {\n                style: {\n                    lineWidth: 1,\n                    stroke: '#8c8c8c',\n                    lineDash: [4, 2],\n                },\n            },\n            /** default: show total */\n            total: {\n                label: '',\n                style: {\n                    fill: 'rgba(0, 0, 0, 0.25)',\n                },\n            },\n            interactions: [{ type: 'element-active' }],\n            risingFill: '#f4664a',\n            fallingFill: '#30bf78',\n            waterfallStyle: {\n                fill: 'rgba(0, 0, 0, 0.25)',\n            },\n            yAxis: {\n                grid: {\n                    line: {\n                        style: {\n                            lineDash: [4, 2],\n                        },\n                    },\n                },\n            },\n        };\n    };\n    return Waterfall;\n}(Plot));\nexport { Waterfall };\n//# sourceMappingURL=index.js.map","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _object = require(\"./object\");\n\nvar _resizeObserver = require(\"./resizeObserver\");\n\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\n\n/**\n * sensor strategies\n */\n// export const createSensor = createObjectSensor;\nvar createSensor = typeof ResizeObserver !== 'undefined' ? _resizeObserver.createSensor : _object.createSensor;\nexports.createSensor = createSensor;","/**\n * \n * @param v\n */\nexport function isRealNumber(v) {\n    return typeof v === 'number' && !isNaN(v);\n}\n/**\n * @ignore\n * Determines whether between is\n * @param value\n * @param start\n * @param end\n * @returns true if between\n */\nexport function isBetween(value, start, end) {\n    var min = Math.min(start, end);\n    var max = Math.max(start, end);\n    return value >= min && value <= max;\n}\n//# sourceMappingURL=number.js.map","import { __assign, __rest } from \"tslib\";\nimport { each } from '@antv/util';\nimport { tooltip, slider, interaction, animation, theme, annotation, limitInPlot, state } from '../../adaptor/common';\nimport { findGeometry } from '../../utils';\nimport { area, point, line } from '../../adaptor/geometries';\nimport { flow, transformLabel, deepAssign } from '../../utils';\nimport { getDataWhetherPecentage } from '../../utils/transform/percent';\nimport { meta, legend, axis } from '../line/adaptor';\nexport { meta };\n/**\n * geometry \n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var data = options.data, areaStyle = options.areaStyle, color = options.color, pointMapping = options.point, lineMapping = options.line, isPercent = options.isPercent, xField = options.xField, yField = options.yField, tooltip = options.tooltip, seriesField = options.seriesField;\n    var chartData = getDataWhetherPecentage(data, yField, xField, yField, isPercent);\n    chart.data(chartData);\n    //  % , \n    var tooltipOptions = isPercent\n        ? __assign({ formatter: function (datum) { return ({\n                name: datum[seriesField] || datum[xField],\n                value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n            }); } }, tooltip) : tooltip;\n    var primary = deepAssign({}, params, {\n        options: {\n            area: { color: color, style: areaStyle },\n            //  tooltip \n            // \n            line: lineMapping && __assign({ color: color }, lineMapping),\n            point: pointMapping && __assign({ color: color }, pointMapping),\n            tooltip: tooltipOptions,\n            // label  geometry adaptor label adaptor \n            label: undefined,\n        },\n    });\n    var second = deepAssign({}, primary, { options: { tooltip: false } });\n    // area geometry \n    area(primary);\n    line(second);\n    point(second);\n    return params;\n}\n/**\n * \n * @param params\n */\nfunction label(params) {\n    var chart = params.chart, options = params.options;\n    var label = options.label, yField = options.yField;\n    var areaGeometry = findGeometry(chart, 'area');\n    // label  false,   label\n    if (!label) {\n        areaGeometry.label(false);\n    }\n    else {\n        var callback = label.callback, cfg = __rest(label, [\"callback\"]);\n        areaGeometry.label({\n            fields: [yField],\n            callback: callback,\n            cfg: __assign({ layout: [\n                    { type: 'limit-in-plot' },\n                    { type: 'path-adjust-position' },\n                    { type: 'point-adjust-position' },\n                    { type: 'limit-in-plot', cfg: { action: 'hide' } },\n                ] }, transformLabel(cfg)),\n        });\n    }\n    return params;\n}\n/**\n *  adjust\n * @param params\n */\nfunction adjust(params) {\n    var chart = params.chart, options = params.options;\n    var isStack = options.isStack, isPercent = options.isPercent;\n    if (isPercent || isStack) {\n        each(chart.geometries, function (g) {\n            g.adjust('stack');\n        });\n    }\n    return params;\n}\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // flow  G2 API\n    return flow(geometry, meta, adjust, theme, state, axis, legend, tooltip, label, slider, annotation(), interaction, animation, limitInPlot)(params);\n}\n//# sourceMappingURL=adaptor.js.map","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","import { isArray, isString } from '@antv/util';\nvar INVALID_FIELD_ERR_MSG = 'Invalid field: it must be a string!';\nexport function getField(options, defaultField) {\n    var field = options.field, fields = options.fields;\n    if (isString(field)) {\n        return field;\n    }\n    if (isArray(field)) {\n        console.warn(INVALID_FIELD_ERR_MSG);\n        return field[0];\n    }\n    console.warn(INVALID_FIELD_ERR_MSG + \" will try to get fields instead.\");\n    if (isString(fields)) {\n        return fields;\n    }\n    if (isArray(fields) && fields.length) {\n        return fields[0];\n    }\n    if (defaultField) {\n        return defaultField;\n    }\n    throw new TypeError(INVALID_FIELD_ERR_MSG);\n}\nexport function getAllNodes(root) {\n    var nodes = [];\n    if (root && root.each) {\n        // d3-hierarchy\n        root.each(function (node) {\n            nodes.push(node);\n        });\n    }\n    else if (root && root.eachNode) {\n        // @antv/hierarchy\n        root.eachNode(function (node) {\n            nodes.push(node);\n        });\n    }\n    return nodes;\n}\n//# sourceMappingURL=util.js.map","import { __assign } from \"tslib\";\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry } from './base';\n/**\n * polygon \n * @param params\n */\nexport function polygon(params) {\n    var options = params.options;\n    var polygon = options.polygon, xField = options.xField, yField = options.yField, seriesField = options.seriesField, tooltip = options.tooltip;\n    var _a = getTooltipMapping(tooltip, [xField, yField, seriesField]), fields = _a.fields, formatter = _a.formatter;\n    return polygon\n        ? geometry(deepAssign({}, params, {\n            options: {\n                type: 'polygon',\n                colorField: seriesField,\n                tooltipFields: fields,\n                mapping: __assign({ tooltip: formatter }, polygon),\n            },\n        }))\n        : params;\n}\n//# sourceMappingURL=polygon.js.map","export var DEFAULT_COLOR = ['#FAAD14', '#E8EDF3'];\n/**\n * \n */\nexport var DEFAULT_OPTIONS = {\n    percent: 0.2,\n    color: DEFAULT_COLOR,\n    animation: {},\n};\n//# sourceMappingURL=constants.js.map","import { isNil, isFunction, assign } from '@antv/util';\nvar DEFAULT_OPTIONS = {\n    font: function () { return 'serif'; },\n    padding: 1,\n    size: [500, 500],\n    spiral: 'archimedean',\n    // timeInterval: Infinity // max execute time\n    timeInterval: 3000,\n};\n/**\n * \n * \n * \n * @param words\n * @param options\n */\nexport function wordCloud(words, options) {\n    // \n    options = assign({}, DEFAULT_OPTIONS, options);\n    return transform(words, options);\n}\n/**\n * \n * @param words\n * @param options\n */\nexport function transform(words, options) {\n    // \n    var layout = tagCloud();\n    ['font', 'fontSize', 'fontWeight', 'padding', 'rotate', 'size', 'spiral', 'timeInterval', 'random'].forEach(function (key) {\n        if (!isNil(options[key])) {\n            layout[key](options[key]);\n        }\n    });\n    layout.words(words);\n    if (options.imageMask) {\n        layout.createMask(options.imageMask);\n    }\n    var result = layout.start();\n    var tags = result._tags;\n    tags.forEach(function (tag) {\n        tag.x += options.size[0] / 2;\n        tag.y += options.size[1] / 2;\n    });\n    var _a = options.size, w = _a[0], h = _a[1];\n    // \n    // \n    // \n    // \n    tags.push({\n        text: '',\n        value: 0,\n        x: 0,\n        y: 0,\n        opacity: 0,\n    });\n    tags.push({\n        text: '',\n        value: 0,\n        x: w,\n        y: h,\n        opacity: 0,\n    });\n    return tags;\n}\nvar cloudRadians = Math.PI / 180, cw = (1 << 11) >> 5, ch = 1 << 11;\nfunction cloudText(d) {\n    return d.text;\n}\nfunction cloudFont() {\n    return 'serif';\n}\nfunction cloudFontNormal() {\n    return 'normal';\n}\nfunction cloudFontSize(d) {\n    return d.value;\n}\nfunction cloudRotate() {\n    return ~~(Math.random() * 2) * 90;\n}\nfunction cloudPadding() {\n    return 1;\n}\n// Fetches a monochrome sprite bitmap for the specified text.\n// Load in batches for speed.\nfunction cloudSprite(contextAndRatio, d, data, di) {\n    if (d.sprite)\n        return;\n    var c = contextAndRatio.context, ratio = contextAndRatio.ratio;\n    c.clearRect(0, 0, (cw << 5) / ratio, ch / ratio);\n    var x = 0, y = 0, maxh = 0;\n    var n = data.length;\n    --di;\n    while (++di < n) {\n        d = data[di];\n        c.save();\n        c.font = d.style + ' ' + d.weight + ' ' + ~~((d.size + 1) / ratio) + 'px ' + d.font;\n        var w = c.measureText(d.text + 'm').width * ratio, h = d.size << 1;\n        if (d.rotate) {\n            var sr = Math.sin(d.rotate * cloudRadians), cr = Math.cos(d.rotate * cloudRadians), wcr = w * cr, wsr = w * sr, hcr = h * cr, hsr = h * sr;\n            w = ((Math.max(Math.abs(wcr + hsr), Math.abs(wcr - hsr)) + 0x1f) >> 5) << 5;\n            h = ~~Math.max(Math.abs(wsr + hcr), Math.abs(wsr - hcr));\n        }\n        else {\n            w = ((w + 0x1f) >> 5) << 5;\n        }\n        if (h > maxh)\n            maxh = h;\n        if (x + w >= cw << 5) {\n            x = 0;\n            y += maxh;\n            maxh = 0;\n        }\n        if (y + h >= ch)\n            break;\n        c.translate((x + (w >> 1)) / ratio, (y + (h >> 1)) / ratio);\n        if (d.rotate)\n            c.rotate(d.rotate * cloudRadians);\n        c.fillText(d.text, 0, 0);\n        if (d.padding) {\n            c.lineWidth = 2 * d.padding;\n            c.strokeText(d.text, 0, 0);\n        }\n        c.restore();\n        d.width = w;\n        d.height = h;\n        d.xoff = x;\n        d.yoff = y;\n        d.x1 = w >> 1;\n        d.y1 = h >> 1;\n        d.x0 = -d.x1;\n        d.y0 = -d.y1;\n        d.hasText = true;\n        x += w;\n    }\n    var pixels = c.getImageData(0, 0, (cw << 5) / ratio, ch / ratio).data, sprite = [];\n    while (--di >= 0) {\n        d = data[di];\n        if (!d.hasText)\n            continue;\n        var w = d.width, w32 = w >> 5;\n        var h = d.y1 - d.y0;\n        // Zero the buffer\n        for (var i = 0; i < h * w32; i++)\n            sprite[i] = 0;\n        x = d.xoff;\n        if (x == null)\n            return;\n        y = d.yoff;\n        var seen = 0, seenRow = -1;\n        for (var j = 0; j < h; j++) {\n            for (var i = 0; i < w; i++) {\n                var k = w32 * j + (i >> 5), m = pixels[((y + j) * (cw << 5) + (x + i)) << 2] ? 1 << (31 - (i % 32)) : 0;\n                sprite[k] |= m;\n                seen |= m;\n            }\n            if (seen)\n                seenRow = j;\n            else {\n                d.y0++;\n                h--;\n                j--;\n                y++;\n            }\n        }\n        d.y1 = d.y0 + seenRow;\n        d.sprite = sprite.slice(0, (d.y1 - d.y0) * w32);\n    }\n}\n// Use mask-based collision detection.\nfunction cloudCollide(tag, board, sw) {\n    sw >>= 5;\n    var sprite = tag.sprite, w = tag.width >> 5, lx = tag.x - (w << 4), sx = lx & 0x7f, msx = 32 - sx, h = tag.y1 - tag.y0;\n    var x = (tag.y + tag.y0) * sw + (lx >> 5), last;\n    for (var j = 0; j < h; j++) {\n        last = 0;\n        for (var i = 0; i <= w; i++) {\n            if (((last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0)) & board[x + i])\n                return true;\n        }\n        x += sw;\n    }\n    return false;\n}\nfunction cloudBounds(bounds, d) {\n    var b0 = bounds[0], b1 = bounds[1];\n    if (d.x + d.x0 < b0.x)\n        b0.x = d.x + d.x0;\n    if (d.y + d.y0 < b0.y)\n        b0.y = d.y + d.y0;\n    if (d.x + d.x1 > b1.x)\n        b1.x = d.x + d.x1;\n    if (d.y + d.y1 > b1.y)\n        b1.y = d.y + d.y1;\n}\nfunction collideRects(a, b) {\n    return a.x + a.x1 > b[0].x && a.x + a.x0 < b[1].x && a.y + a.y1 > b[0].y && a.y + a.y0 < b[1].y;\n}\nfunction archimedeanSpiral(size) {\n    var e = size[0] / size[1];\n    return function (t) {\n        return [e * (t *= 0.1) * Math.cos(t), t * Math.sin(t)];\n    };\n}\nfunction rectangularSpiral(size) {\n    var dy = 4, dx = (dy * size[0]) / size[1];\n    var x = 0, y = 0;\n    return function (t) {\n        var sign = t < 0 ? -1 : 1;\n        // See triangular numbers: T_n = n * (n + 1) / 2.\n        switch ((Math.sqrt(1 + 4 * sign * t) - sign) & 3) {\n            case 0:\n                x += dx;\n                break;\n            case 1:\n                y += dy;\n                break;\n            case 2:\n                x -= dx;\n                break;\n            default:\n                y -= dy;\n                break;\n        }\n        return [x, y];\n    };\n}\n// TODO reuse arrays?\nfunction zeroArray(n) {\n    var a = [];\n    var i = -1;\n    while (++i < n)\n        a[i] = 0;\n    return a;\n}\nfunction cloudCanvas() {\n    return document.createElement('canvas');\n}\nexport function functor(d) {\n    return isFunction(d)\n        ? d\n        : function () {\n            return d;\n        };\n}\nvar spirals = {\n    archimedean: archimedeanSpiral,\n    rectangular: rectangularSpiral,\n};\nfunction tagCloud() {\n    var size = [256, 256], font = cloudFont, fontSize = cloudFontSize, fontWeight = cloudFontNormal, rotate = cloudRotate, padding = cloudPadding, spiral = archimedeanSpiral, random = Math.random, words = [], timeInterval = Infinity;\n    var text = cloudText;\n    var fontStyle = cloudFontNormal;\n    var canvas = cloudCanvas;\n    var cloud = {};\n    cloud.start = function () {\n        var width = size[0], height = size[1];\n        var contextAndRatio = getContext(canvas()), board = cloud.board ? cloud.board : zeroArray((size[0] >> 5) * size[1]), n = words.length, tags = [], data = words\n            .map(function (d, i, data) {\n            d.text = text.call(this, d, i, data);\n            d.font = font.call(this, d, i, data);\n            d.style = fontStyle.call(this, d, i, data);\n            d.weight = fontWeight.call(this, d, i, data);\n            d.rotate = rotate.call(this, d, i, data);\n            d.size = ~~fontSize.call(this, d, i, data);\n            d.padding = padding.call(this, d, i, data);\n            return d;\n        })\n            .sort(function (a, b) {\n            return b.size - a.size;\n        });\n        var i = -1, bounds = !cloud.board\n            ? null\n            : [\n                {\n                    x: 0,\n                    y: 0,\n                },\n                {\n                    x: width,\n                    y: height,\n                },\n            ];\n        step();\n        function step() {\n            var start = Date.now();\n            while (Date.now() - start < timeInterval && ++i < n) {\n                var d = data[i];\n                d.x = (width * (random() + 0.5)) >> 1;\n                d.y = (height * (random() + 0.5)) >> 1;\n                cloudSprite(contextAndRatio, d, data, i);\n                if (d.hasText && place(board, d, bounds)) {\n                    tags.push(d);\n                    if (bounds) {\n                        if (!cloud.hasImage) {\n                            // update bounds if image mask not set\n                            cloudBounds(bounds, d);\n                        }\n                    }\n                    else {\n                        bounds = [\n                            { x: d.x + d.x0, y: d.y + d.y0 },\n                            { x: d.x + d.x1, y: d.y + d.y1 },\n                        ];\n                    }\n                    // Temporary hack\n                    d.x -= size[0] >> 1;\n                    d.y -= size[1] >> 1;\n                }\n            }\n            cloud._tags = tags;\n            cloud._bounds = bounds;\n        }\n        return cloud;\n    };\n    function getContext(canvas) {\n        canvas.width = canvas.height = 1;\n        var ratio = Math.sqrt(canvas.getContext('2d').getImageData(0, 0, 1, 1).data.length >> 2);\n        canvas.width = (cw << 5) / ratio;\n        canvas.height = ch / ratio;\n        var context = canvas.getContext('2d');\n        context.fillStyle = context.strokeStyle = 'red';\n        context.textAlign = 'center';\n        return { context: context, ratio: ratio };\n    }\n    function place(board, tag, bounds) {\n        // const perimeter = [{ x: 0, y: 0 }, { x: size[0], y: size[1] }],\n        var startX = tag.x, startY = tag.y, maxDelta = Math.sqrt(size[0] * size[0] + size[1] * size[1]), s = spiral(size), dt = random() < 0.5 ? 1 : -1;\n        var dxdy, t = -dt, dx, dy;\n        while ((dxdy = s((t += dt)))) {\n            dx = ~~dxdy[0];\n            dy = ~~dxdy[1];\n            if (Math.min(Math.abs(dx), Math.abs(dy)) >= maxDelta)\n                break;\n            tag.x = startX + dx;\n            tag.y = startY + dy;\n            if (tag.x + tag.x0 < 0 || tag.y + tag.y0 < 0 || tag.x + tag.x1 > size[0] || tag.y + tag.y1 > size[1])\n                continue;\n            // TODO only check for collisions within current bounds.\n            if (!bounds || !cloudCollide(tag, board, size[0])) {\n                if (!bounds || collideRects(tag, bounds)) {\n                    var sprite = tag.sprite, w = tag.width >> 5, sw = size[0] >> 5, lx = tag.x - (w << 4), sx = lx & 0x7f, msx = 32 - sx, h = tag.y1 - tag.y0;\n                    var last = void 0, x = (tag.y + tag.y0) * sw + (lx >> 5);\n                    for (var j = 0; j < h; j++) {\n                        last = 0;\n                        for (var i = 0; i <= w; i++) {\n                            board[x + i] |= (last << msx) | (i < w ? (last = sprite[j * w + i]) >>> sx : 0);\n                        }\n                        x += sw;\n                    }\n                    delete tag.sprite;\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n    cloud.createMask = function (img) {\n        var can = document.createElement('canvas');\n        var width = size[0], height = size[1];\n        //  width  height  0  cxt.getImageData \n        if (!width || !height) {\n            return;\n        }\n        var w32 = width >> 5;\n        var board = zeroArray((width >> 5) * height);\n        can.width = width;\n        can.height = height;\n        var cxt = can.getContext('2d');\n        cxt.drawImage(img, 0, 0, img.width, img.height, 0, 0, width, height);\n        var imageData = cxt.getImageData(0, 0, width, height).data;\n        for (var j = 0; j < height; j++) {\n            for (var i = 0; i < width; i++) {\n                var k = w32 * j + (i >> 5);\n                var tmp = (j * width + i) << 2;\n                var flag = imageData[tmp] >= 250 && imageData[tmp + 1] >= 250 && imageData[tmp + 2] >= 250;\n                var m = flag ? 1 << (31 - (i % 32)) : 0;\n                board[k] |= m;\n            }\n        }\n        cloud.board = board;\n        cloud.hasImage = true;\n    };\n    cloud.timeInterval = function (_) {\n        timeInterval = _ == null ? Infinity : _;\n    };\n    cloud.words = function (_) {\n        words = _;\n    };\n    cloud.size = function (_) {\n        size = [+_[0], +_[1]];\n    };\n    cloud.font = function (_) {\n        font = functor(_);\n    };\n    cloud.fontWeight = function (_) {\n        fontWeight = functor(_);\n    };\n    cloud.rotate = function (_) {\n        rotate = functor(_);\n    };\n    cloud.spiral = function (_) {\n        spiral = spirals[_] || _;\n    };\n    cloud.fontSize = function (_) {\n        fontSize = functor(_);\n    };\n    cloud.padding = function (_) {\n        padding = functor(_);\n    };\n    cloud.random = function (_) {\n        random = functor(_);\n    };\n    return cloud;\n}\n//# sourceMappingURL=word-cloud.js.map","import { __assign } from \"tslib\";\nimport { isArray, isFunction, isNumber, isString } from '@antv/util';\nimport { log, LEVEL, getContainerSize } from '../../utils';\nimport { functor, wordCloud } from '../../utils/transform/word-cloud';\n/**\n *  DataSet \n * @param params\n */\nexport function transform(params) {\n    var rawOptions = params.options, chart = params.chart;\n    var _a = chart, width = _a.width, height = _a.height, chartPadding = _a.padding, appendPadding = _a.appendPadding, ele = _a.ele;\n    var data = rawOptions.data, imageMask = rawOptions.imageMask, wordField = rawOptions.wordField, weightField = rawOptions.weightField, colorField = rawOptions.colorField, wordStyle = rawOptions.wordStyle, timeInterval = rawOptions.timeInterval, random = rawOptions.random, spiral = rawOptions.spiral, _b = rawOptions.autoFit, autoFit = _b === void 0 ? true : _b, placementStrategy = rawOptions.placementStrategy;\n    if (!data || !data.length) {\n        return [];\n    }\n    var fontFamily = wordStyle.fontFamily, fontWeight = wordStyle.fontWeight, padding = wordStyle.padding, fontSize = wordStyle.fontSize;\n    var arr = getSingleKeyValues(data, weightField);\n    var range = [min(arr), max(arr)];\n    //  text  value \n    var words = data.map(function (datum) { return ({\n        text: datum[wordField],\n        value: datum[weightField],\n        color: datum[colorField],\n        datum: datum,\n    }); });\n    var options = {\n        imageMask: imageMask,\n        font: fontFamily,\n        fontSize: getFontSizeMapping(fontSize, range),\n        fontWeight: fontWeight,\n        //  padding \n        size: getSize({\n            width: width,\n            height: height,\n            padding: chartPadding,\n            appendPadding: appendPadding,\n            autoFit: autoFit,\n            container: ele,\n        }),\n        padding: padding,\n        timeInterval: timeInterval,\n        random: random,\n        spiral: spiral,\n        rotate: getRotate(rawOptions),\n    };\n    // \n    if (isFunction(placementStrategy)) {\n        var result = words.map(function (word, index, words) { return (__assign(__assign(__assign({}, word), { hasText: !!word.text, font: functor(options.font)(word, index, words), weight: functor(options.fontWeight)(word, index, words), rotate: functor(options.rotate)(word, index, words), size: functor(options.fontSize)(word, index, words), style: 'normal' }), placementStrategy.call(chart, word, index, words))); });\n        // \n        result.push({\n            text: '',\n            value: 0,\n            x: 0,\n            y: 0,\n            opacity: 0,\n        });\n        result.push({\n            text: '',\n            value: 0,\n            x: options.size[0],\n            y: options.size[1],\n            opacity: 0,\n        });\n        return result;\n    }\n    // wordCloud \n    return wordCloud(words, options);\n}\n/**\n * [width, height]\n * @param chart\n */\nexport function getSize(options) {\n    var width = options.width, height = options.height;\n    var container = options.container, autoFit = options.autoFit, padding = options.padding, appendPadding = options.appendPadding;\n    //  DataSet \n    //  DataSet \n    //  DataSet \n    // \n    if (autoFit) {\n        var containerSize = getContainerSize(container);\n        width = containerSize.width;\n        height = containerSize.height;\n    }\n    //  0\n    width = width || 400;\n    height = height || 400;\n    var _a = resolvePadding({ padding: padding, appendPadding: appendPadding }), top = _a[0], right = _a[1], bottom = _a[2], left = _a[3];\n    var result = [width - (left + right), height - (top + bottom)];\n    return result;\n}\n/**\n *  padding  appendPadding  padding\n * @param chart\n */\nfunction resolvePadding(options) {\n    var padding = normalPadding(options.padding);\n    var appendPadding = normalPadding(options.appendPadding);\n    var top = padding[0] + appendPadding[0];\n    var right = padding[1] + appendPadding[1];\n    var bottom = padding[2] + appendPadding[2];\n    var left = padding[3] + appendPadding[3];\n    return [top, right, bottom, left];\n}\n/**\n *  padding \n * @param padding\n */\nfunction normalPadding(padding) {\n    if (isNumber(padding)) {\n        return [padding, padding, padding, padding];\n    }\n    if (isArray(padding)) {\n        var length_1 = padding.length;\n        if (length_1 === 1) {\n            return [padding[0], padding[0], padding[0], padding[0]];\n        }\n        if (length_1 === 2) {\n            return [padding[0], padding[1], padding[0], padding[1]];\n        }\n        if (length_1 === 3) {\n            return [padding[0], padding[1], padding[2], padding[1]];\n        }\n        if (length_1 === 4) {\n            return padding;\n        }\n    }\n    return [0, 0, 0, 0];\n}\n/**\n *  imageMask  url \n * @param  {HTMLImageElement | string} img\n * @return {Promise}\n */\nexport function processImageMask(img) {\n    return new Promise(function (res, rej) {\n        if (img instanceof HTMLImageElement) {\n            res(img);\n            return;\n        }\n        if (isString(img)) {\n            var image_1 = new Image();\n            image_1.crossOrigin = 'anonymous';\n            image_1.src = img;\n            image_1.onload = function () {\n                res(image_1);\n            };\n            image_1.onerror = function () {\n                log(LEVEL.ERROR, false, 'image %s load failed !!!', img);\n                rej();\n            };\n            return;\n        }\n        log(LEVEL.WARN, img === undefined, 'The type of imageMask option must be String or HTMLImageElement.');\n        rej();\n    });\n}\n/**\n *  fontSize  DataSet \n * @param options\n * @param range\n */\nexport function getFontSizeMapping(fontSize, range) {\n    if (isFunction(fontSize)) {\n        return fontSize;\n    }\n    if (isArray(fontSize)) {\n        var fMin_1 = fontSize[0], fMax_1 = fontSize[1];\n        if (!range) {\n            return function () { return (fMax_1 + fMin_1) / 2; };\n        }\n        var min_1 = range[0], max_1 = range[1];\n        if (max_1 === min_1) {\n            return function () { return (fMax_1 + fMin_1) / 2; };\n        }\n        return function fontSize(_a) {\n            var value = _a.value;\n            return ((fMax_1 - fMin_1) / (max_1 - min_1)) * (value - min_1) + fMin_1;\n        };\n    }\n    return function () { return fontSize; };\n}\nexport function getSingleKeyValues(data, key) {\n    return data\n        .map(function (v) { return v[key]; })\n        .filter(function (v) {\n        //  number\n        if (typeof v === 'number' && !isNaN(v))\n            return true;\n        return false;\n    });\n}\n/**\n *  DataSet \n * @param options\n */\nfunction getRotate(options) {\n    var _a = resolveRotate(options), rotation = _a.rotation, rotationSteps = _a.rotationSteps;\n    if (!isArray(rotation))\n        return rotation;\n    var min = rotation[0];\n    var max = rotation[1];\n    //  1  0\n    var perSize = rotationSteps === 1 ? 0 : (max - min) / (rotationSteps - 1);\n    return function rotate() {\n        if (max === min)\n            return max;\n        return Math.floor(Math.random() * rotationSteps) * perSize;\n    };\n}\n/**\n * \n * @param options\n */\nfunction resolveRotate(options) {\n    var rotationSteps = options.wordStyle.rotationSteps;\n    if (rotationSteps < 1) {\n        log(LEVEL.WARN, false, 'The rotationSteps option must be greater than or equal to 1.');\n        rotationSteps = 1;\n    }\n    return {\n        rotation: options.wordStyle.rotation,\n        rotationSteps: rotationSteps,\n    };\n}\n/**\n * \n * \n * @param numbers\n */\nfunction min(numbers) {\n    return Math.min.apply(Math, numbers);\n}\n/**\n * \n * \n * @param numbers\n */\nfunction max(numbers) {\n    return Math.max.apply(Math, numbers);\n}\n//# sourceMappingURL=utils.js.map","import { tooltip, interaction, animation, theme, scale, state, legend } from '../../adaptor/common';\nimport { flow, deepAssign } from '../../utils';\nimport { point } from '../../adaptor/geometries';\nimport { transform } from './utils';\n/**\n * geometry \n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var colorField = options.colorField, color = options.color;\n    var data = transform(params);\n    chart.data(data);\n    var p = deepAssign({}, params, {\n        options: {\n            xField: 'x',\n            yField: 'y',\n            seriesField: colorField && 'color',\n            point: {\n                color: color,\n                shape: 'word-cloud',\n            },\n        },\n    });\n    var ext = point(p).ext;\n    ext.geometry.label(false);\n    chart.coordinate().reflect('y');\n    chart.axis(false);\n    return params;\n}\n/**\n * meta \n * @param params\n */\nfunction meta(params) {\n    return flow(scale({\n        x: { nice: false },\n        y: { nice: false },\n    }))(params);\n}\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // flow  G2 API\n    flow(geometry, meta, tooltip, legend, interaction, animation, theme, state)(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __assign } from \"tslib\";\nimport { registerShape, Util } from '@antv/g2';\nregisterShape('point', 'word-cloud', {\n    draw: function (cfg, group) {\n        var cx = cfg.x;\n        var cy = cfg.y;\n        var shape = group.addShape('text', {\n            attrs: __assign(__assign({}, getTextAttrs(cfg)), { x: cx, y: cy }),\n        });\n        var rotate = cfg.data.rotate;\n        if (typeof rotate === 'number') {\n            Util.rotate(shape, (rotate * Math.PI) / 180);\n        }\n        return shape;\n    },\n});\nfunction getTextAttrs(cfg) {\n    return {\n        fontSize: cfg.data.size,\n        text: cfg.data.text,\n        textAlign: 'center',\n        fontFamily: cfg.data.font,\n        fontWeight: cfg.data.weight,\n        fill: cfg.color || cfg.defaultStyle.stroke,\n        textBaseline: 'alphabetic',\n    };\n}\n//# sourceMappingURL=word-cloud.js.map","import { __assign, __extends } from \"tslib\";\nimport { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { adaptor } from './adaptor';\nimport { processImageMask, transform } from './utils';\n// shape\nimport './shapes/word-cloud';\nvar WordCloud = /** @class */ (function (_super) {\n    __extends(WordCloud, _super);\n    function WordCloud() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'word-cloud';\n        return _this;\n    }\n    /**\n     * @override\n     * @param data\n     */\n    WordCloud.prototype.changeData = function (data) {\n        this.updateOption({ data: data });\n        if (this.options.imageMask) {\n            this.render();\n        }\n        else {\n            this.chart.changeData(transform({ chart: this.chart, options: this.options }));\n        }\n    };\n    /**\n     *  options \n     */\n    WordCloud.prototype.getDefaultOptions = function () {\n        return deepAssign({}, _super.prototype.getDefaultOptions.call(this), {\n            timeInterval: 2000,\n            legend: false,\n            tooltip: {\n                showTitle: false,\n                showMarkers: false,\n                showCrosshairs: false,\n                fields: ['text', 'value', 'color'],\n                formatter: function (datum) {\n                    return { name: datum.text, value: datum.value };\n                },\n            },\n            wordStyle: {\n                fontFamily: 'Verdana',\n                fontWeight: 'normal',\n                padding: 1,\n                fontSize: [12, 60],\n                rotation: [0, 90],\n                rotationSteps: 2,\n                rotateRatio: 0.5,\n            },\n        });\n    };\n    /**\n     * \n     */\n    WordCloud.prototype.render = function () {\n        var _this = this;\n        return new Promise(function (res) {\n            var imageMask = _this.options.imageMask;\n            if (!imageMask) {\n                // \n                _super.prototype.render.call(_this);\n                res();\n                return;\n            }\n            var handler = function (img) {\n                _this.options = __assign(__assign({}, _this.options), { imageMask: img || null });\n                // \n                _super.prototype.render.call(_this);\n                res();\n            };\n            processImageMask(imageMask).then(handler).catch(handler);\n        });\n    };\n    /**\n     *   \n     */\n    WordCloud.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    /**\n     *   \n     */\n    WordCloud.prototype.triggerResize = function () {\n        var _this = this;\n        if (!this.chart.destroyed) {\n            // \n            //  adaptor\n            // \n            this.execAdaptor();\n            // \n            // TODO: \n            window.setTimeout(function () {\n                // \n                _super.prototype.triggerResize.call(_this);\n            });\n        }\n    };\n    return WordCloud;\n}(Plot));\nexport { WordCloud };\n//# sourceMappingURL=index.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar _default = function _default(fn) {\n  var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 60;\n  var timer = null;\n  return function () {\n    var _this = this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    clearTimeout(timer);\n    timer = setTimeout(function () {\n      fn.apply(_this, args);\n    }, delay);\n  };\n};\n\nexports[\"default\"] = _default;","import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray } from '@antv/util';\nimport { getField, getAllNodes } from './util';\nvar DEFAULT_OPTIONS = {\n    field: 'value',\n    tile: 'treemapSquarify',\n    size: [1, 1],\n    round: false,\n    ignoreParentValue: true,\n    padding: 0,\n    paddingInner: 0,\n    paddingOuter: 0,\n    paddingTop: 0,\n    paddingRight: 0,\n    paddingBottom: 0,\n    paddingLeft: 0,\n    as: ['x', 'y'],\n    // \n    sort: function (a, b) { return b.value - a.value; },\n};\nexport function treemap(data, options) {\n    options = assign({}, DEFAULT_OPTIONS, options);\n    var as = options.as;\n    if (!isArray(as) || as.length !== 2) {\n        throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ \"x\", \"y\" ])!');\n    }\n    var field;\n    try {\n        field = getField(options);\n    }\n    catch (e) {\n        console.warn(e);\n    }\n    var partition = function (data) {\n        return d3Hierarchy\n            .treemap()\n            .tile(d3Hierarchy[options.tile])\n            .size(options.size)\n            .round(options.round)\n            .padding(options.padding)\n            .paddingInner(options.paddingInner)\n            .paddingOuter(options.paddingOuter)\n            .paddingTop(options.paddingTop)\n            .paddingRight(options.paddingRight)\n            .paddingBottom(options.paddingBottom)\n            .paddingLeft(options.paddingLeft)(\n        /**\n         * d3Hierarchy  sum  node  node  post-order traversal  value  node\n         * for example:\n         * { node: 'parent', value: 10, children: [{node: 'child1', value: 5}, {node: 'child2', value: 5}, ]}\n         * parent  sum(node(parent)) + sum(node(child1)) + sum(node(child2))\n         * ignoreParentValue  true()  0 + 5 + 5 = 10\n         * ignoreParentValue  false   10 + 5 + 5 = 20\n         * sum d  data, children \n         */\n        d3Hierarchy\n            .hierarchy(data)\n            .sum(function (d) { return (options.ignoreParentValue && d.children ? 0 : d[field]); })\n            .sort(options.sort));\n    };\n    var root = partition(data);\n    /*\n     * points:\n     *   3  2\n     *   0  1\n     */\n    var x = as[0];\n    var y = as[1];\n    root.each(function (node) {\n        node[x] = [node.x0, node.x1, node.x1, node.x0];\n        node[y] = [node.y1, node.y1, node.y0, node.y0];\n        ['x0', 'x1', 'y0', 'y1'].forEach(function (prop) {\n            if (as.indexOf(prop) === -1) {\n                delete node[prop];\n            }\n        });\n    });\n    return getAllNodes(root);\n}\n//# sourceMappingURL=treemap.js.map","/**\n * \n * @param data\n */\nexport function transformBarData(data) {\n    return data ? data.slice().reverse() : data;\n}\n//# sourceMappingURL=utils.js.map","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n/**\n * \n */\nexport var DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n    legend: {\n        position: 'right',\n    },\n    tooltip: {\n        shared: false,\n        showTitle: false,\n        showMarkers: false,\n    },\n    label: {\n        layout: { type: 'limit-in-plot', cfg: { action: 'ellipsis' } },\n    },\n    /** ,  */\n    pieStyle: {\n        stroke: 'white',\n        lineWidth: 1,\n    },\n    /**  */\n    statistic: {\n        title: {\n            style: { fontWeight: 300, color: '#4B535E', textAlign: 'center', fontSize: '20px', lineHeight: 1 },\n        },\n        content: {\n            style: {\n                fontWeight: 'bold',\n                color: 'rgba(44,53,66,0.85)',\n                textAlign: 'center',\n                fontSize: '32px',\n                lineHeight: 1,\n            },\n        },\n    },\n    /**  text-annotation  */\n    theme: {\n        components: {\n            annotation: {\n                text: {\n                    animate: false,\n                },\n            },\n        },\n    },\n});\n//# sourceMappingURL=contants.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.removeSensor = exports.getSensor = void 0;\n\nvar _id = _interopRequireDefault(require(\"./id\"));\n\nvar _sensors = require(\"./sensors\");\n\nvar _constant = require(\"./constant\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\n\n/**\n * all the sensor objects.\n * sensor pool\n */\nvar Sensors = {};\n/**\n * get one sensor\n * @param element\n * @returns {*}\n */\n\nvar getSensor = function getSensor(element) {\n  var sensorId = element.getAttribute(_constant.SizeSensorId); // 1. if the sensor exists, then use it\n\n  if (sensorId && Sensors[sensorId]) {\n    return Sensors[sensorId];\n  } // 2. not exist, then create one\n\n\n  var newId = (0, _id[\"default\"])();\n  element.setAttribute(_constant.SizeSensorId, newId);\n  var sensor = (0, _sensors.createSensor)(element); // add sensor into pool\n\n  Sensors[newId] = sensor;\n  return sensor;\n};\n/**\n *  sensor\n * @param sensor\n */\n\n\nexports.getSensor = getSensor;\n\nvar removeSensor = function removeSensor(sensor) {\n  var sensorId = sensor.element.getAttribute(_constant.SizeSensorId); // remove attribute\n\n  sensor.element.removeAttribute(_constant.SizeSensorId); // remove event, dom of the sensor used\n\n  sensor.destroy(); // exist, then remove from pool\n\n  if (sensorId && Sensors[sensorId]) {\n    delete Sensors[sensorId];\n  }\n};\n\nexports.removeSensor = removeSensor;","import { deepAssign } from '../../utils';\nimport { adaptor as lineAdaptor } from '../line/adaptor';\nimport { adaptor as pieAdaptor } from '../pie/adaptor';\nimport { adaptor as columnAdaptor } from '../column/adaptor';\nimport { adaptor as barAdaptor } from '../bar/adaptor';\nimport { adaptor as areaAdaptor } from '../area/adaptor';\nimport { adaptor as gaugeAdaptor } from '../gauge/adaptor';\nimport { adaptor as tinyLineAdaptor } from '../tiny-line/adaptor';\nimport { adaptor as tinyColumnAdaptor } from '../tiny-column/adaptor';\nimport { adaptor as tinyAreadaptor } from '../tiny-area/adaptor';\nimport { adaptor as ringProgressAdaptor } from '../ring-progress/adaptor';\nimport { adaptor as progressAdaptor } from '../progress/adaptor';\nimport { Line } from '../line';\nimport { Pie } from '../pie';\nimport { Bar } from '../bar';\nimport { Column } from '../column';\nimport { Area } from '../area';\nimport { Gauge } from '../gauge';\nimport { TinyLine } from '../tiny-line';\nimport { TinyArea } from '../tiny-area';\nimport { TinyColumn } from '../tiny-column';\nimport { RingProgress } from '../ring-progress';\nimport { Progress } from '../progress';\n/**\n *  multi-view  plots\n */\nvar PLOT_ADAPTORS = {\n    line: lineAdaptor,\n    pie: pieAdaptor,\n    column: columnAdaptor,\n    bar: barAdaptor,\n    area: areaAdaptor,\n    gauge: gaugeAdaptor,\n    'tiny-line': tinyLineAdaptor,\n    'tiny-column': tinyColumnAdaptor,\n    'tiny-area': tinyAreadaptor,\n    'ring-progress': ringProgressAdaptor,\n    progress: progressAdaptor,\n};\n/**\n *  plot  class contructor\n * @param {string} plot\n */\nvar PLOT_CONSTRUCTOR = {\n    line: Line,\n    pie: Pie,\n    column: Column,\n    bar: Bar,\n    area: Area,\n    gauge: Gauge,\n    'tiny-line': TinyLine,\n    'tiny-column': TinyColumn,\n    'tiny-area': TinyArea,\n    'ring-progress': RingProgress,\n    progress: Progress,\n};\n/**\n *  plot  adaptor,  defaultOptions\n * @param {string} plot\n */\nexport function execPlotAdaptor(plot, view, options) {\n    var cls = PLOT_CONSTRUCTOR[plot];\n    if (!cls) {\n        console.error(\"could not find \" + plot + \" plot\");\n        return;\n    }\n    var module = PLOT_ADAPTORS[plot];\n    module({ chart: view, options: deepAssign({}, cls.getDefaultOptions(), options) });\n}\n//# sourceMappingURL=utils.js.map","import { __assign } from \"tslib\";\nimport { each } from '@antv/util';\nimport { geometry as geometryAdaptor } from '../../adaptor/geometries/base';\nimport { interaction, animation, theme, tooltip } from '../../adaptor/common';\nimport { PLOT_CONTAINER_OPTIONS } from '../../core/plot';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { deepAssign, flow, pick } from '../../utils';\nimport { execPlotAdaptor } from './utils';\n/**\n * geometry \n * @param params\n */\nfunction multiView(params) {\n    var chart = params.chart, options = params.options;\n    var views = options.views, legend = options.legend;\n    each(views, function (v) {\n        var region = v.region, data = v.data, meta = v.meta, axes = v.axes, coordinate = v.coordinate, interactions = v.interactions, annotations = v.annotations, tooltip = v.tooltip, geometries = v.geometries;\n        // 1.  view\n        var viewOfG2 = chart.createView({\n            region: region,\n        });\n        // 2. data\n        viewOfG2.data(data);\n        // 3. meta\n        var scales = {};\n        if (axes) {\n            each(axes, function (axis, field) {\n                scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n            });\n        }\n        scales = deepAssign({}, meta, scales);\n        viewOfG2.scale(scales);\n        // 4. x y axis\n        if (!axes) {\n            viewOfG2.axis(false);\n        }\n        else {\n            each(axes, function (axis, field) {\n                viewOfG2.axis(field, axis);\n            });\n        }\n        // 5. coordinate\n        viewOfG2.coordinate(coordinate);\n        // 6. geometry\n        each(geometries, function (geometry) {\n            var ext = geometryAdaptor({\n                chart: viewOfG2,\n                options: geometry,\n            }).ext;\n            // adjust\n            var adjust = geometry.adjust;\n            if (adjust) {\n                ext.geometry.adjust(adjust);\n            }\n        });\n        // 7. interactions\n        each(interactions, function (interaction) {\n            if (interaction.enable === false) {\n                viewOfG2.removeInteraction(interaction.type);\n            }\n            else {\n                viewOfG2.interaction(interaction.type, interaction.cfg);\n            }\n        });\n        // 8. annotations\n        each(annotations, function (annotation) {\n            viewOfG2.annotation()[annotation.type](__assign({}, annotation));\n        });\n        // 9. animation ()\n        if (typeof v.animation === 'boolean') {\n            viewOfG2.animate(false);\n        }\n        else {\n            viewOfG2.animate(true);\n            // 9.1  Geometry todo \n            each(viewOfG2.geometries, function (g) {\n                g.animate(v.animation);\n            });\n        }\n        if (tooltip) {\n            // 10. tooltip\n            viewOfG2.interaction('tooltip');\n            viewOfG2.tooltip(tooltip);\n        }\n    });\n    // legend\n    if (!legend) {\n        chart.legend(false);\n    }\n    else {\n        each(legend, function (l, field) {\n            chart.legend(field, l);\n        });\n    }\n    // tooltip\n    chart.tooltip(options.tooltip);\n    return params;\n}\n/**\n *  g2plot \n * @param params\n */\nfunction multiPlot(params) {\n    var chart = params.chart, options = params.options;\n    var plots = options.plots;\n    each(plots, function (plot) {\n        var type = plot.type, region = plot.region, _a = plot.options, options = _a === void 0 ? {} : _a;\n        var tooltip = options.tooltip;\n        var viewOfG2 = chart.createView(__assign({ region: region }, pick(options, PLOT_CONTAINER_OPTIONS)));\n        if (tooltip) {\n            //  tooltip \n            viewOfG2.interaction('tooltip');\n        }\n        execPlotAdaptor(type, viewOfG2, options);\n    });\n    return params;\n}\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    return flow(animation, //  view \n    multiView, multiPlot, interaction, animation, theme, tooltip\n    // ...  adaptor flow\n    )(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { each, isArray } from '@antv/util';\nimport { getAllElements } from '../../../utils';\n/**\n * \n * @param element \n * @param field \n * @ignore\n */\nexport function getElementValue(element, field) {\n    var model = element.getModel();\n    var record = model.data;\n    var value;\n    if (isArray(record)) {\n        value = record[0][field];\n    }\n    else {\n        value = record[field];\n    }\n    return value;\n}\n/**\n * @ignore\n *  highlight \n * @param view View  Chart\n */\nexport function clearHighlight(view) {\n    var elements = getAllElements(view);\n    each(elements, function (el) {\n        if (el.hasState('active')) {\n            el.setState('active', false);\n        }\n        if (el.hasState('selected')) {\n            el.setState('selected', false);\n        }\n        if (el.hasState('inactive')) {\n            el.setState('inactive', false);\n        }\n    });\n}\n//# sourceMappingURL=utils.js.map","import { __extends } from \"tslib\";\nimport { each, get, map } from '@antv/util';\nimport { registerAction, registerInteraction, Action } from '@antv/g2';\nimport { getAllElements, getViews, getSilbingViews } from '../../../utils';\nimport { clearHighlight, getElementValue } from './utils';\n/**\n *  view view \n *\n *  actionlinkField dim \n * 1. showTooltip\n * 2. active\n * 3. highlight\n * 4. selected\n *\n *  action\n * 1. hidetooltip\n * 2. reset \n */\nvar Association = /** @class */ (function (_super) {\n    __extends(Association, _super);\n    function Association() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     *  elements\n     *\n     * -  dim  dim  field linkField  return\n     * -  dim  linkField \n     * -  linkField \n     * @returns EventItem[]\n     */\n    Association.prototype.getAssociationItems = function (views, params) {\n        var _a;\n        var event = this.context.event;\n        var _b = params || {}, linkField = _b.linkField, dim = _b.dim;\n        var items = [];\n        if ((_a = event.data) === null || _a === void 0 ? void 0 : _a.data) {\n            var data_1 = event.data.data;\n            each(views, function (v) {\n                var _a, _b;\n                var field = linkField;\n                if (dim === 'x') {\n                    field = v.getXScale().field;\n                }\n                else if (dim === 'y') {\n                    field = (_a = v.getYScales().find(function (s) { return s.field === field; })) === null || _a === void 0 ? void 0 : _a.field;\n                }\n                else if (!field) {\n                    field = (_b = v.getGroupScales()[0]) === null || _b === void 0 ? void 0 : _b.field;\n                }\n                if (!field) {\n                    return;\n                }\n                var elements = map(getAllElements(v), function (ele) {\n                    var active = false;\n                    var inactive = false;\n                    if (getElementValue(ele, field) === get(data_1, field)) {\n                        active = true;\n                    }\n                    else {\n                        inactive = true;\n                    }\n                    return { element: ele, view: v, active: active, inactive: inactive };\n                });\n                items.push.apply(items, elements);\n            });\n        }\n        return items;\n    };\n    /**\n     *  tooltip \n     */\n    Association.prototype.showTooltip = function (params) {\n        var siblings = getSilbingViews(this.context.view);\n        var elements = this.getAssociationItems(siblings, params);\n        each(elements, function (ele) {\n            if (ele.active) {\n                var box = ele.element.shape.getCanvasBBox();\n                ele.view.showTooltip({ x: box.minX + box.width / 2, y: box.minY + box.height / 2 });\n            }\n        });\n    };\n    /**\n     *  tooltip\n     */\n    Association.prototype.hideTooltip = function () {\n        var siblings = getSilbingViews(this.context.view);\n        each(siblings, function (sibling) {\n            sibling.hideTooltip();\n        });\n    };\n    /**\n     *  active \n     */\n    Association.prototype.active = function (params) {\n        var views = getViews(this.context.view);\n        var items = this.getAssociationItems(views, params);\n        each(items, function (item) {\n            var active = item.active, element = item.element;\n            if (active) {\n                element.setState('active', true);\n            }\n        });\n    };\n    /**\n     *  selected \n     */\n    Association.prototype.selected = function (params) {\n        var views = getViews(this.context.view);\n        var items = this.getAssociationItems(views, params);\n        each(items, function (item) {\n            var active = item.active, element = item.element;\n            if (active) {\n                element.setState('selected', true);\n            }\n        });\n    };\n    /**\n     *  =>  inactive \n     */\n    Association.prototype.highlight = function (params) {\n        var views = getViews(this.context.view);\n        var items = this.getAssociationItems(views, params);\n        each(items, function (item) {\n            var inactive = item.inactive, element = item.element;\n            if (inactive) {\n                element.setState('inactive', true);\n            }\n        });\n    };\n    Association.prototype.reset = function () {\n        var views = getViews(this.context.view);\n        each(views, function (v) {\n            clearHighlight(v);\n        });\n    };\n    return Association;\n}(Action));\nregisterAction('association', Association);\n/**\n *  view  active  tooltip \n */\nregisterInteraction('association-active', {\n    start: [{ trigger: 'element:mouseenter', action: 'association:active' }],\n    end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n/**\n *  view  active  tooltip \n */\nregisterInteraction('association-selected', {\n    start: [{ trigger: 'element:mouseenter', action: 'association:selected' }],\n    end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n/**\n *  view  highlight ,  element\n */\nregisterInteraction('association-highlight', {\n    start: [{ trigger: 'element:mouseenter', action: 'association:highlight' }],\n    end: [{ trigger: 'element:mouseleave', action: 'association:reset' }],\n});\n/**\n *  view  tooltip  groupField  tooltip \n */\nregisterInteraction('association-tooltip', {\n    start: [{ trigger: 'element:mousemove', action: 'association:showTooltip' }],\n    end: [{ trigger: 'element:mouseleave', action: 'association:hideTooltip' }],\n});\n//# sourceMappingURL=association.js.map","import { __extends } from \"tslib\";\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport './interactions';\n/**\n *  G2 80% \n * 1. \n *   -  + \n *   - \n *   - ...\n * 2. \n *   - \n *   - \n *   - ...\n */\nvar MultiView = /** @class */ (function (_super) {\n    __extends(MultiView, _super);\n    function MultiView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'multi-view';\n        return _this;\n    }\n    /**\n     * \n     */\n    MultiView.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return MultiView;\n}(Plot));\nexport { MultiView };\n//# sourceMappingURL=index.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\n\nvar _constant = require(\"../constant\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar createSensor = function createSensor(element) {\n  var sensor = undefined; // callback\n\n  var listeners = [];\n  /**\n   * create object DOM of sensor\n   * @returns {HTMLObjectElement}\n   */\n\n  var newSensor = function newSensor() {\n    // adjust style\n    if (getComputedStyle(element).position === 'static') {\n      element.style.position = 'relative';\n    }\n\n    var obj = document.createElement('object');\n\n    obj.onload = function () {\n      obj.contentDocument.defaultView.addEventListener('resize', resizeListener); //  resize\n\n      resizeListener();\n    };\n\n    obj.style.display = 'block';\n    obj.style.position = 'absolute';\n    obj.style.top = '0';\n    obj.style.left = '0';\n    obj.style.height = '100%';\n    obj.style.width = '100%';\n    obj.style.overflow = 'hidden';\n    obj.style.pointerEvents = 'none';\n    obj.style.zIndex = '-1';\n    obj.style.opacity = '0';\n    obj.setAttribute('class', _constant.SensorClassName);\n    obj.setAttribute('tabindex', _constant.SensorTabIndex);\n    obj.type = 'text/html'; // append into dom\n\n    element.appendChild(obj); // for ie, should set data attribute delay, or will be white screen\n\n    obj.data = 'about:blank';\n    return obj;\n  };\n  /**\n   * trigger listeners\n   */\n\n\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all listener\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n  /**\n   * listen with one callback function\n   * @param cb\n   */\n\n  var bind = function bind(cb) {\n    // if not exist sensor, then create one\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n  /**\n   * destroy all\n   */\n\n\n  var destroy = function destroy() {\n    if (sensor && sensor.parentNode) {\n      if (sensor.contentDocument) {\n        // remote event\n        sensor.contentDocument.defaultView.removeEventListener('resize', resizeListener);\n      } // remove dom\n\n\n      sensor.parentNode.removeChild(sensor); // initial variable\n\n      sensor = undefined;\n      listeners = [];\n    }\n  };\n  /**\n   * cancel listener bind\n   * @param cb\n   */\n\n\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    } // no listener, and sensor is exist\n    // then destroy the sensor\n\n\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\n\nexports.createSensor = createSensor;","export function getScaleMax(maxAngle, yField, data) {\n    var yData = data.map(function (item) { return item[yField]; }).filter(function (v) { return v !== undefined; });\n    var maxValue = yData.length > 0 ? Math.max.apply(Math, yData) : 0;\n    var formatRadian = Math.abs(maxAngle) % 360;\n    if (!formatRadian) {\n        return maxValue;\n    }\n    return (maxValue * 360) / formatRadian;\n}\n//# sourceMappingURL=utils.js.map","import { __assign, __rest } from \"tslib\";\nimport { interaction, animation, theme, scale, tooltip, legend, annotation } from '../../adaptor/common';\nimport { flow, deepAssign, findGeometry, transformLabel } from '../../utils';\nimport { interval, point } from '../../adaptor/geometries';\nimport { getScaleMax } from './utils';\n/**\n * geometry \n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var data = options.data, style = options.barStyle, color = options.color, tooltip = options.tooltip, colorField = options.colorField, type = options.type, xField = options.xField, yField = options.yField;\n    chart.data(data);\n    var p = deepAssign({}, params, {\n        options: {\n            tooltip: tooltip,\n            seriesField: colorField,\n            interval: {\n                style: style,\n                color: color,\n                shape: type === 'line' ? 'line' : 'intervel',\n            },\n            // \n            minColumnWidth: options.minBarWidth,\n            maxColumnWidth: options.maxBarWidth,\n            columnBackground: options.barBackground,\n        },\n    });\n    interval(p);\n    if (type === 'line') {\n        point({\n            chart: chart,\n            options: { xField: xField, yField: yField, seriesField: colorField, point: { shape: 'circle', color: color } },\n        });\n    }\n    return params;\n}\n/**\n * meta \n * @param params\n */\nexport function meta(params) {\n    var _a;\n    var options = params.options;\n    var yField = options.yField, data = options.data, maxAngle = options.maxAngle;\n    return flow(scale((_a = {},\n        _a[yField] = {\n            min: 0,\n            max: getScaleMax(maxAngle, yField, data),\n        },\n        _a)))(params);\n}\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params) {\n    var chart = params.chart, options = params.options;\n    var radius = options.radius, innerRadius = options.innerRadius, startAngle = options.startAngle, endAngle = options.endAngle;\n    chart\n        .coordinate({\n        type: 'polar',\n        cfg: {\n            radius: radius,\n            innerRadius: innerRadius,\n            startAngle: startAngle,\n            endAngle: endAngle,\n        },\n    })\n        .transpose();\n    return params;\n}\n/**\n * axis \n * @param params\n */\nexport function axis(params) {\n    var chart = params.chart, options = params.options;\n    var xField = options.xField, xAxis = options.xAxis;\n    chart.axis(xField, xAxis);\n    return params;\n}\n/**\n * \n * @param params\n */\nfunction label(params) {\n    var chart = params.chart, options = params.options;\n    var label = options.label, yField = options.yField;\n    var intervalGeometry = findGeometry(chart, 'interval');\n    // label  false,   label\n    if (!label) {\n        intervalGeometry.label(false);\n    }\n    else {\n        var callback = label.callback, cfg = __rest(label, [\"callback\"]);\n        intervalGeometry.label({\n            fields: [yField],\n            callback: callback,\n            cfg: __assign(__assign({}, transformLabel(cfg)), { type: 'polar' }),\n        });\n    }\n    return params;\n}\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    return flow(geometry, meta, axis, coordinate, interaction, animation, theme, tooltip, legend, annotation(), label)(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __extends } from \"tslib\";\nimport { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { adaptor, meta } from './adaptor';\n/**\n * \n */\nvar RadialBar = /** @class */ (function (_super) {\n    __extends(RadialBar, _super);\n    function RadialBar() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'radial-bar';\n        return _this;\n    }\n    /**\n     * @override\n     * @param data\n     */\n    RadialBar.prototype.changeData = function (data) {\n        this.updateOption({ data: data });\n        // scale\n        meta({ chart: this.chart, options: this.options });\n        this.chart.changeData(data);\n    };\n    /**\n     * \n     */\n    RadialBar.prototype.getDefaultOptions = function () {\n        return deepAssign({}, _super.prototype.getDefaultOptions.call(this), {\n            interactions: [{ type: 'element-active' }],\n            legend: false,\n            tooltip: {\n                showMarkers: false,\n            },\n            xAxis: {\n                grid: null,\n                tickLine: null,\n                line: null,\n            },\n            maxAngle: 240,\n        });\n    };\n    /**\n     * \n     */\n    RadialBar.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return RadialBar;\n}(Plot));\nexport { RadialBar };\n//# sourceMappingURL=index.js.map","import { __assign, __rest } from \"tslib\";\nimport { isFunction, isString, isNil, get, isArray, isNumber } from '@antv/util';\nimport { legend, interaction, animation, theme, state, annotation } from '../../adaptor/common';\nimport { getMappingFunction } from '../../adaptor/geometries/base';\nimport { interval } from '../../adaptor/geometries';\nimport { flow, template, transformLabel, deepAssign, renderStatistic } from '../../utils';\nimport { DEFAULT_OPTIONS } from './contants';\nimport { adaptOffset, getTotalValue, processIllegalData, isAllZero } from './utils';\n/**\n * \n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var data = options.data, angleField = options.angleField, colorField = options.colorField, color = options.color, pieStyle = options.pieStyle;\n    // \n    var processData = processIllegalData(data, angleField);\n    if (isAllZero(processData, angleField)) {\n        //  0  position \n        var percentageField_1 = '$$percentage$$';\n        processData = processData.map(function (d) {\n            var _a;\n            return (__assign(__assign({}, d), (_a = {}, _a[percentageField_1] = 1 / processData.length, _a)));\n        });\n        chart.data(processData);\n        var p = deepAssign({}, params, {\n            options: {\n                xField: '1',\n                yField: percentageField_1,\n                seriesField: colorField,\n                isStack: true,\n                interval: {\n                    color: color,\n                    style: pieStyle,\n                },\n                args: {\n                    zIndexReversed: true,\n                },\n            },\n        });\n        interval(p);\n    }\n    else {\n        chart.data(processData);\n        var p = deepAssign({}, params, {\n            options: {\n                xField: '1',\n                yField: angleField,\n                seriesField: colorField,\n                isStack: true,\n                interval: {\n                    color: color,\n                    style: pieStyle,\n                },\n                args: {\n                    zIndexReversed: true,\n                },\n            },\n        });\n        interval(p);\n    }\n    return params;\n}\n/**\n * meta \n * @param params\n */\nfunction meta(params) {\n    var _a;\n    var chart = params.chart, options = params.options;\n    var meta = options.meta, colorField = options.colorField;\n    // meta  scale \n    var scales = deepAssign({}, meta);\n    chart.scale(scales, (_a = {},\n        _a[colorField] = { type: 'cat' },\n        _a));\n    return params;\n}\n/**\n * coord \n * @param params\n */\nfunction coordinate(params) {\n    var chart = params.chart, options = params.options;\n    var radius = options.radius, innerRadius = options.innerRadius, startAngle = options.startAngle, endAngle = options.endAngle;\n    chart.coordinate({\n        type: 'theta',\n        cfg: {\n            radius: radius,\n            innerRadius: innerRadius,\n            startAngle: startAngle,\n            endAngle: endAngle,\n        },\n    });\n    return params;\n}\n/**\n * label \n * @param params\n */\nfunction label(params) {\n    var chart = params.chart, options = params.options;\n    var label = options.label, colorField = options.colorField, angleField = options.angleField;\n    var geometry = chart.geometries[0];\n    // label  false,   label\n    if (!label) {\n        geometry.label(false);\n    }\n    else {\n        var callback = label.callback, cfg = __rest(label, [\"callback\"]);\n        var labelCfg = transformLabel(cfg);\n        //   label content \n        if (labelCfg.content) {\n            var content_1 = labelCfg.content;\n            labelCfg.content = function (data, dataum, index) {\n                var name = data[colorField];\n                var value = data[angleField];\n                // dymatic get scale, scale is ready this time\n                var angleScale = chart.getScaleByField(angleField);\n                var percent = angleScale === null || angleScale === void 0 ? void 0 : angleScale.scale(value);\n                return isFunction(content_1)\n                    ? // append pecent (number) to data, users can get origin data from `dataum._origin`\n                        content_1(__assign(__assign({}, data), { percent: percent }), dataum, index)\n                    : isString(content_1)\n                        ? template(content_1, {\n                            value: value,\n                            name: name,\n                            // percentage (string), default keep 2\n                            percentage: isNumber(percent) && !isNil(value) ? (percent * 100).toFixed(2) + \"%\" : null,\n                        })\n                        : content_1;\n            };\n        }\n        var LABEL_LAYOUT_TYPE_MAP = {\n            inner: '',\n            outer: 'pie-outer',\n            spider: 'pie-spider',\n        };\n        var labelLayoutType = labelCfg.type ? LABEL_LAYOUT_TYPE_MAP[labelCfg.type] : 'pie-outer';\n        var labelLayoutCfg = labelCfg.layout ? (!isArray(labelCfg.layout) ? [labelCfg.layout] : labelCfg.layout) : [];\n        labelCfg.layout = (labelLayoutType ? [{ type: labelLayoutType }] : []).concat(labelLayoutCfg);\n        geometry.label({\n            // fix: could not create scale, when field is undefinedattributes  fields  scale\n            fields: colorField ? [angleField, colorField] : [angleField],\n            callback: callback,\n            cfg: __assign(__assign({}, labelCfg), { offset: adaptOffset(labelCfg.type, labelCfg.offset), type: 'pie' }),\n        });\n    }\n    return params;\n}\n/**\n * statistic \n * @param params\n */\nexport function pieAnnotation(params) {\n    var chart = params.chart, options = params.options;\n    var innerRadius = options.innerRadius, statistic = options.statistic, angleField = options.angleField, colorField = options.colorField, meta = options.meta;\n    // \n    chart.getController('annotation').clear(true);\n    //  annotations\n    flow(annotation())(params);\n    /**   */\n    if (innerRadius && statistic) {\n        var _a = deepAssign({}, DEFAULT_OPTIONS.statistic, statistic), title = _a.title, content = _a.content;\n        if (title !== false) {\n            title = deepAssign({}, { formatter: function (datum) { return (datum ? datum[colorField] : ''); } }, title);\n        }\n        if (content !== false) {\n            content = deepAssign({}, {\n                formatter: function (datum, data) {\n                    var metaFormatter = get(meta, [angleField, 'formatter']);\n                    var dataValue = datum ? datum[angleField] : getTotalValue(data, angleField);\n                    return metaFormatter ? metaFormatter(dataValue) : dataValue;\n                },\n            }, content);\n        }\n        renderStatistic(chart, { statistic: { title: title, content: content }, plotType: 'pie' });\n    }\n    return params;\n}\n/**\n *  tooltip \n * 1.  tooltip.shared  false\n * @param params\n */\nfunction tooltip(params) {\n    var chart = params.chart, options = params.options;\n    var tooltip = options.tooltip, colorField = options.colorField, angleField = options.angleField;\n    if (tooltip === false) {\n        chart.tooltip(tooltip);\n    }\n    else {\n        chart.tooltip(deepAssign({}, tooltip, { shared: false }));\n        var fields = get(tooltip, 'fields') || [colorField, angleField];\n        var formatter = get(tooltip, 'formatter');\n        if (!formatter) {\n            //  all zero  all zero \n            formatter = function (datum) { return ({ name: datum[colorField], value: datum[angleField] }); };\n        }\n        chart.geometries[0].tooltip(fields.join('*'), getMappingFunction(fields, formatter));\n    }\n    return params;\n}\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // flow  G2 API\n    return flow(geometry, meta, theme, coordinate, legend, tooltip, label, state, \n    /**   */\n    pieAnnotation, interaction, animation)(params);\n}\n//# sourceMappingURL=adaptor.js.map","// https://github.com/HarryStevens/d3-regression#readme Version 1.3.7. Copyright 2021 Harry Stevens.\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n  typeof define === 'function' && define.amd ? define(['exports'], factory) :\n  (global = global || self, factory(global.d3 = {}));\n}(this, (function (exports) { 'use strict';\n\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n\n  // Adapted from vega-statistics by Jeffrey Heer\n  // License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n  // Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/points.js\n  function points(data, x, y, sort) {\n    data = data.filter(function (d) {\n      var u = x(d),\n          v = y(d);\n      return u != null && isFinite(u) && v != null && isFinite(v);\n    });\n\n    if (sort) {\n      data.sort(function (a, b) {\n        return x(a) - x(b);\n      });\n    }\n\n    var n = data.length,\n        X = new Float64Array(n),\n        Y = new Float64Array(n); // extract values, calculate means\n\n    var ux = 0,\n        uy = 0,\n        xv,\n        yv,\n        d;\n\n    for (var i = 0; i < n;) {\n      d = data[i];\n      X[i] = xv = +x(d);\n      Y[i] = yv = +y(d);\n      ++i;\n      ux += (xv - ux) / i;\n      uy += (yv - uy) / i;\n    } // mean center the data\n\n\n    for (var _i = 0; _i < n; ++_i) {\n      X[_i] -= ux;\n      Y[_i] -= uy;\n    }\n\n    return [X, Y, ux, uy];\n  }\n  function visitPoints(data, x, y, cb) {\n    var iterations = 0;\n\n    for (var i = 0, n = data.length; i < n; i++) {\n      var d = data[i],\n          dx = +x(d),\n          dy = +y(d);\n\n      if (dx != null && isFinite(dx) && dy != null && isFinite(dy)) {\n        cb(dx, dy, iterations++);\n      }\n    }\n  }\n\n  // return the coefficient of determination, or R squared.\n\n  function determination(data, x, y, uY, predict) {\n    var SSE = 0,\n        SST = 0;\n    visitPoints(data, x, y, function (dx, dy) {\n      var sse = dy - predict(dx),\n          sst = dy - uY;\n      SSE += sse * sse;\n      SST += sst * sst;\n    });\n    return 1 - SSE / SST;\n  }\n\n  // Returns the angle of a line in degrees.\n  function angle(line) {\n    return Math.atan2(line[1][1] - line[0][1], line[1][0] - line[0][0]) * 180 / Math.PI;\n  } // Returns the midpoint of a line.\n\n  function midpoint(line) {\n    return [(line[0][0] + line[1][0]) / 2, (line[0][1] + line[1][1]) / 2];\n  }\n\n  // returns a smooth line.\n\n  function interpose(xmin, xmax, predict) {\n    var l = Math.log(xmax - xmin) * Math.LOG10E + 1 | 0;\n    var precision = 1 * Math.pow(10, -l / 2 - 1),\n        maxIter = 1e4;\n    var points = [px(xmin), px(xmax)],\n        iter = 0;\n\n    while (find(points) && iter < maxIter) {\n    }\n\n    return points;\n\n    function px(x) {\n      return [x, predict(x)];\n    }\n\n    function find(points) {\n      iter++;\n      var n = points.length;\n      var found = false;\n\n      for (var i = 0; i < n - 1; i++) {\n        var p0 = points[i],\n            p1 = points[i + 1],\n            m = midpoint([p0, p1]),\n            mp = px(m[0]),\n            a0 = angle([p0, m]),\n            a1 = angle([p0, mp]),\n            a = Math.abs(a0 - a1);\n\n        if (a > precision) {\n          points.splice(i + 1, 0, mp);\n          found = true;\n        }\n      }\n\n      return found;\n    }\n  }\n\n  // Ordinary Least Squares from vega-statistics by Jeffrey Heer\n  // License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n  // Source: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/packages/vega-statistics/src/regression/ols.js\n  function ols(uX, uY, uXY, uX2) {\n    var delta = uX2 - uX * uX,\n        slope = Math.abs(delta) < 1e-24 ? 0 : (uXY - uX * uY) / delta,\n        intercept = uY - slope * uX;\n    return [intercept, slope];\n  }\n\n  function exponential () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        domain;\n\n    function exponential(data) {\n      var n = 0,\n          Y = 0,\n          YL = 0,\n          XY = 0,\n          XYL = 0,\n          X2Y = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        var ly = Math.log(dy),\n            xy = dx * dy;\n        ++n;\n        Y += (dy - Y) / n;\n        XY += (xy - XY) / n;\n        X2Y += (dx * xy - X2Y) / n;\n        YL += (dy * ly - YL) / n;\n        XYL += (xy * ly - XYL) / n;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var _ols = ols(XY / Y, YL / Y, XYL / Y, X2Y / Y),\n          _ols2 = _slicedToArray(_ols, 2),\n          a = _ols2[0],\n          b = _ols2[1];\n\n      a = Math.exp(a);\n\n      var fn = function fn(x) {\n        return a * Math.exp(b * x);\n      },\n          out = interpose(xmin, xmax, fn);\n\n      out.a = a;\n      out.b = b;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    exponential.domain = function (arr) {\n      return arguments.length ? (domain = arr, exponential) : domain;\n    };\n\n    exponential.x = function (fn) {\n      return arguments.length ? (x = fn, exponential) : x;\n    };\n\n    exponential.y = function (fn) {\n      return arguments.length ? (y = fn, exponential) : y;\n    };\n\n    return exponential;\n  }\n\n  function linear () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        domain;\n\n    function linear(data) {\n      var n = 0,\n          X = 0,\n          // sum of x\n      Y = 0,\n          // sum of y\n      XY = 0,\n          // sum of x * y\n      X2 = 0,\n          // sum of x * x\n      xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        ++n;\n        X += (dx - X) / n;\n        Y += (dy - Y) / n;\n        XY += (dx * dy - XY) / n;\n        X2 += (dx * dx - X2) / n;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var _ols = ols(X, Y, XY, X2),\n          _ols2 = _slicedToArray(_ols, 2),\n          intercept = _ols2[0],\n          slope = _ols2[1],\n          fn = function fn(x) {\n        return slope * x + intercept;\n      },\n          out = [[xmin, fn(xmin)], [xmax, fn(xmax)]];\n\n      out.a = slope;\n      out.b = intercept;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    linear.domain = function (arr) {\n      return arguments.length ? (domain = arr, linear) : domain;\n    };\n\n    linear.x = function (fn) {\n      return arguments.length ? (x = fn, linear) : x;\n    };\n\n    linear.y = function (fn) {\n      return arguments.length ? (y = fn, linear) : y;\n    };\n\n    return linear;\n  }\n\n  // Returns the medium value of an array of numbers.\n  function median(arr) {\n    arr.sort(function (a, b) {\n      return a - b;\n    });\n    var i = arr.length / 2;\n    return i % 1 === 0 ? (arr[i - 1] + arr[i]) / 2 : arr[Math.floor(i)];\n  }\n\n  var maxiters = 2,\n      epsilon = 1e-12;\n  function loess () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        bandwidth = .3;\n\n    function loess(data) {\n      var _points = points(data, x, y, true),\n          _points2 = _slicedToArray(_points, 4),\n          xv = _points2[0],\n          yv = _points2[1],\n          ux = _points2[2],\n          uy = _points2[3],\n          n = xv.length,\n          bw = Math.max(2, ~~(bandwidth * n)),\n          yhat = new Float64Array(n),\n          residuals = new Float64Array(n),\n          robustWeights = new Float64Array(n).fill(1);\n\n      for (var iter = -1; ++iter <= maxiters;) {\n        var interval = [0, bw - 1];\n\n        for (var i = 0; i < n; ++i) {\n          var dx = xv[i],\n              i0 = interval[0],\n              i1 = interval[1],\n              edge = dx - xv[i0] > xv[i1] - dx ? i0 : i1;\n          var W = 0,\n              X = 0,\n              Y = 0,\n              XY = 0,\n              X2 = 0,\n              denom = 1 / Math.abs(xv[edge] - dx || 1); // Avoid singularity\n\n          for (var k = i0; k <= i1; ++k) {\n            var xk = xv[k],\n                yk = yv[k],\n                w = tricube(Math.abs(dx - xk) * denom) * robustWeights[k],\n                xkw = xk * w;\n            W += w;\n            X += xkw;\n            Y += yk * w;\n            XY += yk * xkw;\n            X2 += xk * xkw;\n          } // Linear regression fit\n\n\n          var _ols = ols(X / W, Y / W, XY / W, X2 / W),\n              _ols2 = _slicedToArray(_ols, 2),\n              a = _ols2[0],\n              b = _ols2[1];\n\n          yhat[i] = a + b * dx;\n          residuals[i] = Math.abs(yv[i] - yhat[i]);\n          updateInterval(xv, i + 1, interval);\n        }\n\n        if (iter === maxiters) {\n          break;\n        }\n\n        var medianResidual = median(residuals);\n        if (Math.abs(medianResidual) < epsilon) break;\n\n        for (var _i = 0, arg, _w; _i < n; ++_i) {\n          arg = residuals[_i] / (6 * medianResidual); // Default to epsilon (rather than zero) for large deviations\n          // Keeping weights tiny but non-zero prevents singularites\n\n          robustWeights[_i] = arg >= 1 ? epsilon : (_w = 1 - arg * arg) * _w;\n        }\n      }\n\n      return output(xv, yhat, ux, uy);\n    }\n\n    loess.bandwidth = function (bw) {\n      return arguments.length ? (bandwidth = bw, loess) : bandwidth;\n    };\n\n    loess.x = function (fn) {\n      return arguments.length ? (x = fn, loess) : x;\n    };\n\n    loess.y = function (fn) {\n      return arguments.length ? (y = fn, loess) : y;\n    };\n\n    return loess;\n  } // Weighting kernel for local regression\n\n  function tricube(x) {\n    return (x = 1 - x * x * x) * x * x;\n  } // Advance sliding window interval of nearest neighbors\n\n\n  function updateInterval(xv, i, interval) {\n    var val = xv[i],\n        left = interval[0],\n        right = interval[1] + 1;\n    if (right >= xv.length) return; // Step right if distance to new right edge is <= distance to old left edge\n    // Step when distance is equal to ensure movement over duplicate x values\n\n    while (i > left && xv[right] - val <= val - xv[left]) {\n      interval[0] = ++left;\n      interval[1] = right;\n      ++right;\n    }\n  } // Generate smoothed output points\n  // Average points with repeated x values\n\n\n  function output(xv, yhat, ux, uy) {\n    var n = xv.length,\n        out = [];\n    var i = 0,\n        cnt = 0,\n        prev = [],\n        v;\n\n    for (; i < n; ++i) {\n      v = xv[i] + ux;\n\n      if (prev[0] === v) {\n        // Average output values via online update\n        prev[1] += (yhat[i] - prev[1]) / ++cnt;\n      } else {\n        // Add new output point\n        cnt = 0;\n        prev[1] += uy;\n        prev = [v, yhat[i]];\n        out.push(prev);\n      }\n    }\n\n    prev[1] += uy;\n    return out;\n  }\n\n  function logarithmic () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        base = Math.E,\n        domain;\n\n    function logarithmic(data) {\n      var n = 0,\n          X = 0,\n          Y = 0,\n          XY = 0,\n          X2 = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity,\n          lb = Math.log(base);\n      visitPoints(data, x, y, function (dx, dy) {\n        var lx = Math.log(dx) / lb;\n        ++n;\n        X += (lx - X) / n;\n        Y += (dy - Y) / n;\n        XY += (lx * dy - XY) / n;\n        X2 += (lx * lx - X2) / n;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var _ols = ols(X, Y, XY, X2),\n          _ols2 = _slicedToArray(_ols, 2),\n          intercept = _ols2[0],\n          slope = _ols2[1],\n          fn = function fn(x) {\n        return slope * Math.log(x) / lb + intercept;\n      },\n          out = interpose(xmin, xmax, fn);\n\n      out.a = slope;\n      out.b = intercept;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    logarithmic.domain = function (arr) {\n      return arguments.length ? (domain = arr, logarithmic) : domain;\n    };\n\n    logarithmic.x = function (fn) {\n      return arguments.length ? (x = fn, logarithmic) : x;\n    };\n\n    logarithmic.y = function (fn) {\n      return arguments.length ? (y = fn, logarithmic) : y;\n    };\n\n    logarithmic.base = function (n) {\n      return arguments.length ? (base = n, logarithmic) : base;\n    };\n\n    return logarithmic;\n  }\n\n  function quad () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        domain;\n\n    function quadratic(data) {\n      var _points = points(data, x, y),\n          _points2 = _slicedToArray(_points, 4),\n          xv = _points2[0],\n          yv = _points2[1],\n          ux = _points2[2],\n          uy = _points2[3],\n          n = xv.length;\n\n      var X2 = 0,\n          X3 = 0,\n          X4 = 0,\n          XY = 0,\n          X2Y = 0,\n          i,\n          dx,\n          dy,\n          x2;\n\n      for (i = 0; i < n;) {\n        dx = xv[i];\n        dy = yv[i++];\n        x2 = dx * dx;\n        X2 += (x2 - X2) / i;\n        X3 += (x2 * dx - X3) / i;\n        X4 += (x2 * x2 - X4) / i;\n        XY += (dx * dy - XY) / i;\n        X2Y += (x2 * dy - X2Y) / i;\n      }\n\n      var Y = 0,\n          n0 = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        n0++;\n        Y += (dy - Y) / n0;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var X2X2 = X4 - X2 * X2,\n          d = X2 * X2X2 - X3 * X3,\n          a = (X2Y * X2 - XY * X3) / d,\n          b = (XY * X2X2 - X2Y * X3) / d,\n          c = -a * X2,\n          fn = function fn(x) {\n        x = x - ux;\n        return a * x * x + b * x + c + uy;\n      };\n\n      var out = interpose(xmin, xmax, fn);\n      out.a = a;\n      out.b = b - 2 * a * ux;\n      out.c = c - b * ux + a * ux * ux + uy;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    quadratic.domain = function (arr) {\n      return arguments.length ? (domain = arr, quadratic) : domain;\n    };\n\n    quadratic.x = function (fn) {\n      return arguments.length ? (x = fn, quadratic) : x;\n    };\n\n    quadratic.y = function (fn) {\n      return arguments.length ? (y = fn, quadratic) : y;\n    };\n\n    return quadratic;\n  }\n\n  // Source: https://github.com/Tom-Alexander/regression-js/blob/master/src/regression.js#L246\n  // License: https://github.com/Tom-Alexander/regression-js/blob/master/LICENSE\n  // ...with ideas from vega-statistics by Jeffrey Heer\n  // Source: https://github.com/vega/vega/blob/f21cb8792b4e0cbe2b1a3fd44b0f5db370dbaadb/packages/vega-statistics/src/regression/poly.js\n  // License: https://github.com/vega/vega/blob/f058b099decad9db78301405dd0d2e9d8ba3d51a/LICENSE\n\n  function polynomial () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        order = 3,\n        domain;\n\n    function polynomial(data) {\n      // Use more efficient methods for lower orders\n      if (order === 1) {\n        var o = linear().x(x).y(y).domain(domain)(data);\n        o.coefficients = [o.b, o.a];\n        delete o.a;\n        delete o.b;\n        return o;\n      }\n\n      if (order === 2) {\n        var _o = quad().x(x).y(y).domain(domain)(data);\n\n        _o.coefficients = [_o.c, _o.b, _o.a];\n        delete _o.a;\n        delete _o.b;\n        delete _o.c;\n        return _o;\n      }\n\n      var _points = points(data, x, y),\n          _points2 = _slicedToArray(_points, 4),\n          xv = _points2[0],\n          yv = _points2[1],\n          ux = _points2[2],\n          uy = _points2[3],\n          n = xv.length,\n          lhs = [],\n          rhs = [],\n          k = order + 1;\n\n      var Y = 0,\n          n0 = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        ++n0;\n        Y += (dy - Y) / n0;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n      var i, j, l, v, c;\n\n      for (i = 0; i < k; ++i) {\n        for (l = 0, v = 0; l < n; ++l) {\n          v += Math.pow(xv[l], i) * yv[l];\n        }\n\n        lhs.push(v);\n        c = new Float64Array(k);\n\n        for (j = 0; j < k; ++j) {\n          for (l = 0, v = 0; l < n; ++l) {\n            v += Math.pow(xv[l], i + j);\n          }\n\n          c[j] = v;\n        }\n\n        rhs.push(c);\n      }\n\n      rhs.push(lhs);\n\n      var coef = gaussianElimination(rhs),\n          fn = function fn(x) {\n        x -= ux;\n        var y = uy + coef[0] + coef[1] * x + coef[2] * x * x;\n\n        for (i = 3; i < k; ++i) {\n          y += coef[i] * Math.pow(x, i);\n        }\n\n        return y;\n      },\n          out = interpose(xmin, xmax, fn);\n\n      out.coefficients = uncenter(k, coef, -ux, uy);\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, Y, fn);\n      return out;\n    }\n\n    polynomial.domain = function (arr) {\n      return arguments.length ? (domain = arr, polynomial) : domain;\n    };\n\n    polynomial.x = function (fn) {\n      return arguments.length ? (x = fn, polynomial) : x;\n    };\n\n    polynomial.y = function (fn) {\n      return arguments.length ? (y = fn, polynomial) : y;\n    };\n\n    polynomial.order = function (n) {\n      return arguments.length ? (order = n, polynomial) : order;\n    };\n\n    return polynomial;\n  }\n\n  function uncenter(k, a, x, y) {\n    var z = Array(k);\n    var i, j, v, c; // initialize to zero\n\n    for (i = 0; i < k; ++i) {\n      z[i] = 0;\n    } // polynomial expansion\n\n\n    for (i = k - 1; i >= 0; --i) {\n      v = a[i];\n      c = 1;\n      z[i] += v;\n\n      for (j = 1; j <= i; ++j) {\n        c *= (i + 1 - j) / j; // binomial coefficent\n\n        z[i - j] += v * Math.pow(x, j) * c;\n      }\n    } // bias term\n\n\n    z[0] += y;\n    return z;\n  } // Given an array for a two-dimensional matrix and the polynomial order,\n  // solve A * x = b using Gaussian elimination.\n\n\n  function gaussianElimination(matrix) {\n    var n = matrix.length - 1,\n        coef = [];\n    var i, j, k, r, t;\n\n    for (i = 0; i < n; ++i) {\n      r = i; // max row\n\n      for (j = i + 1; j < n; ++j) {\n        if (Math.abs(matrix[i][j]) > Math.abs(matrix[i][r])) {\n          r = j;\n        }\n      }\n\n      for (k = i; k < n + 1; ++k) {\n        t = matrix[k][i];\n        matrix[k][i] = matrix[k][r];\n        matrix[k][r] = t;\n      }\n\n      for (j = i + 1; j < n; ++j) {\n        for (k = n; k >= i; k--) {\n          matrix[k][j] -= matrix[k][i] * matrix[i][j] / matrix[i][i];\n        }\n      }\n    }\n\n    for (j = n - 1; j >= 0; --j) {\n      t = 0;\n\n      for (k = j + 1; k < n; ++k) {\n        t += matrix[k][j] * coef[k];\n      }\n\n      coef[j] = (matrix[n][j] - t) / matrix[j][j];\n    }\n\n    return coef;\n  }\n\n  function power () {\n    var x = function x(d) {\n      return d[0];\n    },\n        y = function y(d) {\n      return d[1];\n    },\n        domain;\n\n    function power(data) {\n      var n = 0,\n          X = 0,\n          Y = 0,\n          XY = 0,\n          X2 = 0,\n          YS = 0,\n          xmin = domain ? +domain[0] : Infinity,\n          xmax = domain ? +domain[1] : -Infinity;\n      visitPoints(data, x, y, function (dx, dy) {\n        var lx = Math.log(dx),\n            ly = Math.log(dy);\n        ++n;\n        X += (lx - X) / n;\n        Y += (ly - Y) / n;\n        XY += (lx * ly - XY) / n;\n        X2 += (lx * lx - X2) / n;\n        YS += (dy - YS) / n;\n\n        if (!domain) {\n          if (dx < xmin) xmin = dx;\n          if (dx > xmax) xmax = dx;\n        }\n      });\n\n      var _ols = ols(X, Y, XY, X2),\n          _ols2 = _slicedToArray(_ols, 2),\n          a = _ols2[0],\n          b = _ols2[1];\n\n      a = Math.exp(a);\n\n      var fn = function fn(x) {\n        return a * Math.pow(x, b);\n      },\n          out = interpose(xmin, xmax, fn);\n\n      out.a = a;\n      out.b = b;\n      out.predict = fn;\n      out.rSquared = determination(data, x, y, YS, fn);\n      return out;\n    }\n\n    power.domain = function (arr) {\n      return arguments.length ? (domain = arr, power) : domain;\n    };\n\n    power.x = function (fn) {\n      return arguments.length ? (x = fn, power) : x;\n    };\n\n    power.y = function (fn) {\n      return arguments.length ? (y = fn, power) : y;\n    };\n\n    return power;\n  }\n\n  exports.regressionExp = exponential;\n  exports.regressionLinear = linear;\n  exports.regressionLoess = loess;\n  exports.regressionLog = logarithmic;\n  exports.regressionPoly = polynomial;\n  exports.regressionPow = power;\n  exports.regressionQuad = quad;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n","/*\n * for Arc Diagram (edges without weight) / Chord Diagram (edges with source and target weight)\n * graph data required (nodes, edges)\n */\nimport { assign, forIn, isFunction } from '@antv/util';\nvar DEFAULT_OPTIONS = {\n    y: 0,\n    nodeWidthRatio: 0.05,\n    weight: false,\n    nodePaddingRatio: 0.1,\n    id: function (node) { return node.id; },\n    source: function (edge) { return edge.source; },\n    target: function (edge) { return edge.target; },\n    sourceWeight: function (edge) { return edge.value || 1; },\n    targetWeight: function (edge) { return edge.value || 1; },\n    sortBy: null,\n};\n/**\n * valueedges\n * @param nodeById\n * @param edges\n * @param options\n */\nfunction processGraph(nodeById, edges, options) {\n    forIn(nodeById, function (node, id) {\n        // in edges, out edges\n        node.inEdges = edges.filter(function (edge) { return \"\" + options.target(edge) === \"\" + id; });\n        node.outEdges = edges.filter(function (edge) { return \"\" + options.source(edge) === \"\" + id; });\n        // frequency\n        node.edges = node.outEdges.concat(node.inEdges);\n        node.frequency = node.edges.length;\n        // weight\n        node.value = 0;\n        node.inEdges.forEach(function (edge) {\n            node.value += options.targetWeight(edge);\n        });\n        node.outEdges.forEach(function (edge) {\n            node.value += options.sourceWeight(edge);\n        });\n    });\n}\n/**\n * \n * @param nodes\n * @param options\n */\nfunction sortNodes(nodes, options) {\n    var sortMethods = {\n        weight: function (a, b) { return b.value - a.value; },\n        frequency: function (a, b) { return b.frequency - a.frequency; },\n        id: function (a, b) { return (\"\" + options.id(a)).localeCompare(\"\" + options.id(b)); },\n    };\n    var method = sortMethods[options.sortBy];\n    if (!method && isFunction(options.sortBy)) {\n        method = options.sortBy;\n    }\n    if (method) {\n        nodes.sort(method);\n    }\n}\nfunction layoutNodes(nodes, options) {\n    var len = nodes.length;\n    if (!len) {\n        throw new TypeError(\"Invalid nodes: it's empty!\");\n    }\n    if (options.weight) {\n        var nodePaddingRatio_1 = options.nodePaddingRatio;\n        if (nodePaddingRatio_1 < 0 || nodePaddingRatio_1 >= 1) {\n            throw new TypeError('Invalid nodePaddingRatio: it must be in range [0, 1)!');\n        }\n        var margin_1 = nodePaddingRatio_1 / (2 * len);\n        var nodeWidthRatio_1 = options.nodeWidthRatio;\n        if (nodeWidthRatio_1 <= 0 || nodeWidthRatio_1 >= 1) {\n            throw new TypeError('Invalid nodeWidthRatio: it must be in range (0, 1)!');\n        }\n        var totalValue_1 = 0;\n        nodes.forEach(function (node) {\n            totalValue_1 += node.value;\n        });\n        nodes.forEach(function (node) {\n            node.weight = node.value / totalValue_1;\n            node.width = node.weight * (1 - nodePaddingRatio_1);\n            node.height = nodeWidthRatio_1;\n        });\n        nodes.forEach(function (node, index) {\n            // x\n            var deltaX = 0;\n            for (var i = index - 1; i >= 0; i--) {\n                deltaX += nodes[i].width + 2 * margin_1;\n            }\n            var minX = (node.minX = margin_1 + deltaX);\n            var maxX = (node.maxX = node.minX + node.width);\n            var minY = (node.minY = options.y - nodeWidthRatio_1 / 2);\n            var maxY = (node.maxY = minY + nodeWidthRatio_1);\n            node.x = [minX, maxX, maxX, minX];\n            node.y = [minY, minY, maxY, maxY];\n            /* points\n             * 3---2\n             * |   |\n             * 0---1\n             */\n            // node.x = minX + 0.5 * node.width;\n            // node.y = options.y;\n        });\n    }\n    else {\n        var deltaX_1 = 1 / len;\n        nodes.forEach(function (node, index) {\n            node.x = (index + 0.5) * deltaX_1;\n            node.y = options.y;\n        });\n    }\n    return nodes;\n}\nfunction locatingEdges(nodeById, edges, options) {\n    if (options.weight) {\n        var valueById_1 = {};\n        forIn(nodeById, function (node, id) {\n            valueById_1[id] = node.value;\n        });\n        edges.forEach(function (edge) {\n            var sId = options.source(edge);\n            var tId = options.target(edge);\n            var sNode = nodeById[sId];\n            var tNode = nodeById[tId];\n            if (sNode && tNode) {\n                var sValue = valueById_1[sId];\n                var currentSValue = options.sourceWeight(edge);\n                var sStart = sNode.minX + ((sNode.value - sValue) / sNode.value) * sNode.width;\n                var sEnd = sStart + (currentSValue / sNode.value) * sNode.width;\n                valueById_1[sId] -= currentSValue;\n                var tValue = valueById_1[tId];\n                var currentTValue = options.targetWeight(edge);\n                var tStart = tNode.minX + ((tNode.value - tValue) / tNode.value) * tNode.width;\n                var tEnd = tStart + (currentTValue / tNode.value) * tNode.width;\n                valueById_1[tId] -= currentTValue;\n                var y = options.y;\n                edge.x = [sStart, sEnd, tStart, tEnd];\n                edge.y = [y, y, y, y];\n                // edgesourcetargetid sourceNodetargetNode\n                edge.source = sNode;\n                edge.target = tNode;\n            }\n        });\n    }\n    else {\n        edges.forEach(function (edge) {\n            var sNode = nodeById[options.source(edge)];\n            var tNode = nodeById[options.target(edge)];\n            if (sNode && tNode) {\n                edge.x = [sNode.x, tNode.x];\n                edge.y = [sNode.y, tNode.y];\n                // edgesourcetargetid sourceNodetargetNode\n                edge.source = sNode;\n                edge.target = tNode;\n            }\n        });\n    }\n    return edges;\n}\nexport function getDefaultOptions(options) {\n    return assign({}, DEFAULT_OPTIONS, options);\n}\nexport function chordLayout(chordLayoutOptions, chordLayoutInputData) {\n    var options = getDefaultOptions(chordLayoutOptions);\n    var nodeById = {};\n    var nodes = chordLayoutInputData.nodes;\n    var links = chordLayoutInputData.links;\n    nodes.forEach(function (node) {\n        var id = options.id(node);\n        nodeById[id] = node;\n    });\n    processGraph(nodeById, links, options);\n    sortNodes(nodes, options);\n    var outputNodes = layoutNodes(nodes, options);\n    var outputLinks = locatingEdges(nodeById, links, options);\n    return {\n        nodes: outputNodes,\n        links: outputLinks,\n    };\n}\n//# sourceMappingURL=chord.js.map","export var X_FIELD = 'x';\nexport var Y_FIELD = 'y';\nexport var NODE_COLOR_FIELD = 'name';\nexport var EDGE_COLOR_FIELD = 'source';\n//# sourceMappingURL=constant.js.map","import { __assign } from \"tslib\";\nimport { interaction, animation, theme } from '../../adaptor/common';\nimport { flow } from '../../utils';\nimport { polygon, edge } from '../../adaptor/geometries';\nimport { chordLayout } from '../../utils/transform/chord';\nimport { transformDataToNodeLinkData } from '../../utils/data';\nimport { X_FIELD, Y_FIELD, NODE_COLOR_FIELD, EDGE_COLOR_FIELD } from './constant';\nfunction transformData(params) {\n    // extnodeGeometry edgeGeometry\n    var options = params.options;\n    var data = options.data, sourceField = options.sourceField, targetField = options.targetField, weightField = options.weightField, nodePaddingRatio = options.nodePaddingRatio, nodeWidthRatio = options.nodeWidthRatio;\n    // node link\n    var chordLayoutInputData = transformDataToNodeLinkData(data, sourceField, targetField, weightField);\n    var _a = chordLayout({ weight: true, nodePaddingRatio: nodePaddingRatio, nodeWidthRatio: nodeWidthRatio }, chordLayoutInputData), nodes = _a.nodes, links = _a.links;\n    // 1. node\n    var nodesData = nodes.map(function (node) {\n        return {\n            id: node.id,\n            x: node.x,\n            y: node.y,\n            name: node.name,\n        };\n    });\n    // 2. edge\n    // TODO: \n    var edgesData = links.map(function (link) {\n        return {\n            source: link.source.name,\n            target: link.target.name,\n            x: link.x,\n            y: link.y,\n            value: link.value,\n        };\n    });\n    return __assign(__assign({}, params), { ext: __assign(__assign({}, params.ext), { \n            // chordDataextgeometry\n            chordData: { nodesData: nodesData, edgesData: edgesData } }) });\n}\n/**\n * scale\n * @param params \n */\nfunction scale(params) {\n    var _a;\n    var chart = params.chart;\n    chart.scale((_a = {\n            x: { sync: true, nice: true },\n            y: { sync: true, nice: true, max: 1 }\n        },\n        _a[NODE_COLOR_FIELD] = { sync: 'color' },\n        _a[EDGE_COLOR_FIELD] = { sync: 'color' },\n        _a));\n    return params;\n}\n/**\n * axis\n * @param params \n */\nfunction axis(params) {\n    var chart = params.chart;\n    chart.axis(false);\n    return params;\n}\n/**\n * legend\n * @param params \n */\nfunction legend(params) {\n    var chart = params.chart;\n    chart.legend(false);\n    return params;\n}\n/**\n * tooltip\n * @param params \n */\nfunction tooltip(params) {\n    var chart = params.chart;\n    chart.tooltip({\n        showTitle: false,\n        showMarkers: false,\n    });\n    return params;\n}\n/**\n * coordinate\n * @param params \n */\nfunction coordinate(params) {\n    var chart = params.chart;\n    chart.coordinate('polar').reflect('y');\n    return params;\n}\n/**\n * nodeGeometry\n * @param params \n */\nfunction nodeGeometry(params) {\n    // node view\n    var chart = params.chart, options = params.options;\n    var nodesData = params.ext.chordData.nodesData;\n    var nodeStyle = options.nodeStyle, label = options.label;\n    var nodeView = chart.createView();\n    nodeView.data(nodesData);\n    // \n    polygon({\n        chart: nodeView,\n        options: {\n            xField: X_FIELD,\n            yField: Y_FIELD,\n            seriesField: NODE_COLOR_FIELD,\n            polygon: {\n                style: nodeStyle,\n            },\n            label: label,\n            tooltip: false,\n        },\n    });\n    return params;\n}\n/**\n * edgeGeometry\n * @param params \n */\nfunction edgeGeometry(params) {\n    var chart = params.chart, options = params.options;\n    var edgesData = params.ext.chordData.edgesData;\n    var edgeStyle = options.edgeStyle, tooltip = options.tooltip;\n    var edgeView = chart.createView();\n    edgeView.data(edgesData);\n    // edge\n    var edgeOptions = {\n        xField: X_FIELD,\n        yField: Y_FIELD,\n        seriesField: EDGE_COLOR_FIELD,\n        edge: {\n            style: edgeStyle,\n            shape: 'arc',\n        },\n        tooltip: tooltip,\n    };\n    edge({\n        chart: edgeView,\n        options: edgeOptions,\n    });\n    return params;\n}\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // flow  G2 API\n    return flow(transformData, coordinate, scale, axis, legend, tooltip, edgeGeometry, nodeGeometry, interaction, animation, theme)(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __extends } from \"tslib\";\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\n/**\n *   Chord\n */\nvar Chord = /** @class */ (function (_super) {\n    __extends(Chord, _super);\n    function Chord() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'chord';\n        return _this;\n    }\n    Chord.prototype.getDefaultOptions = function () {\n        return {\n            nodeStyle: {\n                opacity: 1,\n                fillOpacity: 1,\n                lineWidth: 1,\n            },\n            edgeStyle: {\n                opacity: 0.5,\n                lineWidth: 2,\n            },\n            label: {\n                fields: ['x', 'name'],\n                callback: function (x, name) {\n                    var centerX = (x[0] + x[1]) / 2;\n                    var offsetX = centerX > 0.5 ? -4 : 4;\n                    return {\n                        labelEmit: true,\n                        style: {\n                            fill: '#8c8c8c',\n                        },\n                        offsetX: offsetX,\n                        content: name,\n                    };\n                },\n            },\n            tooltip: {\n                fields: ['source', 'target', 'value'],\n                formatter: function (datum) {\n                    var source = datum.source, target = datum.target, value = datum.value;\n                    return {\n                        name: source + \" -> \" + target,\n                        value: value,\n                    };\n                },\n            },\n            interactions: [\n                {\n                    type: 'element-active',\n                },\n            ],\n            weight: true,\n            nodePaddingRatio: 0.1,\n            nodeWidthRatio: 0.05,\n        };\n    };\n    /**\n     * \n     */\n    Chord.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Chord;\n}(Plot));\nexport { Chord };\n//# sourceMappingURL=index.js.map","import { __assign } from \"tslib\";\nimport { isString } from '@antv/util';\nimport { interaction, animation, theme, scale, annotation } from '../../adaptor/common';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { deepAssign, flow, pick, renderGaugeStatistic } from '../../utils';\nimport { RANGE_TYPE, RANGE_VALUE, PERCENT, DEFAULT_COLOR, INDICATEOR_VIEW_ID, RANGE_VIEW_ID, MASK_VIEW_ID, } from './constants';\nimport { getIndicatorData, getRangeData } from './utils';\n/**\n * geometry \n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var percent = options.percent, range = options.range, radius = options.radius, innerRadius = options.innerRadius, startAngle = options.startAngle, endAngle = options.endAngle, axis = options.axis, indicator = options.indicator;\n    var color = range.color;\n    //  & \n    // \n    if (indicator) {\n        var indicatorData = getIndicatorData(percent);\n        var v1 = chart.createView({ id: INDICATEOR_VIEW_ID });\n        v1.data(indicatorData);\n        v1.point()\n            .position(PERCENT + \"*1\")\n            .shape('gauge-indicator')\n            //  shape \n            .customInfo({\n            defaultColor: chart.getTheme().defaultColor,\n            indicator: indicator,\n        });\n        v1.coordinate('polar', {\n            startAngle: startAngle,\n            endAngle: endAngle,\n            radius: innerRadius * radius,\n        });\n        v1.axis(PERCENT, axis);\n        //  scale \n        v1.scale(PERCENT, pick(axis, AXIS_META_CONFIG_KEYS));\n    }\n    //  range\n    // [{ range: 1, type: '0' }]\n    var rangeData = getRangeData(percent, options.range);\n    var v2 = chart.createView({ id: RANGE_VIEW_ID });\n    v2.data(rangeData);\n    var rangeColor = isString(color) ? [color, DEFAULT_COLOR] : color;\n    v2.interval().position(\"1*\" + RANGE_VALUE).color(RANGE_TYPE, rangeColor).adjust('stack');\n    v2.coordinate('polar', {\n        innerRadius: innerRadius,\n        radius: radius,\n        startAngle: startAngle,\n        endAngle: endAngle,\n    }).transpose();\n    return params;\n}\n/**\n * meter   mask\n * @param params\n */\nfunction meterView(params) {\n    var _a;\n    var chart = params.chart, options = params.options;\n    var type = options.type, meter = options.meter;\n    if (type === 'meter') {\n        var innerRadius = options.innerRadius, radius = options.radius, startAngle = options.startAngle, endAngle = options.endAngle;\n        var background = chart.getTheme().background;\n        var color = background;\n        if (!color || color === 'transparent') {\n            color = '#fff';\n        }\n        var v3 = chart.createView({ id: MASK_VIEW_ID });\n        v3.data([(_a = {}, _a[RANGE_TYPE] = '1', _a[RANGE_VALUE] = 1, _a)]);\n        v3.interval()\n            .position(\"1*\" + RANGE_VALUE)\n            .color(color)\n            .adjust('stack')\n            .shape('meter-gauge')\n            .customInfo(meter || {});\n        v3.coordinate('polar', { innerRadius: innerRadius, radius: radius, startAngle: startAngle, endAngle: endAngle }).transpose();\n    }\n    return params;\n}\n/**\n * meta \n * @param params\n */\nfunction meta(params) {\n    var _a;\n    return flow(scale((_a = {\n            range: {\n                min: 0,\n                max: 1,\n                maxLimit: 1,\n                minLimit: 0,\n            }\n        },\n        _a[PERCENT] = {},\n        _a)))(params);\n}\n/**\n * \n * @param params\n */\nfunction statistic(params, updated) {\n    var chart = params.chart, options = params.options;\n    var statistic = options.statistic, percent = options.percent;\n    // \n    chart.getController('annotation').clear(true);\n    if (statistic) {\n        var content = statistic.content;\n        var transformContent = void 0;\n        //  content \n        if (content) {\n            transformContent = deepAssign({}, {\n                formatter: function (_a) {\n                    var percent = _a.percent;\n                    return (percent * 100).toFixed(2) + \"%\";\n                },\n                style: {\n                    opacity: 0.75,\n                    fontSize: '30px',\n                    lineHeight: 1,\n                    textAlign: 'center',\n                    color: 'rgba(44,53,66,0.85)',\n                },\n            }, content);\n        }\n        renderGaugeStatistic(chart, { statistic: __assign(__assign({}, statistic), { content: transformContent }) }, { percent: percent });\n    }\n    if (updated) {\n        chart.render(true);\n    }\n    return params;\n}\n/**\n * other \n * @param params\n */\nfunction other(params) {\n    var chart = params.chart;\n    chart.legend(false);\n    chart.tooltip(false);\n    return params;\n}\n/**\n *  adaptor\n */\nexport { statistic };\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // flow  G2 API\n    return flow(\n    // animation  createView  View \n    animation, geometry, meta, statistic, interaction, theme, \n    // meterView \n    meterView, annotation(), other\n    // ...  adaptor flow\n    )(params);\n}\n//# sourceMappingURL=adaptor.js.map","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { __assign, __rest, __spreadArrays } from \"tslib\";\nimport { uniq, isFunction, isObject, isString, isNumber, isEmpty } from '@antv/util';\nimport { transformLabel } from '../../utils';\n/**\n * \n * @param options\n * @param field\n */\nexport function getMappingField(o, field) {\n    var xField = o.xField, yField = o.yField, colorField = o.colorField, shapeField = o.shapeField, sizeField = o.sizeField, styleField = o.styleField, _a = o.rawFields, rawFields = _a === void 0 ? [] : _a;\n    var fields = [];\n    //  color  bar  widthRatio \n    //  color  colorField  + rawFields\n    // shape, size \n    if (field === 'color') {\n        fields = __spreadArrays([colorField || xField], rawFields);\n    }\n    else if (field === 'shape') {\n        fields = __spreadArrays([shapeField || xField], rawFields);\n    }\n    else if (field === 'size') {\n        fields = __spreadArrays([sizeField || xField], rawFields);\n    }\n    else {\n        fields = __spreadArrays([xField, yField, colorField, shapeField, sizeField, styleField], rawFields);\n        // \n        var idx = ['x', 'y', 'color', 'shape', 'size', 'style'].indexOf(field);\n        var f = fields[idx];\n        // \n        fields.splice(idx, 1);\n        // \n        fields.unshift(f);\n    }\n    return uniq(fields.filter(function (f) { return !!f; }));\n}\n/**\n * \n * @param mappingFields\n * @param func\n */\nexport function getMappingFunction(mappingFields, func) {\n    if (!func)\n        return undefined;\n    // \n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var params = {};\n        mappingFields.forEach(function (f, idx) {\n            params[f] = args[idx];\n        });\n        //  undefined\n        delete params['undefined'];\n        return func(params);\n    };\n}\n/**\n *  geometry  adaptor\n * @param params\n */\nexport function geometry(params) {\n    var chart = params.chart, options = params.options;\n    var type = options.type, args = options.args, mapping = options.mapping, xField = options.xField, yField = options.yField, colorField = options.colorField, shapeField = options.shapeField, sizeField = options.sizeField, tooltipFields = options.tooltipFields, label = options.label, state = options.state;\n    //  mapping \n    if (!mapping) {\n        return params;\n    }\n    var color = mapping.color, shape = mapping.shape, size = mapping.size, style = mapping.style, tooltip = mapping.tooltip;\n    //  geometry\n    var geometry = chart[type](args).position(xField + \"*\" + yField);\n    /**\n     * color \n     * g.color('red');\n     * g.color('color', ['red', 'blue']);\n     * g.color('x', (x, y) => 'red');\n     * g.color('color', (color, x, y) => 'red');\n     */\n    if (isString(color)) {\n        colorField ? geometry.color(colorField, color) : geometry.color(color);\n    }\n    else if (isFunction(color)) {\n        var mappingFields = getMappingField(options, 'color');\n        geometry.color(mappingFields.join('*'), getMappingFunction(mappingFields, color));\n    }\n    else {\n        colorField && geometry.color(colorField, color);\n    }\n    /**\n     * shape \n     * g.shape('rect');\n     * g.shape('shape', ['rect', 'circle']);\n     * g.shape('x*y', (x, y) => 'rect');\n     * g.shape('shape*x*y', (shape, x, y) => 'rect');\n     */\n    if (isString(shape)) {\n        shapeField ? geometry.shape(shapeField, [shape]) : geometry.shape(shape); // [shape]  G2 \n    }\n    else if (isFunction(shape)) {\n        var mappingFields = getMappingField(options, 'shape');\n        geometry.shape(mappingFields.join('*'), getMappingFunction(mappingFields, shape));\n    }\n    else {\n        shapeField && geometry.shape(shapeField, shape);\n    }\n    /**\n     * size \n     * g.size(10);\n     * g.size('size', [10, 20]);\n     * g.size('x*y', (x, y) => 10);\n     * g.color('size*x*y', (size, x, y) => 1-);\n     */\n    if (isNumber(size)) {\n        sizeField ? geometry.size(sizeField, size) : geometry.size(size);\n    }\n    else if (isFunction(size)) {\n        var mappingFields = getMappingField(options, 'size');\n        geometry.size(mappingFields.join('*'), getMappingFunction(mappingFields, size));\n    }\n    else {\n        sizeField && geometry.size(sizeField, size);\n    }\n    /**\n     * style \n     * g.style({ fill: 'red' });\n     * g.style('x*y*color', (x, y, color) => ({ fill: 'red' }));\n     */\n    if (isFunction(style)) {\n        var mappingFields = getMappingField(options, 'style');\n        geometry.style(mappingFields.join('*'), getMappingFunction(mappingFields, style));\n    }\n    else if (isObject(style)) {\n        geometry.style(style);\n    }\n    /**\n     * tooltip  API\n     * g.tooltip('x*y*color', (x, y, color) => ({ name, value }));\n     * g.tooltip(false);\n     */\n    if (tooltipFields === false) {\n        geometry.tooltip(false);\n    }\n    else if (!isEmpty(tooltipFields)) {\n        geometry.tooltip(tooltipFields.join('*'), getMappingFunction(tooltipFields, tooltip));\n    }\n    /**\n     * label \n     */\n    if (label === false) {\n        geometry.label(false);\n    }\n    else if (label) {\n        var callback = label.callback, fields = label.fields, cfg = __rest(label, [\"callback\", \"fields\"]);\n        geometry.label({\n            fields: fields || [yField],\n            callback: callback,\n            cfg: transformLabel(cfg),\n        });\n    }\n    /**\n     * state \n     */\n    if (state) {\n        geometry.state(state);\n    }\n    //  x y \n    [xField, yField]\n        .filter(function (f) { return f !== colorField; })\n        .forEach(function (f) {\n        chart.legend(f, false);\n    });\n    return __assign(__assign({}, params), { \n        // geometry adaptor  geometry  adaptor type \n        ext: { geometry: geometry } });\n}\n//# sourceMappingURL=base.js.map","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n/**\n * \n */\nexport var DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n    tooltip: {\n        shared: true,\n        showMarkers: true,\n        showCrosshairs: true,\n        crosshairs: {\n            type: 'x',\n        },\n    },\n    legend: {\n        position: 'top-left',\n    },\n    isStack: false,\n});\n//# sourceMappingURL=constants.js.map","import { __extends } from \"tslib\";\nimport { each, findIndex } from '@antv/util';\nimport { InteractionAction } from '@antv/g2';\nvar MarkerActiveAction = /** @class */ (function (_super) {\n    __extends(MarkerActiveAction, _super);\n    function MarkerActiveAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    MarkerActiveAction.prototype.active = function () {\n        var view = this.getView();\n        var evt = this.context.event;\n        if (evt.data) {\n            // items:  tooltip \n            var items_1 = evt.data.items;\n            var points = view.geometries.filter(function (geom) { return geom.type === 'point'; });\n            each(points, function (point) {\n                each(point.elements, function (element) {\n                    var active = findIndex(items_1, function (item) { return item.data === element.data; }) !== -1;\n                    // @ts-ignore\n                    element.setState('active', active);\n                });\n            });\n        }\n    };\n    MarkerActiveAction.prototype.getView = function () {\n        return this.context.view;\n    };\n    return MarkerActiveAction;\n}(InteractionAction));\nexport { MarkerActiveAction };\n//# sourceMappingURL=marker-active.js.map","import { registerAction, registerInteraction } from '@antv/g2';\nimport { MarkerActiveAction } from './marker-active';\nregisterAction('marker-active', MarkerActiveAction);\nregisterInteraction('marker-active', {\n    start: [\n        {\n            trigger: 'tooltip:show',\n            action: 'marker-active:active',\n        },\n    ],\n});\n//# sourceMappingURL=index.js.map","import { __extends } from \"tslib\";\nimport { Plot } from '../../core/plot';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport './interactions';\nvar Line = /** @class */ (function (_super) {\n    __extends(Line, _super);\n    function Line() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'line';\n        return _this;\n    }\n    /**\n     *   \n     * @static \n     */\n    Line.getDefaultOptions = function () {\n        return DEFAULT_OPTIONS;\n    };\n    /**\n     * @override\n     * @param data\n     */\n    Line.prototype.changeData = function (data) {\n        this.updateOption({ data: data });\n        var _a = this, chart = _a.chart, options = _a.options;\n        meta({ chart: chart, options: options });\n        this.chart.changeData(data);\n    };\n    /**\n     *   \n     */\n    Line.prototype.getDefaultOptions = function () {\n        return Line.getDefaultOptions();\n    };\n    /**\n     *   \n     */\n    Line.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Line;\n}(Plot));\nexport { Line };\n//# sourceMappingURL=index.js.map","import { __assign } from \"tslib\";\nimport { registerShape } from '@antv/g2';\n// Shape \nregisterShape('point', 'gauge-indicator', {\n    draw: function (cfg, container) {\n        //  customInfo \n        var _a = cfg.customInfo, indicator = _a.indicator, defaultColor = _a.defaultColor;\n        var _b = indicator, pointer = _b.pointer, pin = _b.pin;\n        var group = container.addGroup();\n        // \n        var center = this.parsePoint({ x: 0, y: 0 });\n        // \n        if (pointer) {\n            // pointer\n            group.addShape('line', {\n                name: 'pointer',\n                attrs: __assign({ x1: center.x, y1: center.y, x2: cfg.x, y2: cfg.y, stroke: defaultColor }, pointer.style),\n            });\n        }\n        // pin\n        if (pin) {\n            group.addShape('circle', {\n                name: 'pin',\n                attrs: __assign({ x: center.x, y: center.y, stroke: defaultColor }, pin.style),\n            });\n        }\n        return group;\n    },\n});\n//# sourceMappingURL=gauge.js.map","import { registerShape, Util } from '@antv/g2';\nimport { getSectorPath } from '@antv/g2/lib/util/graphics';\n// Shape \nregisterShape('interval', 'meter-gauge', {\n    draw: function (cfg, container) {\n        //  customInfo \n        var _a = cfg.customInfo, _b = _a.steps, STEP = _b === void 0 ? 50 : _b, _c = _a.stepRatio, stepRatio = _c === void 0 ? 0.5 : _c;\n        var total = this.coordinate.endAngle - this.coordinate.startAngle;\n        var interval = total / STEP;\n        var gap = 0;\n        /**\n         * stepRatio : (0, 1]\n         * 1: interval : gap = stepRatio : (1 - stepRatio)\n         * 2: interval * STEP + stepRatio * (STEP - 1) = total\n         */\n        if (stepRatio > 0 && stepRatio <= 1) {\n            interval = total / (((1 - stepRatio) / stepRatio) * (STEP - 1) + STEP);\n            gap = (interval * (1 - stepRatio)) / stepRatio;\n        }\n        var group = container.addGroup();\n        //  gap\n        if (gap > 0) {\n            var center = this.coordinate.getCenter();\n            var radius = this.coordinate.getRadius();\n            var _d = Util.getAngle(cfg, this.coordinate), startAngle = _d.startAngle, endAngle = _d.endAngle;\n            for (var i = startAngle, j = 0; i < endAngle && j < 2 * STEP - 1; j++) {\n                var drawn = j % 2;\n                if (drawn) {\n                    var path = getSectorPath(center.x, center.y, radius, i, Math.min(i + gap, endAngle), radius * this.coordinate.innerRadius);\n                    group.addShape('path', {\n                        name: 'meter-gauge-mask',\n                        attrs: {\n                            path: path,\n                            fill: cfg.color,\n                            stroke: cfg.color,\n                            lineWidth: 0.5,\n                        },\n                        // mask \n                        capture: false,\n                    });\n                }\n                i += drawn ? gap : interval;\n            }\n        }\n        return group;\n    },\n});\n//# sourceMappingURL=meter-gauge.js.map","import { __extends } from \"tslib\";\nimport { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { adaptor, statistic } from './adaptor';\nimport { INDICATEOR_VIEW_ID, RANGE_VIEW_ID, DEFAULT_OPTIONS } from './constants';\nimport { getIndicatorData, getRangeData } from './utils';\n//  shape\nimport './shapes/gauge';\nimport './shapes/meter-gauge';\n/**\n * \n */\nvar Gauge = /** @class */ (function (_super) {\n    __extends(Gauge, _super);\n    function Gauge() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'gauge';\n        return _this;\n    }\n    /**\n     *   \n     * @static \n     */\n    Gauge.getDefaultOptions = function () {\n        return DEFAULT_OPTIONS;\n    };\n    /**\n     * \n     * @param percent\n     */\n    Gauge.prototype.changeData = function (percent) {\n        this.chart.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null));\n        this.updateOption({ percent: percent });\n        var indicatorView = this.chart.views.find(function (v) { return v.id === INDICATEOR_VIEW_ID; });\n        if (indicatorView) {\n            indicatorView.data(getIndicatorData(percent));\n        }\n        var rangeView = this.chart.views.find(function (v) { return v.id === RANGE_VIEW_ID; });\n        if (rangeView) {\n            rangeView.data(getRangeData(percent, this.options.range));\n        }\n        // todo  G2  afterrender  annotations\n        statistic({ chart: this.chart, options: this.options }, true);\n        this.chart.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null));\n    };\n    /**\n     * \n     *  base \n     */\n    Gauge.prototype.getDefaultOptions = function () {\n        return Gauge.getDefaultOptions();\n    };\n    /**\n     * \n     */\n    Gauge.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Gauge;\n}(Plot));\nexport { Gauge };\n//# sourceMappingURL=index.js.map","import { __assign } from \"tslib\";\nimport { adaptor as columnAdaptor } from '../column/adaptor';\nimport { transformBarData } from './utils';\nexport { meta } from '../column/adaptor';\n/**\n * \n * @param params\n */\nexport function adaptor(params) {\n    var chart = params.chart, options = params.options;\n    var xField = options.xField, yField = options.yField, xAxis = options.xAxis, yAxis = options.yAxis, barStyle = options.barStyle, barWidthRatio = options.barWidthRatio, label = options.label, data = options.data, seriesField = options.seriesField, isStack = options.isStack, minBarWidth = options.minBarWidth, maxBarWidth = options.maxBarWidth;\n    // label of bar charts default position is left, if plot has label\n    if (label && !label.position) {\n        label.position = 'left';\n        //  label layout  layout  position  layout\n        if (!label.layout) {\n            label.layout = [\n                { type: 'interval-adjust-position' },\n                { type: 'interval-hide-overlap' },\n                { type: 'adjust-color' },\n                { type: 'limit-in-plot', cfg: { action: 'hide' } },\n            ];\n        }\n    }\n    //  legend \n    var legend = options.legend;\n    if (seriesField) {\n        if (legend !== false) {\n            legend = __assign({ position: isStack ? 'top-left' : 'right-top', reversed: isStack ? false : true }, (legend || {}));\n        }\n    }\n    else {\n        legend = false;\n    }\n    // @ts-ignore \n    params.options.legend = legend;\n    //  tooltip \n    var tooltip = options.tooltip;\n    if (seriesField) {\n        if (tooltip !== false) {\n            tooltip = __assign({ reversed: isStack ? false : true }, (tooltip || {}));\n        }\n    }\n    // @ts-ignore \n    params.options.tooltip = tooltip;\n    // transpose column to bar\n    chart.coordinate().transpose();\n    return columnAdaptor({\n        chart: chart,\n        options: __assign(__assign({}, options), { label: label, \n            // switch xField and yField\n            xField: yField, yField: xField, xAxis: yAxis, yAxis: xAxis, \n            // rename attrs as column\n            columnStyle: barStyle, columnWidthRatio: barWidthRatio, minColumnWidth: minBarWidth, maxColumnWidth: maxBarWidth, columnBackground: options.barBackground, \n            // bar \n            data: transformBarData(data) }),\n    }, true);\n}\n//# sourceMappingURL=adaptor.js.map","/**\n * \n */\nexport var DEFAULT_OPTIONS = {\n    percent: 0.2,\n    innerRadius: 0.8,\n    radius: 0.98,\n    color: ['#FAAD14', '#E8EDF3'],\n    statistic: {\n        title: false,\n        content: {\n            style: {\n                fontSize: '14px',\n                fontWeight: 300,\n                fill: '#4D4D4D',\n                textAlign: 'center',\n                textBaseline: 'middle',\n            },\n            formatter: function (_a) {\n                var percent = _a.percent;\n                return (percent * 100).toFixed(2) + \"%\";\n            },\n        },\n    },\n    animation: {},\n};\n//# sourceMappingURL=constants.js.map","import { __extends } from \"tslib\";\nimport { VIEW_LIFE_CIRCLE, Event } from '@antv/g2';\nimport { Plot } from '../../core/plot';\nimport { getProgressData } from '../progress/utils';\nimport { adaptor, statistic } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nvar RingProgress = /** @class */ (function (_super) {\n    __extends(RingProgress, _super);\n    function RingProgress() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'ring-process';\n        return _this;\n    }\n    /**\n     * \n     * @static \n     */\n    RingProgress.getDefaultOptions = function () {\n        return DEFAULT_OPTIONS;\n    };\n    /**\n     * \n     * @param percent\n     */\n    RingProgress.prototype.changeData = function (percent) {\n        this.chart.emit(VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, Event.fromData(this.chart, VIEW_LIFE_CIRCLE.BEFORE_CHANGE_DATA, null));\n        this.updateOption({ percent: percent });\n        this.chart.data(getProgressData(percent));\n        // todo  G2  afterrender  annotations\n        statistic({ chart: this.chart, options: this.options }, true);\n        this.chart.emit(VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, Event.fromData(this.chart, VIEW_LIFE_CIRCLE.AFTER_CHANGE_DATA, null));\n    };\n    RingProgress.prototype.getDefaultOptions = function () {\n        return RingProgress.getDefaultOptions();\n    };\n    /**\n     *   \n     */\n    RingProgress.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return RingProgress;\n}(Plot));\nexport { RingProgress };\n//# sourceMappingURL=index.js.map","/**\n *  lodash.flow \n * @param flows\n */\nexport function flow() {\n    var flows = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        flows[_i] = arguments[_i];\n    }\n    return function (param) {\n        return flows.reduce(function (result, f) {\n            return f(result);\n        }, param);\n    };\n}\n//# sourceMappingURL=flow.js.map","/**\n *  lodash.pick \n * @param obj\n * @param keys\n */\nexport function pick(obj, keys) {\n    var r = {};\n    if (obj !== null && typeof obj === 'object') {\n        keys.forEach(function (key) {\n            var v = obj[key];\n            if (v !== undefined) {\n                r[key] = v;\n            }\n        });\n    }\n    return r;\n}\n//# sourceMappingURL=pick.js.map","import { reduce } from '@antv/util';\n/**\n * \n * template('hello, {name}', { name: 'AntV' }); // hello, AntV\n * @param string\n * @param options\n */\nexport function template(source, data) {\n    return reduce(\n    // @ts-ignore\n    data, function (r, v, k) { return r.replace(new RegExp(\"{\\\\s*\" + k + \"\\\\s*}\", 'g'), v); }, source);\n}\n//# sourceMappingURL=template.js.map","/**\n * Simplified from https://github.com/zertosh/invariant.\n */\nimport { __spreadArrays } from \"tslib\";\nexport var LEVEL;\n(function (LEVEL) {\n    LEVEL[\"ERROR\"] = \"error\";\n    LEVEL[\"WARN\"] = \"warn\";\n    LEVEL[\"INFO\"] = \"log\";\n})(LEVEL || (LEVEL = {}));\nvar BRAND = 'AntV/G2Plot';\n/**\n * \n * @param format\n * @param args\n */\nfunction getMessage(format) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    var argIndex = 0;\n    return BRAND + \": \" + format.replace(/%s/g, function () { return \"\" + args[argIndex++]; });\n}\n/**\n * invariant error\n * @param condition\n * @param format\n * @param args\n */\nexport function invariant(condition, format) {\n    var args = [];\n    for (var _i = 2; _i < arguments.length; _i++) {\n        args[_i - 2] = arguments[_i];\n    }\n    if (!condition) {\n        var error = new Error(getMessage.apply(void 0, __spreadArrays([format], args)));\n        error.name = BRAND;\n        // error.framesToPop = 1; // we don't care about invariant's own frame\n        throw error;\n    }\n}\n/**\n * \n * @param level\n * @param condition\n * @param format\n * @param args\n */\nexport function log(level, condition, format) {\n    var args = [];\n    for (var _i = 3; _i < arguments.length; _i++) {\n        args[_i - 3] = arguments[_i];\n    }\n    if (!condition) {\n        console[level](getMessage.apply(void 0, __spreadArrays([format], args)));\n    }\n}\n//# sourceMappingURL=invariant.js.map","/**\n * get the element's bounding size\n * @param ele dom element\n * @returns the element width and height\n */\nexport function getContainerSize(ele) {\n    if (!ele) {\n        return { width: 0, height: 0 };\n    }\n    var style = getComputedStyle(ele);\n    return {\n        width: (ele.clientWidth || parseInt(style.width, 10)) -\n            parseInt(style.paddingLeft, 10) -\n            parseInt(style.paddingRight, 10),\n        height: (ele.clientHeight || parseInt(style.height, 10)) -\n            parseInt(style.paddingTop, 10) -\n            parseInt(style.paddingBottom, 10),\n    };\n}\n//# sourceMappingURL=dom.js.map","import { reduce } from '@antv/util';\n/**\n *  View  type  geometry\n * @param view\n * @param type\n */\nexport function findGeometry(view, type) {\n    return view.geometries.find(function (g) { return g.type === type; });\n}\n/**\n *  View   elements\n */\nexport function getAllElements(view) {\n    return reduce(view.geometries, function (r, geometry) {\n        return r.concat(geometry.elements);\n    }, []);\n}\n//# sourceMappingURL=geometry.js.map","import { __assign } from \"tslib\";\nimport { isType } from '@antv/util';\n/**\n *  v1 label formatter\n * @param labelOptions\n */\nexport function transformLabel(labelOptions) {\n    if (!isType(labelOptions, 'Object')) {\n        return labelOptions;\n    }\n    var label = __assign({}, labelOptions);\n    if (label.formatter && !label.content) {\n        label.content = label.formatter;\n    }\n    return label;\n}\n//# sourceMappingURL=label.js.map","import { vec2 } from '@antv/matrix-util';\nexport function points2Path(points, isInCircle) {\n    var path = [];\n    if (points.length) {\n        path.push(['M', points[0].x, points[0].y]);\n        for (var i = 1, length_1 = points.length; i < length_1; i += 1) {\n            var item = points[i];\n            path.push(['L', item.x, item.y]);\n        }\n        if (isInCircle) {\n            path.push(['Z']);\n        }\n    }\n    return path;\n}\n/**\n * @ignore\n * \n */\nexport var smoothBezier = function (points, smooth, isLoop, constraint) {\n    var cps = [];\n    var prevPoint;\n    var nextPoint;\n    var hasConstraint = !!constraint;\n    var min;\n    var max;\n    if (hasConstraint) {\n        min = [Infinity, Infinity];\n        max = [-Infinity, -Infinity];\n        for (var i = 0, l = points.length; i < l; i++) {\n            var point = points[i];\n            min = vec2.min([0, 0], min, point);\n            max = vec2.max([0, 0], max, point);\n        }\n        min = vec2.min([0, 0], min, constraint[0]);\n        max = vec2.max([0, 0], max, constraint[1]);\n    }\n    for (var i = 0, len = points.length; i < len; i++) {\n        var point = points[i];\n        if (isLoop) {\n            prevPoint = points[i ? i - 1 : len - 1];\n            nextPoint = points[(i + 1) % len];\n        }\n        else {\n            if (i === 0 || i === len - 1) {\n                cps.push(point);\n                continue;\n            }\n            else {\n                prevPoint = points[i - 1];\n                nextPoint = points[i + 1];\n            }\n        }\n        var v = [0, 0];\n        v = vec2.sub(v, nextPoint, prevPoint);\n        v = vec2.scale(v, v, smooth);\n        var d0 = vec2.distance(point, prevPoint);\n        var d1 = vec2.distance(point, nextPoint);\n        var sum = d0 + d1;\n        if (sum !== 0) {\n            d0 /= sum;\n            d1 /= sum;\n        }\n        var v1 = vec2.scale([0, 0], v, -d0);\n        var v2 = vec2.scale([0, 0], v, d1);\n        var cp0 = vec2.add([0, 0], point, v1);\n        var cp1 = vec2.add([0, 0], point, v2);\n        if (hasConstraint) {\n            cp0 = vec2.max([0, 0], cp0, min);\n            cp0 = vec2.min([0, 0], cp0, max);\n            cp1 = vec2.max([0, 0], cp1, min);\n            cp1 = vec2.min([0, 0], cp1, max);\n        }\n        cps.push(cp0);\n        cps.push(cp1);\n    }\n    if (isLoop) {\n        cps.push(cps.shift());\n    }\n    return cps;\n};\n/**\n * @ignore\n * \n */\nexport function catmullRom2bezier(crp, z, constraint) {\n    var isLoop = !!z;\n    var pointList = [];\n    for (var i = 0, l = crp.length; i < l; i += 2) {\n        pointList.push([crp[i], crp[i + 1]]);\n    }\n    var controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n    var len = pointList.length;\n    var d1 = [];\n    var cp1;\n    var cp2;\n    var p;\n    for (var i = 0; i < len - 1; i++) {\n        cp1 = controlPointList[i * 2];\n        cp2 = controlPointList[i * 2 + 1];\n        p = pointList[i + 1];\n        d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n    }\n    if (isLoop) {\n        cp1 = controlPointList[len];\n        cp2 = controlPointList[len + 1];\n        p = pointList[0];\n        d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]]);\n    }\n    return d1;\n}\n/**\n * @ignore\n * \n */\nexport function getSplinePath(points, isInCircle, constaint) {\n    var data = [];\n    var first = points[0];\n    var prePoint = null;\n    if (points.length <= 2) {\n        // \n        return points2Path(points, isInCircle);\n    }\n    for (var i = 0, len = points.length; i < len; i++) {\n        var point = points[i];\n        if (!prePoint || !(prePoint.x === point.x && prePoint.y === point.y)) {\n            data.push(point.x);\n            data.push(point.y);\n            prePoint = point;\n        }\n    }\n    var constraint = constaint || [\n        // \n        [0, 0],\n        [1, 1],\n    ];\n    var splinePath = catmullRom2bezier(data, isInCircle, constraint);\n    splinePath.unshift(['M', first.x, first.y]);\n    return splinePath;\n}\n//# sourceMappingURL=path.js.map","var MAX_MIX_LEVEL = 5; // \nvar toString = {}.toString;\n// \nvar isType = function (value, type) { return toString.call(value) === '[object ' + type + ']'; };\nvar isArray = function (value) {\n    return isType(value, 'Array');\n};\nvar isObjectLike = function (value) {\n    /**\n     * isObjectLike({}) => true\n     * isObjectLike([1, 2, 3]) => true\n     * isObjectLike(Function) => false\n     */\n    return typeof value === 'object' && value !== null;\n};\nvar isPlainObject = function (value) {\n    /**\n     * isObjectLike(new Foo) => false\n     * isObjectLike([1, 2, 3]) => false\n     * isObjectLike({ x: 0, y: 0 }) => true\n     */\n    if (!isObjectLike(value) || !isType(value, 'Object')) {\n        return false;\n    }\n    var proto = value;\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(value) === proto;\n};\n/***\n * @param {any} dist\n * @param {any} src\n * @param {number} level \n * @param {number} maxLevel \n */\nvar deep = function (dist, src, level, maxLevel) {\n    level = level || 0;\n    maxLevel = maxLevel || MAX_MIX_LEVEL;\n    for (var key in src) {\n        if (Object.prototype.hasOwnProperty.call(src, key)) {\n            var value = src[key];\n            if (!value) {\n                // null  undefined \n                dist[key] = value;\n            }\n            else {\n                if (isPlainObject(value)) {\n                    if (!isPlainObject(dist[key])) {\n                        dist[key] = {};\n                    }\n                    if (level < maxLevel) {\n                        deep(dist[key], value, level + 1, maxLevel);\n                    }\n                    else {\n                        // \n                        dist[key] = src[key];\n                    }\n                }\n                else if (isArray(value)) {\n                    dist[key] = [];\n                    dist[key] = dist[key].concat(value);\n                }\n                else {\n                    dist[key] = value;\n                }\n            }\n        }\n    }\n};\n/**\n * deepAssign  deepMix\n *  deepAssign  null undefined  source\n *  __tests__/unit/utils/deep-assign-spec.ts\n */\nexport var deepAssign = function (rst) {\n    var args = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n    }\n    for (var i = 0; i < args.length; i += 1) {\n        deep(rst, args[i]);\n    }\n    return rst;\n};\n//# sourceMappingURL=deep-assign.js.map","/**\n * @desc simple kebabCase like lodash\n *\n * kebabCase('fooBar'); => 'foo-bar'\n */\nexport function kebabCase(word) {\n    if (!word) {\n        return word;\n    }\n    var result = word.match(/(([A-Z]{0,1}[a-z]*[^A-Z])|([A-Z]{1}))/g);\n    return result.map(function (s) { return s.toLowerCase(); }).join('-');\n}\n//# sourceMappingURL=kebab-case.js.map","var ctx;\n/**\n *  canvas context\n */\nexport function getCanvasContext() {\n    if (!ctx) {\n        ctx = document.createElement('canvas').getContext('2d');\n    }\n    return ctx;\n}\n//# sourceMappingURL=context.js.map","import { __spreadArrays } from \"tslib\";\nimport { isString, memoize, values } from '@antv/util';\nimport { getCanvasContext } from './context';\n/**\n * \n * @param text \n * @param font \n */\nexport var measureTextWidth = memoize(function (text, font) {\n    if (font === void 0) { font = {}; }\n    var fontSize = font.fontSize, _a = font.fontFamily, fontFamily = _a === void 0 ? 'sans-serif' : _a, fontWeight = font.fontWeight, fontStyle = font.fontStyle, fontVariant = font.fontVariant;\n    var ctx = getCanvasContext();\n    // @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/font\n    ctx.font = [fontStyle, fontWeight, fontVariant, fontSize + \"px\", fontFamily].join(' ');\n    var metrics = ctx.measureText(isString(text) ? text : '');\n    return metrics.width;\n}, function (text, font) {\n    if (font === void 0) { font = {}; }\n    return __spreadArrays([text], values(font)).join('');\n});\n//# sourceMappingURL=measure-text.js.map","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n/**\n * \n */\nexport var DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n    barWidthRatio: 0.6,\n    marginRatio: 1 / 32,\n    tooltip: {\n        shared: true,\n        showMarkers: false,\n        offset: 20,\n    },\n    interactions: [{ type: 'active-region' }],\n});\n//# sourceMappingURL=constants.js.map","import { __assign, __extends } from \"tslib\";\nimport { Plot } from '../../core/plot';\nimport { getDataWhetherPecentage } from '../../utils/transform/percent';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { transformBarData } from './utils';\n/**\n * \n */\nvar Bar = /** @class */ (function (_super) {\n    __extends(Bar, _super);\n    function Bar() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'bar';\n        return _this;\n    }\n    /**\n     *   \n     * @static \n     */\n    Bar.getDefaultOptions = function () {\n        return DEFAULT_OPTIONS;\n    };\n    /**\n     * @override\n     */\n    Bar.prototype.changeData = function (data) {\n        this.updateOption({ data: data });\n        var _a = this, chart = _a.chart, options = _a.options;\n        var xField = options.xField, yField = options.yField, isPercent = options.isPercent;\n        var switchedFieldOptions = __assign(__assign({}, options), { xField: yField, yField: xField });\n        meta({ chart: chart, options: switchedFieldOptions });\n        chart.changeData(getDataWhetherPecentage(transformBarData(data), xField, yField, xField, isPercent));\n    };\n    /**\n     *   \n     */\n    Bar.prototype.getDefaultOptions = function () {\n        return Bar.getDefaultOptions();\n    };\n    /**\n     *   \n     */\n    Bar.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Bar;\n}(Plot));\nexport { Bar };\n//# sourceMappingURL=index.js.map","// : data[n][yField] / data[0][yField]\nexport var FUNNEL_PERCENT = '$$percentage$$';\n// \nexport var FUNNEL_MAPPING_VALUE = '$$mappingValue$$';\n// : data[n][yField] / data[n-1][yField];\nexport var FUNNEL_CONVERSATION = '$$conversion$$';\n// \n// data[n][yField] / sum(data[0-n][yField])\nexport var FUNNEL_TOTAL_PERCENT = '$$totalPercentage$$';\n//  x \nexport var PLOYGON_X = '$$x$$';\nexport var PLOYGON_Y = '$$y$$';\n//# sourceMappingURL=constant.js.map","import { __assign } from \"tslib\";\nimport { isFunction, map, isNumber, maxBy, get } from '@antv/util';\nimport { FUNNEL_PERCENT, FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE } from '../constant';\n/**\n *  transform\n * @param geometry\n */\nexport function transformData(data, originData, options) {\n    var formatData = [];\n    var yField = options.yField, maxSize = options.maxSize, minSize = options.minSize;\n    var maxYFieldValue = maxBy(originData, yField)[yField];\n    var max = isNumber(maxSize) ? maxSize : 1;\n    var min = isNumber(minSize) ? minSize : 0;\n    // format \n    formatData = map(data, function (row, index) {\n        var percent = (row[yField] || 0) / maxYFieldValue;\n        row[FUNNEL_PERCENT] = percent;\n        row[FUNNEL_MAPPING_VALUE] = (max - min) * percent + min;\n        // \n        row[FUNNEL_CONVERSATION] = [get(data, [index - 1, yField]), row[yField]];\n        return row;\n    });\n    return formatData;\n}\n/**\n * \n * @param getLineCoordinate  line \n */\nexport function conversionTagComponent(getLineCoordinate) {\n    return function (params) {\n        var chart = params.chart, options = params.options;\n        var conversionTag = options.conversionTag;\n        var data = chart.getOptions().data;\n        if (conversionTag) {\n            var formatter_1 = conversionTag.formatter;\n            data.forEach(function (obj, index) {\n                if (index <= 0)\n                    return;\n                var lineOption = getLineCoordinate(obj, index, data, {\n                    top: true,\n                    text: {\n                        content: isFunction(formatter_1) ? formatter_1(obj, data) : formatter_1,\n                        offsetX: conversionTag.offsetX,\n                        offsetY: conversionTag.offsetY,\n                        position: 'end',\n                        autoRotate: false,\n                        style: __assign({ textAlign: 'start', textBaseline: 'middle' }, conversionTag.style),\n                    },\n                });\n                chart.annotation().line(lineOption);\n            });\n        }\n        return params;\n    };\n}\n//# sourceMappingURL=common.js.map","import { __assign } from \"tslib\";\nimport { isArray } from '@antv/util';\nimport { flow, findGeometry } from '../../../utils';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { FUNNEL_CONVERSATION, FUNNEL_PERCENT, FUNNEL_MAPPING_VALUE } from '../constant';\nimport { conversionTagComponent, transformData } from './common';\n/**\n * \n * @param params\n */\nfunction field(params) {\n    var chart = params.chart, options = params.options;\n    var _a = options.data, data = _a === void 0 ? [] : _a, yField = options.yField, maxSize = options.maxSize, minSize = options.minSize;\n    var formatData = transformData(data, data, {\n        yField: yField,\n        maxSize: maxSize,\n        minSize: minSize,\n    });\n    // \n    chart.data(formatData);\n    return params;\n}\n/**\n * geometry\n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var xField = options.xField, yField = options.yField, color = options.color, tooltip = options.tooltip, label = options.label;\n    var _a = getTooltipMapping(tooltip, [xField, yField]), fields = _a.fields, formatter = _a.formatter;\n    baseGeometry({\n        chart: chart,\n        options: {\n            type: 'interval',\n            xField: xField,\n            yField: FUNNEL_MAPPING_VALUE,\n            colorField: xField,\n            tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n            mapping: {\n                shape: 'funnel',\n                tooltip: formatter,\n                color: color,\n            },\n            label: label,\n        },\n    });\n    var geo = findGeometry(params.chart, 'interval');\n    geo.adjust('symmetric');\n    return params;\n}\n/**\n * \n * @param params\n */\nfunction transpose(params) {\n    var chart = params.chart, options = params.options;\n    var isTransposed = options.isTransposed;\n    chart.coordinate({\n        type: 'rect',\n        actions: !isTransposed ? [['transpose'], ['scale', 1, -1]] : [],\n    });\n    return params;\n}\n/**\n * \n * @param params\n */\nfunction conversionTag(params) {\n    var options = params.options;\n    var maxSize = options.maxSize;\n    var getLineCoordinate = function (datum, datumIndex, data, initLineOption) {\n        var percent = maxSize - (maxSize - datum[FUNNEL_MAPPING_VALUE]) / 2;\n        return __assign(__assign({}, initLineOption), { start: [datumIndex - 0.5, percent], end: [datumIndex - 0.5, percent + 0.05] });\n    };\n    conversionTagComponent(getLineCoordinate)(params);\n    return params;\n}\n/**\n * \n * @param chart\n * @param options\n */\nexport function basicFunnel(params) {\n    return flow(field, geometry, transpose, conversionTag)(params);\n}\n//# sourceMappingURL=basic.js.map","import { isArray } from '@antv/util';\nimport { flow, deepAssign } from '../../../utils';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { FUNNEL_PERCENT, FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE } from '../constant';\nimport { conversionTagComponent, transformData } from './common';\n/**\n * \n * @param params\n */\nfunction field(params) {\n    var _a;\n    var chart = params.chart, options = params.options;\n    var _b = options.data, data = _b === void 0 ? [] : _b, yField = options.yField;\n    // \n    chart.data(data);\n    chart.scale((_a = {},\n        _a[yField] = {\n            sync: true,\n        },\n        _a));\n    return params;\n}\n/**\n * geometry\n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var data = options.data, xField = options.xField, yField = options.yField, color = options.color, compareField = options.compareField, isTransposed = options.isTransposed, tooltip = options.tooltip, maxSize = options.maxSize, minSize = options.minSize, label = options.label;\n    chart.facet('mirror', {\n        fields: [compareField],\n        // \n        transpose: !isTransposed,\n        padding: isTransposed ? 0 : [32, 0, 0, 0],\n        eachView: function (view, facet) {\n            var index = isTransposed ? facet.rowIndex : facet.columnIndex;\n            if (!isTransposed) {\n                view.coordinate({\n                    type: 'rect',\n                    actions: [['transpose'], ['scale', index === 0 ? -1 : 1, -1]],\n                });\n            }\n            var formatterData = transformData(facet.data, data, {\n                yField: yField,\n                maxSize: maxSize,\n                minSize: minSize,\n            });\n            view.data(formatterData);\n            // \n            var _a = getTooltipMapping(tooltip, [xField, yField, compareField]), fields = _a.fields, formatter = _a.formatter;\n            var defaultFacetLabel = isTransposed\n                ? {\n                    offset: index === 0 ? 10 : -23,\n                    position: (index === 0 ? 'bottom' : 'top'),\n                }\n                : {\n                    offset: 10,\n                    position: 'left',\n                    style: {\n                        textAlign: index === 0 ? 'end' : 'start',\n                    },\n                };\n            baseGeometry({\n                chart: view,\n                options: {\n                    type: 'interval',\n                    xField: xField,\n                    yField: FUNNEL_MAPPING_VALUE,\n                    colorField: xField,\n                    tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n                    mapping: {\n                        shape: 'funnel',\n                        tooltip: formatter,\n                        color: color,\n                        style: {\n                            lineWidth: 1,\n                            stroke: '#fff',\n                        },\n                    },\n                    label: label === false ? false : deepAssign({}, defaultFacetLabel, label),\n                },\n            });\n        },\n    });\n    return params;\n}\n/**\n * \n * @param params\n */\nfunction conversionTag(params) {\n    var chart = params.chart, options = params.options;\n    var conversionTag = options.conversionTag, isTransposed = options.isTransposed;\n    chart.once('beforepaint', function () {\n        chart.views.forEach(function (view, viewIndex) {\n            var getLineCoordinate = function (datum, datumIndex, data, initLineOption) {\n                var ratio = viewIndex === 0 ? -1 : 1;\n                return deepAssign({}, initLineOption, {\n                    start: [datumIndex - 0.5, datum[FUNNEL_MAPPING_VALUE]],\n                    end: [datumIndex - 0.5, datum[FUNNEL_MAPPING_VALUE] + 0.05],\n                    text: isTransposed\n                        ? {\n                            style: {\n                                textAlign: 'start',\n                            },\n                        }\n                        : {\n                            offsetX: conversionTag !== false ? ratio * conversionTag.offsetX : 0,\n                            style: {\n                                textAlign: viewIndex === 0 ? 'end' : 'start',\n                            },\n                        },\n                });\n            };\n            conversionTagComponent(getLineCoordinate)(deepAssign({}, {\n                chart: view,\n                options: options,\n            }));\n        });\n    });\n    return params;\n}\n/**\n * \n * @param chart\n * @param options\n */\nexport function compareFunnel(params) {\n    return flow(field, geometry, conversionTag)(params);\n}\n//# sourceMappingURL=compare.js.map","import { flow, deepAssign } from '../../../utils';\nimport { basicFunnel } from './basic';\n/**\n * \n * @param params\n */\nfunction field(params) {\n    var _a;\n    var chart = params.chart, options = params.options;\n    var _b = options.data, data = _b === void 0 ? [] : _b, yField = options.yField;\n    // \n    chart.data(data);\n    chart.scale((_a = {},\n        _a[yField] = {\n            sync: true,\n        },\n        _a));\n    return params;\n}\n/**\n * geometry\n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var seriesField = options.seriesField, isTransposed = options.isTransposed;\n    chart.facet('rect', {\n        fields: [seriesField],\n        padding: [isTransposed ? 0 : 32, 10, 0, 10],\n        eachView: function (view, facet) {\n            basicFunnel(deepAssign({}, params, {\n                chart: view,\n                options: {\n                    data: facet.data,\n                },\n            }));\n        },\n    });\n    return params;\n}\n/**\n * \n * @param chart\n * @param options\n */\nexport function facetFunnel(params) {\n    return flow(field, geometry)(params);\n}\n//# sourceMappingURL=facet.js.map","import { __assign } from \"tslib\";\nimport { map, reduce, maxBy, isArray, get } from '@antv/util';\nimport { flow } from '../../../utils';\nimport { FUNNEL_PERCENT, FUNNEL_CONVERSATION, FUNNEL_TOTAL_PERCENT, PLOYGON_X, PLOYGON_Y } from '../constant';\nimport { geometry as baseGeometry } from '../../../adaptor/geometries/base';\nimport { getTooltipMapping } from '../../../utils/tooltip';\nimport { conversionTagComponent } from './common';\n/**\n * \n * @param params\n * :  yfield 2 2\n * :  g2 data ->  -> \n *  -0.5 <= x <= 0.5, 0 <= y <= 1 \n * ,  x \n *  data.length + 1  y = 4x - 1 [0.5, 1], [0.25, 0] data  y  y \n */\n/**\n * \n * @param params\n */\nfunction field(params) {\n    var chart = params.chart, options = params.options;\n    var _a = options.data, data = _a === void 0 ? [] : _a, yField = options.yField;\n    // \n    var sum = reduce(data, function (total, item) {\n        return total + (item[yField] || 0);\n    }, 0);\n    var max = maxBy(data, yField)[yField];\n    var formatData = map(data, function (row, index) {\n        //  xy  [, ]\n        var x = [];\n        var y = [];\n        row[FUNNEL_TOTAL_PERCENT] = (row[yField] || 0) / sum;\n        // \n        if (index) {\n            var preItemX = data[index - 1][PLOYGON_X];\n            var preItemY = data[index - 1][PLOYGON_Y];\n            x[0] = preItemX[3];\n            y[0] = preItemY[3];\n            x[1] = preItemX[2];\n            y[1] = preItemY[2];\n        }\n        else {\n            x[0] = -0.5;\n            y[0] = 1;\n            x[1] = 0.5;\n            y[1] = 1;\n        }\n        // \n        y[2] = y[1] - row[FUNNEL_TOTAL_PERCENT];\n        x[2] = (y[2] + 1) / 4;\n        y[3] = y[2];\n        x[3] = -x[2];\n        // \n        row[PLOYGON_X] = x;\n        row[PLOYGON_Y] = y;\n        row[FUNNEL_PERCENT] = (row[yField] || 0) / max;\n        row[FUNNEL_CONVERSATION] = [get(data, [index - 1, yField]), row[yField]];\n        return row;\n    });\n    chart.data(formatData);\n    return params;\n}\n/**\n * geometry\n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var xField = options.xField, yField = options.yField, color = options.color, tooltip = options.tooltip, label = options.label;\n    var _a = getTooltipMapping(tooltip, [xField, yField]), fields = _a.fields, formatter = _a.formatter;\n    // \n    baseGeometry({\n        chart: chart,\n        options: {\n            type: 'polygon',\n            xField: PLOYGON_X,\n            yField: PLOYGON_Y,\n            colorField: xField,\n            tooltipFields: isArray(fields) && fields.concat([FUNNEL_PERCENT, FUNNEL_CONVERSATION]),\n            label: label,\n            mapping: {\n                tooltip: formatter,\n                color: color,\n            },\n        },\n    });\n    return params;\n}\n/**\n * \n * @param params\n */\nfunction transpose(params) {\n    var chart = params.chart, options = params.options;\n    var isTransposed = options.isTransposed;\n    chart.coordinate({\n        type: 'rect',\n        actions: isTransposed ? [['transpose'], ['reflect', 'x']] : [],\n    });\n    return params;\n}\n/**\n * \n * @param params\n */\nfunction conversionTag(params) {\n    var getLineCoordinate = function (datum, datumIndex, data, initLineOption) {\n        return __assign(__assign({}, initLineOption), { start: [datum[PLOYGON_X][1], datum[PLOYGON_Y][1]], end: [datum[PLOYGON_X][1] + 0.05, datum[PLOYGON_Y][1]] });\n    };\n    conversionTagComponent(getLineCoordinate)(params);\n    return params;\n}\n/**\n * \n * @param chart\n * @param options\n */\nexport function dynamicHeightFunnel(params) {\n    return flow(field, geometry, transpose, conversionTag)(params);\n}\n//# sourceMappingURL=dynamic-height.js.map","import { interaction, animation, theme, scale, annotation, tooltip } from '../../adaptor/common';\nimport { flow, deepAssign } from '../../utils';\nimport { conversionTagFormatter } from '../../utils/conversion';\nimport { basicFunnel } from './geometries/basic';\nimport { compareFunnel } from './geometries/compare';\nimport { facetFunnel } from './geometries/facet';\nimport { dynamicHeightFunnel } from './geometries/dynamic-height';\nimport { FUNNEL_CONVERSATION, FUNNEL_MAPPING_VALUE, FUNNEL_PERCENT } from './constant';\n/**\n *\n * geometry,\n * 1. interval.shape('funnel')\n * 2. \n * 3. polypon\n * 4.  + list \n* /\n\n/**\n * options \n * @param params\n */\nfunction defaultOptions(params) {\n    var _a;\n    var options = params.options;\n    var compareField = options.compareField, xField = options.xField, yField = options.yField;\n    var defaultOption = {\n        minSize: 0,\n        maxSize: 1,\n        meta: (_a = {},\n            _a[FUNNEL_MAPPING_VALUE] = {\n                min: 0,\n                max: 1,\n                nice: false,\n            },\n            _a),\n        label: compareField\n            ? {\n                fields: [xField, yField, compareField, FUNNEL_PERCENT, FUNNEL_CONVERSATION],\n                style: {\n                    fill: '#fff',\n                    fontSize: 12,\n                },\n                formatter: function (datum) { return \"\" + datum[yField]; },\n            }\n            : {\n                fields: [xField, yField, FUNNEL_PERCENT, FUNNEL_CONVERSATION],\n                offset: 0,\n                position: 'middle',\n                style: {\n                    fill: '#fff',\n                    fontSize: 12,\n                },\n                formatter: function (datum) { return datum[xField] + \" \" + datum[yField]; },\n            },\n        tooltip: {\n            showTitle: false,\n            showMarkers: false,\n            shared: false,\n            title: xField,\n            formatter: function (datum) {\n                return { name: datum[xField], value: datum[yField] };\n            },\n        },\n        conversionTag: {\n            offsetX: 10,\n            offsetY: 0,\n            style: {},\n            // conversionTag \n            formatter: function (datum) { return \"\\u8F6C\\u5316\\u7387: \" + conversionTagFormatter.apply(void 0, datum[FUNNEL_CONVERSATION]); },\n        },\n    };\n    return deepAssign({\n        options: defaultOption,\n    }, params);\n}\n/**\n * geometry\n * @param params\n */\nfunction geometry(params) {\n    var options = params.options;\n    var compareField = options.compareField, dynamicHeight = options.dynamicHeight, seriesField = options.seriesField;\n    if (seriesField) {\n        return facetFunnel(params);\n    }\n    if (compareField) {\n        return compareFunnel(params);\n    }\n    if (dynamicHeight) {\n        return dynamicHeightFunnel(params);\n    }\n    return basicFunnel(params);\n}\n/**\n * meta \n * @param params\n */\nexport function meta(params) {\n    var _a;\n    var options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField;\n    return flow(scale((_a = {},\n        _a[xField] = xAxis,\n        _a[yField] = yAxis,\n        _a)))(params);\n}\n/**\n * \n * @param params\n */\nfunction axis(params) {\n    var chart = params.chart;\n    chart.axis(false);\n    return params;\n}\n/**\n * legend \n * @param params\n */\nfunction legend(params) {\n    var chart = params.chart, options = params.options;\n    var legend = options.legend;\n    if (legend === false) {\n        chart.legend(false);\n    }\n    else {\n        chart.legend(legend);\n        // TODO FIX: legend-click \n    }\n    return params;\n}\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    return flow(defaultOptions, geometry, meta, axis, tooltip, interaction, legend, animation, theme, annotation())(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __extends } from \"tslib\";\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { FUNNEL_CONVERSATION as FUNNEL_CONVERSATION_FIELD } from './constant';\nexport { FUNNEL_CONVERSATION_FIELD };\nvar Funnel = /** @class */ (function (_super) {\n    __extends(Funnel, _super);\n    function Funnel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'funnel';\n        return _this;\n    }\n    /**\n     *   \n     */\n    Funnel.prototype.getDefaultOptions = function () {\n        //  defaultOption  core.getDefaultOptions funnel  defaulOption  adaptor  defaultOption \n        return {\n            appendPadding: [0, 80],\n        };\n    };\n    /**\n     *   \n     */\n    Funnel.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Funnel;\n}(Plot));\nexport { Funnel };\n//# sourceMappingURL=index.js.map","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Dont include the roots parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n","import * as d3Hierarchy from 'd3-hierarchy';\nimport { assign, isArray } from '@antv/util';\nimport { getField, getAllNodes } from './util';\nvar DEFAULT_OPTIONS = {\n    field: 'value',\n    size: [1, 1],\n    round: false,\n    padding: 0,\n    sort: true,\n    as: ['x', 'y'],\n};\nexport function partition(data, options) {\n    options = assign({}, DEFAULT_OPTIONS, options);\n    var as = options.as;\n    if (!isArray(as) || as.length !== 2) {\n        throw new TypeError('Invalid as: it must be an array with 2 strings (e.g. [ \"x\", \"y\" ])!');\n    }\n    var field;\n    try {\n        field = getField(options);\n    }\n    catch (e) {\n        console.warn(e);\n    }\n    var partition = function (data) {\n        return d3Hierarchy.partition().size(options.size).round(options.round).padding(options.padding)(d3Hierarchy.hierarchy(data).sum(function (d) { return d[field]; }));\n    };\n    var root = partition(data);\n    /*\n     * points:\n     *   3  2\n     *   0  1\n     */\n    var x = as[0];\n    var y = as[1];\n    root.each(function (node) {\n        node[x] = [node.x0, node.x1, node.x1, node.x0];\n        node[y] = [node.y1, node.y1, node.y0, node.y0];\n        ['x0', 'x1', 'y0', 'y1'].forEach(function (prop) {\n            if (as.indexOf(prop) === -1) {\n                delete node[prop];\n            }\n        });\n    });\n    return getAllNodes(root);\n}\n//# sourceMappingURL=partition.js.map","import { __assign } from \"tslib\";\nimport { partition } from '../../utils/hierarchy/partition';\nimport { treemap } from '../../utils/hierarchy/treemap';\n/**\n * sunburst \n * @param options\n */\nexport function transformData(options) {\n    var data = options.data, type = options.type, seriesField = options.seriesField, colorField = options.colorField, hierarchyConfig = options.hierarchyConfig;\n    var transform = {\n        partition: partition,\n        treemap: treemap,\n    };\n    var nodes = transform[type](data, __assign(__assign({}, hierarchyConfig), { \n        // @ts-ignore\n        type: \"hierarchy.\" + type, field: seriesField, as: ['x', 'y'] }));\n    var result = [];\n    nodes.forEach(function (node) {\n        var _a;\n        var _b, _c, _d, _e;\n        if (node.depth === 0) {\n            return null;\n        }\n        var nodeInfo = __assign((_a = {}, _a[seriesField] = node.data[seriesField] || ((_c = (_b = node.parent) === null || _b === void 0 ? void 0 : _b.data) === null || _c === void 0 ? void 0 : _c[seriesField]), _a[colorField] = node.data[colorField] || ((_e = (_d = node.parent) === null || _d === void 0 ? void 0 : _d.data) === null || _e === void 0 ? void 0 : _e[colorField]), _a), node);\n        nodeInfo.ext = hierarchyConfig;\n        result.push(nodeInfo);\n    });\n    return result;\n}\n/**\n * customContent\n * @param {string} value\n * @param {any[]} items\n * @param {Function} formatter\n * @param {string} field\n * @returns HTMLElement\n */\nexport function getTooltipTemplate(params) {\n    var items = params.items, formatter = params.formatter, fields = params.fields;\n    var _a = items[0] || {}, color = _a.color, mappingData = _a.mappingData, data = _a.data; // \n    var container = document.createElement('ul');\n    container.className = 'g2-tooltip';\n    var listItem = '';\n    var formatterItem = function (item, field) {\n        var _a;\n        if (formatter) {\n            return formatter(__assign(__assign({}, item), { field: field }));\n        }\n        return { name: field, value: (item === null || item === void 0 ? void 0 : item[field]) || ((_a = item === null || item === void 0 ? void 0 : item.data) === null || _a === void 0 ? void 0 : _a[field]) };\n    };\n    fields.forEach(function (field) {\n        var _a = formatterItem(data, field), name = _a.name, value = _a.value;\n        listItem += \"<li class=\\\"g2-tooltip-list-item\\\" data-index={index} style=\\\"margin-bottom:4px;display:flex;align-items: center;\\\">\\n        <span style=\\\"background-color:\" + ((mappingData === null || mappingData === void 0 ? void 0 : mappingData.color) || color) + \";\\\" class=\\\"g2-tooltip-marker\\\"></span>\\n        <span style=\\\"display:inline-flex;flex:1;justify-content:space-between\\\">\\n        <span style=\\\"margin-right: 16px;\\\">\" + name + \":</span>\\n        <span class=\\\"g2-tooltip-list-item-value\\\">\" + value + \"</span>\\n        </span>\\n    </li>\";\n    });\n    container.innerHTML = listItem;\n    return container;\n}\n//# sourceMappingURL=utils.js.map","import { __assign, __rest } from \"tslib\";\nimport { polygon as polygonAdaptor } from '../../adaptor/geometries';\nimport { interaction, animation, theme, annotation } from '../../adaptor/common';\nimport { flow, findGeometry, transformLabel, deepAssign } from '../../utils';\nimport { transformData, getTooltipTemplate } from './utils';\n/**\n * geometry \n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var color = options.color, colorField = options.colorField, sunburstStyle = options.sunburstStyle;\n    var data = transformData(options);\n    chart.data(data);\n    // geometry\n    polygonAdaptor(deepAssign({}, params, {\n        options: {\n            xField: 'x',\n            yField: 'y',\n            seriesField: colorField,\n            polygon: {\n                color: color,\n                style: sunburstStyle,\n            },\n        },\n    }));\n    return params;\n}\n/**\n * axis \n * @param params\n */\nexport function axis(params) {\n    var chart = params.chart;\n    chart.axis(false);\n    return params;\n}\n/**\n * legend \n * @param params\n */\nexport function legend(params) {\n    var chart = params.chart;\n    chart.legend(false);\n    return params;\n}\n/**\n * \n * @param params\n */\nfunction label(params) {\n    var chart = params.chart, options = params.options;\n    var label = options.label, seriesField = options.seriesField;\n    var geometry = findGeometry(chart, 'polygon');\n    // label  false,   label\n    if (!label) {\n        geometry.label(false);\n    }\n    else {\n        var callback = label.callback, cfg = __rest(label, [\"callback\"]);\n        geometry.label({\n            fields: [seriesField],\n            callback: callback,\n            cfg: transformLabel(cfg),\n        });\n    }\n    return params;\n}\n/**\n * coord \n * @param params\n */\nfunction coordinate(params) {\n    var chart = params.chart, options = params.options;\n    var innerRadius = options.innerRadius, radius = options.radius, reflect = options.reflect;\n    var coord = chart.coordinate({\n        type: 'polar',\n        cfg: {\n            innerRadius: innerRadius,\n            radius: radius,\n        },\n    });\n    if (reflect) {\n        coord.reflect(reflect);\n    }\n    return params;\n}\n/**\n * scale \n * @param params\n */\nfunction scale(params) {\n    var chart = params.chart, options = params.options;\n    var meta = options.meta;\n    if (meta) {\n        // @ts-ignore\n        chart.scale(meta);\n    }\n    return params;\n}\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params) {\n    var chart = params.chart, options = params.options;\n    var tooltip = options.tooltip, seriesField = options.seriesField, colorField = options.colorField;\n    if (tooltip) {\n        chart.tooltip(__assign(__assign({}, tooltip), { customContent: tooltip && tooltip.customContent\n                ? tooltip.customContent\n                : function (value, items) {\n                    return getTooltipTemplate({\n                        value: value,\n                        items: items,\n                        formatter: tooltip && (tooltip === null || tooltip === void 0 ? void 0 : tooltip.formatter),\n                        fields: (tooltip && tooltip.fields) || [seriesField, colorField],\n                    });\n                } }));\n    }\n    return params;\n}\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // flow  G2 API\n    return flow(geometry, theme, axis, scale, legend, coordinate, tooltip, label, interaction, animation, annotation())(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __extends } from \"tslib\";\nimport { deepAssign } from '../../utils';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nvar Sunburst = /** @class */ (function (_super) {\n    __extends(Sunburst, _super);\n    function Sunburst() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'sunburst';\n        return _this;\n    }\n    /**\n     * \n     */\n    Sunburst.prototype.getDefaultOptions = function () {\n        return deepAssign({}, _super.prototype.getDefaultOptions.call(this), {\n            type: 'partition',\n            innerRadius: 0,\n            seriesField: 'value',\n            tooltip: {\n                shared: true,\n                showMarkers: false,\n                offset: 20,\n                showTitle: false,\n            },\n        });\n    };\n    /**\n     * \n     */\n    Sunburst.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Sunburst;\n}(Plot));\nexport { Sunburst };\n//# sourceMappingURL=index.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar id = 1;\n/**\n * generate unique id in application\n * @return {string}\n */\n\nvar _default = function _default() {\n  return \"\".concat(id++);\n};\n\nexports[\"default\"] = _default;","import { __assign } from \"tslib\";\nimport { isArray } from '@antv/util';\nimport { treemap } from '../../utils/hierarchy/treemap';\nimport { deepAssign } from '../../utils';\nexport function isDrillDown(interactions) {\n    if (!isArray(interactions))\n        return false;\n    return interactions.findIndex(function (i) { return i.type === 'treemap-drill-down'; }) > -1;\n}\nexport function getFommatInteractions(interactions, hierarchyConfig) {\n    var openDrillDown = isDrillDown(interactions);\n    if (openDrillDown) {\n        return interactions.map(function (i) {\n            if (i.type === 'treemap-drill-down') {\n                return deepAssign({}, i, {\n                    cfg: {\n                        hierarchyConfig: hierarchyConfig,\n                    },\n                });\n            }\n            return i;\n        });\n    }\n    return interactions;\n}\nexport function transformData(options) {\n    var data = options.data, colorField = options.colorField, openDrillDown = options.openDrillDown, _a = options.hierarchyConfig, hierarchyConfig = _a === void 0 ? {} : _a;\n    var nodes = treemap(data, __assign(__assign({}, hierarchyConfig), { \n        // @ts-ignore\n        type: 'hierarchy.treemap', field: 'value', as: ['x', 'y'] }));\n    var result = [];\n    nodes.forEach(function (node) {\n        if (node.depth === 0) {\n            return null;\n        }\n        //  depth === 1 \n        if (openDrillDown && node.depth !== 1) {\n            return null;\n        }\n        // \n        if (!openDrillDown && node.children) {\n            return null;\n        }\n        var eachNode = Object.assign({}, node.data, {\n            x: node.x,\n            y: node.y,\n            depth: node.depth,\n            value: node.value,\n        });\n        if (!node.data[colorField] && node.parent) {\n            var ancestorNode = node.ancestors().find(function (n) { return n.data[colorField]; });\n            eachNode[colorField] = ancestorNode === null || ancestorNode === void 0 ? void 0 : ancestorNode.data[colorField];\n        }\n        else {\n            eachNode[colorField] = node.data[colorField];\n        }\n        result.push(eachNode);\n    });\n    return result;\n}\n//# sourceMappingURL=utils.js.map","import { polygon as basePolygon } from '../../adaptor/geometries/polygon';\nimport { interaction as commonInteraction, animation, theme, legend, annotation, tooltip } from '../../adaptor/common';\nimport { flow, deepAssign } from '../../utils';\nimport { transformData, isDrillDown, getFommatInteractions } from './utils';\n/**\n *  option\n * @param params\n */\nfunction defaultOptions(params) {\n    var options = params.options;\n    var colorField = options.colorField;\n    return deepAssign({\n        options: {\n            //  name \n            colorField: 'name',\n            rectStyle: {\n                lineWidth: 1,\n                stroke: '#fff',\n            },\n            hierarchyConfig: {\n                tile: 'treemapResquarify',\n            },\n            label: {\n                fields: ['name'],\n                layout: {\n                    type: 'limit-in-shape',\n                },\n            },\n            tooltip: {\n                showMarkers: false,\n                showTitle: false,\n                fields: ['name', 'value', colorField],\n                formatter: function (data) {\n                    return {\n                        name: data.name,\n                        value: data.value,\n                    };\n                },\n            },\n            interactions: [{ type: 'view-zoom' }, { type: 'treemap-element-zoom' }],\n        },\n    }, params);\n}\n/**\n * \n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var color = options.color, colorField = options.colorField, rectStyle = options.rectStyle;\n    var data = transformData({\n        data: options.data,\n        colorField: options.colorField,\n        openDrillDown: isDrillDown(options.interactions),\n    });\n    chart.data(data);\n    // geometry\n    basePolygon(deepAssign({}, params, {\n        options: {\n            xField: 'x',\n            yField: 'y',\n            seriesField: colorField,\n            rawFields: ['value'],\n            polygon: {\n                color: color,\n                style: rectStyle,\n            },\n        },\n    }));\n    // \n    chart.coordinate().reflect('y');\n    return params;\n}\n/**\n * \n * @param params\n */\nfunction axis(params) {\n    var chart = params.chart;\n    chart.axis(false);\n    return params;\n}\n/**\n * Interaction \n * @param params\n */\nexport function interaction(params) {\n    var chart = params.chart, options = params.options;\n    var interactions = options.interactions, hierarchyConfig = options.hierarchyConfig;\n    commonInteraction({\n        chart: chart,\n        options: {\n            interactions: getFommatInteractions(interactions, hierarchyConfig),\n        },\n    });\n    return params;\n}\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    return flow(defaultOptions, geometry, axis, theme, legend, tooltip, interaction, animation, annotation())(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __extends } from \"tslib\";\nimport { Action } from '@antv/g2';\nimport { get, isArray } from '@antv/util';\nimport { transformData } from '../../utils';\nvar TreemapDrillDownAction = /** @class */ (function (_super) {\n    __extends(TreemapDrillDownAction, _super);\n    function TreemapDrillDownAction() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        //  scale\n        _this.cacheDataStack = [];\n        return _this;\n    }\n    TreemapDrillDownAction.prototype.drill = function (data) {\n        var view = this.context.view;\n        var currentData = view.getData();\n        var groupScales = view.getGroupScales();\n        var hierarchyConfig = get(view, ['interactions', 'treemap-drill-down', 'cfg', 'hierarchyConfig'], {});\n        //  update \n        var drillData = transformData({\n            data: data,\n            colorField: get(groupScales, [0, 'field']),\n            openDrillDown: true,\n            hierarchyConfig: hierarchyConfig,\n        });\n        view.changeData(drillData);\n        this.cacheDataStack.push(currentData);\n    };\n    TreemapDrillDownAction.prototype.click = function () {\n        var data = get(this.context, ['event', 'data', 'data']);\n        if (!data)\n            return false;\n        this.drill(data);\n    };\n    TreemapDrillDownAction.prototype.reset = function () {\n        var view = this.context.view;\n        if (!isArray(this.cacheDataStack) || this.cacheDataStack.length <= 0) {\n            return;\n        }\n        var cacheData = this.cacheDataStack.splice(this.cacheDataStack.length - 1, 1);\n        view.changeData(cacheData[0]);\n    };\n    return TreemapDrillDownAction;\n}(Action));\nexport { TreemapDrillDownAction };\n//# sourceMappingURL=treemap-drill-down-action.js.map","import { get, isArray } from '@antv/util';\n/**\n * \n */\nexport function isTopParentNode(context) {\n    var data = get(context, ['event', 'data', 'data'], {});\n    return isArray(data.children) && data.children.length > 0 && data.depth === 1;\n}\n/**\n * \n */\nexport function hasHistoryDrill(context) {\n    if (!context || !context.getAction)\n        return false;\n    var treemapElementDrillAction = context.getAction('treemap-drill-down-action');\n    if (!treemapElementDrillAction)\n        return false;\n    // @ts-ignore\n    var cacheDataStack = treemapElementDrillAction.cacheDataStack;\n    return isArray(cacheDataStack) && cacheDataStack.length > 0;\n}\n//# sourceMappingURL=util.js.map","import { registerInteraction, registerAction } from '@antv/g2';\nimport { TreemapDrillDownAction } from './actions/treemap-drill-down-action';\nimport { isTopParentNode, hasHistoryDrill } from './util';\nregisterAction('treemap-drill-down-action', TreemapDrillDownAction);\nregisterInteraction('treemap-drill-down', {\n    showEnable: [\n        { trigger: 'plot:mouseenter', action: 'cursor:pointer' },\n        { trigger: 'plot:mouseleave', action: 'cursor:default' },\n    ],\n    start: [\n        {\n            trigger: 'element:click',\n            isEnable: isTopParentNode,\n            action: ['treemap-drill-down-action:click', 'reset-button:show'],\n        },\n    ],\n    rollback: [\n        { trigger: 'reset-button:click', action: ['treemap-drill-down-action:reset'] },\n        {\n            trigger: 'reset-button:click',\n            action: ['reset-button:hide'],\n            isEnable: function (context) { return !hasHistoryDrill(context); },\n        },\n    ],\n});\n//# sourceMappingURL=treemap-drill-down.js.map","import { __extends } from \"tslib\";\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport './interactions/treemap-drill-down';\nimport '../scatter/interaction';\nvar Treemap = /** @class */ (function (_super) {\n    __extends(Treemap, _super);\n    function Treemap() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'treemap';\n        return _this;\n    }\n    Treemap.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Treemap;\n}(Plot));\nexport { Treemap };\n//# sourceMappingURL=index.js.map","import { __assign, __rest } from \"tslib\";\nimport { each } from '@antv/util';\nimport { tooltip, slider, interaction, animation, theme, scale, annotation, limitInPlot } from '../../adaptor/common';\nimport { findGeometry, transformLabel, deepAssign } from '../../utils';\nimport { point, line } from '../../adaptor/geometries';\nimport { flow } from '../../utils';\nimport { adjustYMetaByZero } from '../../utils/data';\n/**\n * geometry \n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var data = options.data, color = options.color, lineStyle = options.lineStyle, lineShape = options.lineShape, pointMapping = options.point, seriesField = options.seriesField;\n    chart.data(data);\n    // line geometry \n    var primary = deepAssign({}, params, {\n        options: {\n            shapeField: seriesField,\n            line: {\n                color: color,\n                style: lineStyle,\n                shape: lineShape,\n            },\n            //  tooltip \n            // \n            point: pointMapping && __assign({ color: color, shape: 'circle' }, pointMapping),\n            // label  geometry adaptor label adaptor \n            label: undefined,\n        },\n    });\n    var second = deepAssign({}, primary, { options: { tooltip: false } });\n    line(primary);\n    point(second);\n    return params;\n}\n/**\n * meta \n * @param params\n */\nexport function meta(params) {\n    var _a, _b;\n    var options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField, data = options.data;\n    return flow(scale((_a = {},\n        _a[xField] = xAxis,\n        _a[yField] = yAxis,\n        _a), (_b = {},\n        _b[xField] = {\n            type: 'cat',\n        },\n        _b[yField] = adjustYMetaByZero(data, yField),\n        _b)))(params);\n}\n/**\n * axis \n * @param params\n */\nexport function axis(params) {\n    var chart = params.chart, options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField;\n    //  false \n    if (xAxis === false) {\n        chart.axis(xField, false);\n    }\n    else {\n        chart.axis(xField, xAxis);\n    }\n    if (yAxis === false) {\n        chart.axis(yField, false);\n    }\n    else {\n        chart.axis(yField, yAxis);\n    }\n    return params;\n}\n/**\n * legend \n * @param params\n */\nexport function legend(params) {\n    var chart = params.chart, options = params.options;\n    var legend = options.legend, seriesField = options.seriesField;\n    if (legend && seriesField) {\n        chart.legend(seriesField, legend);\n    }\n    else if (legend === false) {\n        chart.legend(false);\n    }\n    return params;\n}\n/**\n * \n * @param params\n */\nfunction label(params) {\n    var chart = params.chart, options = params.options;\n    var label = options.label, yField = options.yField;\n    var lineGeometry = findGeometry(chart, 'line');\n    // label  false,   label\n    if (!label) {\n        lineGeometry.label(false);\n    }\n    else {\n        var callback = label.callback, cfg = __rest(label, [\"callback\"]);\n        lineGeometry.label({\n            fields: [yField],\n            callback: callback,\n            cfg: __assign({ layout: [\n                    { type: 'limit-in-plot' },\n                    { type: 'path-adjust-position' },\n                    { type: 'point-adjust-position' },\n                    { type: 'limit-in-plot', cfg: { action: 'hide' } },\n                ] }, transformLabel(cfg)),\n        });\n    }\n    return params;\n}\n/**\n *  adjust\n * @param params\n */\nexport function adjust(params) {\n    var chart = params.chart, options = params.options;\n    var isStack = options.isStack;\n    if (isStack) {\n        each(chart.geometries, function (g) {\n            g.adjust('stack');\n        });\n    }\n    return params;\n}\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // flow  G2 API\n    return flow(geometry, meta, adjust, theme, axis, legend, tooltip, label, slider, interaction, animation, annotation(), limitInPlot)(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { theme, scale, animation, annotation, tooltip } from '../../adaptor/common';\nimport { flow, deepAssign } from '../../utils';\nimport { area, line, point } from '../../adaptor/geometries';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nimport { adjustYMetaByZero } from '../../utils/data';\n/**\n * \n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var data = options.data, color = options.color, areaStyle = options.areaStyle, pointOptions = options.point, lineOptions = options.line;\n    var seriesData = getTinyData(data);\n    chart.data(seriesData);\n    var primary = deepAssign({}, params, {\n        options: {\n            xField: X_FIELD,\n            yField: Y_FIELD,\n            area: { color: color, style: areaStyle },\n            line: lineOptions,\n            point: pointOptions,\n        },\n    });\n    var second = deepAssign({}, primary, { options: { tooltip: false } });\n    // area geometry \n    area(primary);\n    line(second);\n    point(second);\n    chart.axis(false);\n    chart.legend(false);\n    return params;\n}\n/**\n * meta \n * @param params\n */\nexport function meta(params) {\n    var _a, _b;\n    var options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, data = options.data;\n    var seriesData = getTinyData(data);\n    return flow(scale((_a = {},\n        _a[X_FIELD] = xAxis,\n        _a[Y_FIELD] = yAxis,\n        _a), (_b = {},\n        _b[X_FIELD] = {\n            type: 'cat',\n        },\n        _b[Y_FIELD] = adjustYMetaByZero(seriesData, Y_FIELD),\n        _b)))(params);\n}\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    return flow(geometry, meta, tooltip, theme, animation, annotation())(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { registerInteraction } from '@antv/g2';\nregisterInteraction('drag-move', {\n    start: [{ trigger: 'plot:mousedown', action: 'scale-translate:start' }],\n    processing: [\n        {\n            trigger: 'plot:mousemove',\n            action: 'scale-translate:translate',\n            throttle: { wait: 100, leading: true, trailing: false },\n        },\n    ],\n    end: [{ trigger: 'plot:mouseup', action: 'scale-translate:end' }],\n});\n//# sourceMappingURL=index.js.map","import { each, every, filter, isString } from '@antv/util';\nimport { LEVEL, log } from '../../utils';\n/**\n * \n * @param data\n * @param field\n */\nexport function getTotalValue(data, field) {\n    var total = null;\n    each(data, function (item) {\n        if (typeof item[field] === 'number') {\n            total += item[field];\n        }\n    });\n    return total;\n}\n/**\n * pie label offset adaptor\n */\nexport function adaptOffset(type, offset) {\n    var defaultOffset;\n    switch (type) {\n        case 'inner':\n            defaultOffset = '-30%';\n            if (isString(offset) && offset.endsWith('%')) {\n                return parseFloat(offset) * 0.01 > 0 ? defaultOffset : offset;\n            }\n            return offset < 0 ? offset : defaultOffset;\n        case 'outer':\n            defaultOffset = 12;\n            if (isString(offset) && offset.endsWith('%')) {\n                return parseFloat(offset) * 0.01 < 0 ? defaultOffset : offset;\n            }\n            return offset > 0 ? offset : defaultOffset;\n        default:\n            return offset;\n    }\n}\n/**\n * (   NaN null)\n * @param data\n * @param angleField\n */\nexport function processIllegalData(data, angleField) {\n    var processData = filter(data, function (d) {\n        var v = d[angleField];\n        return (typeof v === 'number' && !isNaN(v)) || v === null;\n    });\n    // \n    log(LEVEL.WARN, processData.length === data.length, 'illegal data existed in chart data.');\n    return processData;\n}\n/**\n *  0\n * @param data\n * @param angleField\n */\nexport function isAllZero(data, angleField) {\n    return every(data, function (d) { return d[angleField] === 0; });\n}\n//# sourceMappingURL=utils.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createSensor = void 0;\n\nvar _debounce = _interopRequireDefault(require(\"../debounce\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Created by hustcc on 18/7/5.\n * Contract: i@hust.cc\n */\nvar createSensor = function createSensor(element) {\n  var sensor = undefined; // callback\n\n  var listeners = [];\n  /**\n   * trigger listeners\n   */\n\n  var resizeListener = (0, _debounce[\"default\"])(function () {\n    // trigger all\n    listeners.forEach(function (listener) {\n      listener(element);\n    });\n  });\n  /**\n   * create ResizeObserver sensor\n   * @returns\n   */\n\n  var newSensor = function newSensor() {\n    var s = new ResizeObserver(resizeListener); // listen element\n\n    s.observe(element); // trigger once\n\n    resizeListener();\n    return s;\n  };\n  /**\n   * listen with callback\n   * @param cb\n   */\n\n\n  var bind = function bind(cb) {\n    if (!sensor) {\n      sensor = newSensor();\n    }\n\n    if (listeners.indexOf(cb) === -1) {\n      listeners.push(cb);\n    }\n  };\n  /**\n   * destroy\n   */\n\n\n  var destroy = function destroy() {\n    sensor.disconnect();\n    listeners = [];\n    sensor = undefined;\n  };\n  /**\n   * cancel bind\n   * @param cb\n   */\n\n\n  var unbind = function unbind(cb) {\n    var idx = listeners.indexOf(cb);\n\n    if (idx !== -1) {\n      listeners.splice(idx, 1);\n    } // no listener, and sensor is exist\n    // then destroy the sensor\n\n\n    if (listeners.length === 0 && sensor) {\n      destroy();\n    }\n  };\n\n  return {\n    element: element,\n    bind: bind,\n    destroy: destroy,\n    unbind: unbind\n  };\n};\n\nexports.createSensor = createSensor;","import { __extends } from \"tslib\";\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { getProgressData } from './utils';\nvar Progress = /** @class */ (function (_super) {\n    __extends(Progress, _super);\n    function Progress() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'process';\n        return _this;\n    }\n    /**\n     *   \n     * @static \n     */\n    Progress.getDefaultOptions = function () {\n        return DEFAULT_OPTIONS;\n    };\n    /**\n     * \n     * @param percent\n     */\n    Progress.prototype.changeData = function (percent) {\n        this.updateOption({ percent: percent });\n        this.chart.changeData(getProgressData(percent));\n    };\n    Progress.prototype.getDefaultOptions = function () {\n        return Progress.getDefaultOptions();\n    };\n    /**\n     *   \n     */\n    Progress.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Progress;\n}(Plot));\nexport { Progress };\n//# sourceMappingURL=index.js.map","import { map } from '@antv/util';\nexport function getTinyData(data) {\n    return map(data || [], function (y, x) { return ({ x: \"\" + x, y: y }); });\n}\n//# sourceMappingURL=utils.js.map","export var BOX_RANGE = '$$range$$';\nexport var BOX_RANGE_ALIAS = 'low-q1-median-q3-high';\nexport var BOX_SYNC_NAME = '$$y_outliers$$';\nexport var OUTLIERS_VIEW_ID = 'outliers_view';\n//# sourceMappingURL=constant.js.map","import { map } from '@antv/util';\nimport { BOX_RANGE } from './constant';\n/**\n * @desc  box ,yField,datadata,data\n * @param data\n * @param yField\n */\nexport var transformData = function (data, yField) {\n    var newData = data;\n    // formate data when `yField` is Array\n    if (Array.isArray(yField)) {\n        var low_1 = yField[0], q1_1 = yField[1], median_1 = yField[2], q3_1 = yField[3], high_1 = yField[4];\n        newData = map(data, function (obj) {\n            obj[BOX_RANGE] = [obj[low_1], obj[q1_1], obj[median_1], obj[q3_1], obj[high_1]];\n            return obj;\n        });\n    }\n    return newData;\n};\n//# sourceMappingURL=utils.js.map","import { isFunction, isObject } from '@antv/util';\nimport { interaction, animation, theme } from '../../adaptor/common';\nimport { findGeometry } from '../../utils';\nimport { flow, pick, deepAssign } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { BOX_RANGE, BOX_SYNC_NAME, OUTLIERS_VIEW_ID } from './constant';\nimport { transformData } from './utils';\n/**\n * \n * @param params\n */\nfunction field(params) {\n    var chart = params.chart, options = params.options;\n    var xField = options.xField, yField = options.yField, groupField = options.groupField, color = options.color;\n    var yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n    var geometry = chart.schema().position(xField + \"*\" + yFieldName).shape('box');\n    // set group field as color channel\n    if (groupField) {\n        geometry.color(groupField, color).adjust('dodge');\n    }\n    chart.data(transformData(options.data, yField));\n    return params;\n}\nfunction outliersPoint(params) {\n    var chart = params.chart, options = params.options;\n    var xField = options.xField, data = options.data, outliersField = options.outliersField, outliersStyle = options.outliersStyle, padding = options.padding;\n    if (!outliersField)\n        return params;\n    var outliersView = chart.createView({ padding: padding, id: OUTLIERS_VIEW_ID });\n    outliersView.data(data);\n    outliersView.axis(false);\n    var geometry = outliersView.point().position(xField + \"*\" + outliersField).shape('circle');\n    /**\n     * style \n     * g.style({ fill: 'red' });\n     * g.style('x*y*color', (x, y, color) => ({ fill: 'red' }));\n     */\n    if (isFunction(outliersStyle)) {\n        geometry.style(xField + \"*\" + outliersField, function (_x, _outliers) {\n            var _a;\n            return outliersStyle((_a = {},\n                _a[xField] = _x,\n                _a[outliersField] = _outliers,\n                _a));\n        });\n    }\n    else if (isObject(outliersStyle)) {\n        geometry.style(outliersStyle);\n    }\n    return params;\n}\n/**\n * meta \n * @param params\n */\nfunction meta(params) {\n    var _a, _b;\n    var chart = params.chart, options = params.options;\n    var meta = options.meta, xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField, outliersField = options.outliersField;\n    var yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n    var baseMeta = {};\n    // make yField and outliersField share y mate\n    if (outliersField) {\n        var syncName = BOX_SYNC_NAME;\n        baseMeta = (_a = {},\n            _a[outliersField] = { sync: syncName, nice: true },\n            _a[yFieldName] = { sync: syncName, nice: true },\n            _a);\n    }\n    var scales = deepAssign(baseMeta, meta, (_b = {},\n        _b[xField] = pick(xAxis, AXIS_META_CONFIG_KEYS),\n        _b[yFieldName] = pick(yAxis, AXIS_META_CONFIG_KEYS),\n        _b));\n    chart.scale(scales);\n    return params;\n}\n/**\n * axis \n * @param params\n */\nfunction axis(params) {\n    var chart = params.chart, options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField;\n    var yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n    //  false \n    if (xAxis === false) {\n        chart.axis(xField, false);\n    }\n    else {\n        chart.axis(xField, xAxis);\n    }\n    if (yAxis === false) {\n        chart.axis(BOX_RANGE, false);\n    }\n    else {\n        chart.axis(yFieldName, yAxis);\n    }\n    return params;\n}\n/**\n * legend \n * @param params\n */\nexport function legend(params) {\n    var chart = params.chart, options = params.options;\n    var legend = options.legend, groupField = options.groupField;\n    if (groupField) {\n        if (legend) {\n            chart.legend(groupField, legend);\n        }\n        else {\n            // Grouped Box Chart default has legend, and it's position is `bottom`\n            chart.legend(groupField, { position: 'bottom' });\n        }\n    }\n    else {\n        chart.legend(false);\n    }\n    return params;\n}\n/**\n * \n * @param params\n */\nfunction style(params) {\n    var chart = params.chart, options = params.options;\n    var xField = options.xField, yField = options.yField, boxStyle = options.boxStyle;\n    var geometry = findGeometry(chart, 'schema');\n    var yFieldName = Array.isArray(yField) ? BOX_RANGE : yField;\n    /**\n     * style \n     * g.style({ fill: 'red' });\n     * g.style('x*y*color', (x, y, color) => ({ fill: 'red' }));\n     */\n    if (isFunction(boxStyle)) {\n        geometry.style(xField + \"*\" + yFieldName, function (_x, _y) {\n            var _a;\n            return boxStyle((_a = {},\n                _a[xField] = _x,\n                _a[yFieldName] = _y,\n                _a));\n        });\n    }\n    else if (isObject(boxStyle)) {\n        geometry.style(boxStyle);\n    }\n    return params;\n}\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params) {\n    var chart = params.chart, options = params.options;\n    var tooltip = options.tooltip;\n    if (tooltip !== undefined) {\n        chart.tooltip(tooltip);\n    }\n    return params;\n}\n/**\n * \n * @param params\n */\nexport function adaptor(params) {\n    return flow(field, outliersPoint, meta, axis, style, legend, tooltip, interaction, animation, theme)(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __extends } from \"tslib\";\nimport { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { adaptor } from './adaptor';\nimport { transformData } from './utils';\nimport { BOX_RANGE, BOX_RANGE_ALIAS, OUTLIERS_VIEW_ID } from './constant';\nvar Box = /** @class */ (function (_super) {\n    __extends(Box, _super);\n    function Box() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'box';\n        return _this;\n    }\n    /**\n     * @override\n     * @param data\n     */\n    Box.prototype.changeData = function (data) {\n        this.updateOption({ data: data });\n        var yField = this.options.yField;\n        var outliersView = this.chart.views.find(function (v) { return v.id === OUTLIERS_VIEW_ID; });\n        if (outliersView) {\n            outliersView.data(data);\n        }\n        this.chart.changeData(transformData(data, yField));\n    };\n    /**\n     *   \n     */\n    Box.prototype.getDefaultOptions = function () {\n        var _a;\n        return deepAssign({}, _super.prototype.getDefaultOptions.call(this), {\n            meta: (_a = {},\n                _a[BOX_RANGE] = { min: 0, alias: BOX_RANGE_ALIAS },\n                _a),\n            // \n            interactions: [{ type: 'active-region' }],\n            //  tooltips  markers\n            tooltip: {\n                showMarkers: false,\n                showCrosshairs: true,\n                shared: true,\n            },\n        });\n    };\n    /**\n     *   \n     */\n    Box.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Box;\n}(Plot));\nexport { Box };\n//# sourceMappingURL=index.js.map","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","import { __assign } from \"tslib\";\nimport { get } from '@antv/util';\nimport { flow, renderStatistic } from '../../utils';\nimport { scale, animation, theme, annotation } from '../../adaptor/common';\nimport { geometry } from '../progress/adaptor';\nimport { PERCENT } from '../gauge/constants';\n/**\n * coordinate \n * @param params\n */\nfunction coordinate(params) {\n    var chart = params.chart, options = params.options;\n    var innerRadius = options.innerRadius, radius = options.radius;\n    // coordinate\n    chart.coordinate('theta', {\n        innerRadius: innerRadius,\n        radius: radius,\n    });\n    return params;\n}\n/**\n * statistic \n * @param params\n */\nexport function statistic(params, updated) {\n    var chart = params.chart, options = params.options;\n    var innerRadius = options.innerRadius, statistic = options.statistic, percent = options.percent, meta = options.meta;\n    // \n    chart.getController('annotation').clear(true);\n    /**   */\n    if (innerRadius && statistic) {\n        var transformContent = statistic.content;\n        if (transformContent && !transformContent.formatter) {\n            // @ts-ignore\n            transformContent.formatter = function (_a) {\n                var percent = _a.percent;\n                var metaFormatter = get(meta, [PERCENT, 'formatter']);\n                if (metaFormatter) {\n                    return metaFormatter(percent);\n                }\n                return percent;\n            };\n        }\n        renderStatistic(chart, { statistic: __assign(__assign({}, statistic), { content: transformContent }), plotType: 'ring-progress' }, { percent: percent });\n    }\n    if (updated) {\n        chart.render(true);\n    }\n    return params;\n}\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    return flow(geometry, scale({}), coordinate, statistic, animation, theme, annotation())(params);\n}\n//# sourceMappingURL=adaptor.js.map","export var version = '2.3.13-beta.1';\n// G2 \nimport * as G2 from '@antv/g2';\nexport { G2 };\n/** G2Plot  Plot  */\nexport { Plot } from './core/plot';\n// \nexport * from './types';\n//  | author by [hustcc](https://github.com/hustcc)\nexport { Line } from './plots/line';\n//  | author by [hustcc](https://github.com/hustcc)\nexport { Area } from './plots/area';\n//  | author by [zqlu](https://github.com/zqlu)\nexport { Column } from './plots/column';\n//  | author by [BBSQQ](https://github.com/BBSQQ)\nexport { Bar } from './plots/bar';\n//  | author by [visiky](https://github.com/visiky)\nexport { Pie } from './plots/pie';\n//  | author by [zhangzhonghe](https://github.com/zhangzhonghe)\nexport { Rose } from './plots/rose';\n//  | author by [zhangzhonghe](https://github.com/zhangzhonghe)\nexport { WordCloud } from './plots/word-cloud';\n//  | author by [lxfu1](https://github.com/lxfu1)\nexport { Scatter } from './plots/scatter';\n//  | author by [visiky](https://github.com/visiky)\nexport { Radar } from './plots/radar';\n//  | author by [liuzhenying](https://github.com/liuzhenying)\nexport { DualAxes } from './plots/dual-axes';\n//  | author by [connono](https://github.com/connono)\nexport { TinyLine } from './plots/tiny-line';\n//  | author by [connono](https://github.com/connono)\nexport { TinyColumn } from './plots/tiny-column';\n//  | author by [connono](https://github.com/connono)\nexport { TinyArea } from './plots/tiny-area';\n//  | author by [arcsin1](https://github.com/arcsin1)\nexport { Histogram } from './plots/histogram';\n//  | author by [connono](https://github.com/connono)\nexport { Progress } from './plots/progress';\n//  | author by [connono](https://github.com/connono)\nexport { RingProgress } from './plots/ring-progress';\n//  | author by [jiazhewang](https://github.com/jiazhewang)\nexport { Heatmap } from './plots/heatmap';\n//  | author by [BBSQQ](https://github.com/BBSQQ)\nexport { Box } from './plots/box';\n// K | author by [jhwong](https://github.com/jinhuiWong)\nexport { Stock } from './plots/stock';\n// \nexport { Funnel, FUNNEL_CONVERSATION_FIELD } from './plots/funnel';\n//  | author by [CarisL](https://github.com/CarisL), [hustcc](https://github.com/hustcc)\nexport { Liquid } from './plots/liquid';\n//  | author by [arcsin1](https://github.com/arcsin1)\nexport { Bullet } from './plots/bullet';\n//  | author by [lxfu1](https://github.com/lxfu1)\nexport { Sunburst } from './plots/sunburst';\n//  | author by [hustcc](https://github.com/hustcc)\nexport { Gauge } from './plots/gauge';\n//  | author by [visiky](https://github.com/visiky)\nexport { Waterfall } from './plots/waterfall';\n//  | author by [yujs](https://github.com/yujs) | updated by [visiky](https://github.com/visiky)\nexport { RadialBar } from './plots/radial-bar';\n//  | author by [arcsin1](https://github.com/arcsin1)\nexport { BidirectionalBar } from './plots/bidirectional-bar';\n// \nexport { Treemap } from './plots/treemap';\n//  | author by [hustcc](https://github.com/hustcc)\nexport { Sankey } from './plots/sankey';\n//  | author by [MrSmallLiu](https://github.com/MrSmallLiu)\nexport { Chord } from './plots/chord';\n// \n/**  G2Plot.P  G2Plot.P  */\nexport { P } from './plugin';\n/**  (multi-view) */\nexport { MultiView } from './plots/multi-view';\n/**  adaptor  */\nexport { flow, measureTextWidth } from './utils';\n/**  geometry  adaptor */\nexport { line, interval, area, point, polygon } from './adaptor/geometries';\n/**  adaptor  */\nimport { scale, legend, tooltip, annotation, interaction, theme, animation } from './adaptor/common';\nexport var adaptors = { scale: scale, legend: legend, tooltip: tooltip, annotation: annotation, interaction: interaction, theme: theme, animation: animation };\n/**  Lab  export */\nexport { Lab } from './lab';\n//# sourceMappingURL=index.js.map","import { theme, animation, annotation, tooltip } from '../../adaptor/common';\nimport { flow, deepAssign } from '../../utils';\nimport { interval } from '../../adaptor/geometries';\nimport { X_FIELD, Y_FIELD } from '../tiny-line/constants';\nimport { getTinyData } from '../tiny-line/utils';\nimport { meta } from '../tiny-area/adaptor';\nexport { meta };\n/**\n * \n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var data = options.data, color = options.color, columnStyle = options.columnStyle, columnWidthRatio = options.columnWidthRatio;\n    var seriesData = getTinyData(data);\n    chart.data(seriesData);\n    var p = deepAssign({}, params, {\n        options: {\n            xField: X_FIELD,\n            yField: Y_FIELD,\n            widthRatio: columnWidthRatio,\n            interval: {\n                style: columnStyle,\n                color: color,\n            },\n        },\n    });\n    interval(p);\n    chart.axis(false);\n    chart.legend(false);\n    chart.interaction('element-active');\n    return params;\n}\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    return flow(geometry, meta, tooltip, theme, animation, annotation())(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __assign } from \"tslib\";\nimport { each, get, isNumber, isFunction, isString } from '@antv/util';\nimport { pick, kebabCase } from '.';\n/**\n * @desc  html-statistic  style  ( canvas  shapeStyle  css)\n *\n * @param width\n * @param style\n */\nexport function adapteStyle(style) {\n    var styleObject = {\n        overflow: 'hidden',\n        'white-space': 'nowrap',\n        'text-overflow': 'ellipsis',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n    };\n    var shapeStyleKeys = [\n        'stroke',\n        'lineWidth',\n        'shadowColor',\n        'strokeOpacity',\n        'shadowBlur',\n        'shadowOffsetX',\n        'shadowOffsetY',\n        'fill',\n    ];\n    //  shapeStyle   start\n    if (get(style, 'fill')) {\n        styleObject['color'] = style['fill'];\n    }\n    var _a = pick(style, shapeStyleKeys), shadowColor = _a.shadowColor, _b = _a.shadowBlur, shadowBlur = _b === void 0 ? 0 : _b, _c = _a.shadowOffsetX, shadowOffsetX = _c === void 0 ? 0 : _c, _d = _a.shadowOffsetY, shadowOffsetY = _d === void 0 ? 0 : _d;\n    styleObject['text-shadow'] = \"\" + [shadowColor, shadowOffsetX + \"px\", shadowOffsetY + \"px\", shadowBlur + \"px\"].join(' ');\n    var _e = pick(style, shapeStyleKeys), stroke = _e.stroke, _f = _e.lineWidth, lineWidth = _f === void 0 ? 0 : _f;\n    styleObject['-webkit-text-stroke'] = \"\" + [lineWidth + \"px\", stroke].join(' ');\n    //  shapeStyle   end\n    each(style, function (v, k) {\n        //   shapeStyle  fontSize \n        if (['fontSize'].includes(k) && isNumber(v)) {\n            styleObject[kebabCase(k)] = v + \"px\";\n        }\n        else if (k && !shapeStyleKeys.includes(k)) {\n            styleObject[kebabCase(k)] = \"\" + v;\n        }\n    });\n    return styleObject;\n}\n/**\n * @desc  html-statistic \n *\n * - \n */\nexport function setStatisticContainerStyle(container, style) {\n    container.style['pointer-events'] = 'none';\n    each(style, function (v, k) {\n        if (k && v) {\n            container.style[k] = v;\n        }\n    });\n}\n/**\n *  html-annotation position  [50%, 50%]\n * @param chart\n * @param options\n * @param meta \n * @param {optional} datum \n */\nexport var renderStatistic = function (chart, options, datum) {\n    var statistic = options.statistic, plotType = options.plotType;\n    var titleOpt = statistic.title, contentOpt = statistic.content;\n    [titleOpt, contentOpt].forEach(function (option, idx) {\n        if (!option) {\n            return;\n        }\n        var text = '';\n        var transform = '';\n        if (idx === 0) {\n            transform = contentOpt ? 'translate(-50%, -100%)' : 'translate(-50%, -50%)';\n        }\n        else {\n            transform = titleOpt ? 'translate(-50%, 0)' : 'translate(-50%, -50%)';\n        }\n        var style = isFunction(option.style) ? option.style(datum) : option.style;\n        chart.annotation().html(__assign({ position: ['50%', '50%'], html: function (container, view) {\n                var coordinate = view.getCoordinate();\n                var containerW = 0;\n                if (plotType === 'pie' || plotType === 'ring-progress') {\n                    containerW = coordinate.getRadius() * coordinate.innerRadius * 2;\n                }\n                else if (plotType === 'liquid') {\n                    var liquidShape = get(view.geometries, [0, 'elements', 0, 'shape']);\n                    if (liquidShape) {\n                        var circle = liquidShape.find(function (t) { return t.get('type') === 'circle'; });\n                        var width = circle.getCanvasBBox().width;\n                        containerW = width;\n                    }\n                }\n                else if (!containerW) {\n                    // \n                    containerW = coordinate.getWidth();\n                }\n                setStatisticContainerStyle(container, __assign({ width: containerW + \"px\", transform: transform }, adapteStyle(style)));\n                var filteredData = view.getData();\n                if (option.customHtml) {\n                    return option.customHtml(container, view, datum, filteredData);\n                }\n                if (option.formatter) {\n                    text = option.formatter(datum, filteredData);\n                }\n                // todo G2  & G2  number\n                return text ? (isString(text) ? text : \"\" + text) : '<div></div>';\n            }, \n            // @ts-ignore\n            key: (idx === 0 ? 'top' : 'bottom') + \"-statistic\" }, pick(option, ['offsetX', 'offsetY', 'rotate', 'style', 'formatter']) /**  */));\n    });\n};\n/**\n *  html-annotation for gauge ( plot),  position  [50%, 100%]\n * @param chart\n * @param options\n * @param meta \n * @param {optional} datum \n */\nexport var renderGaugeStatistic = function (chart, options, datum) {\n    var statistic = options.statistic;\n    var titleOpt = statistic.title, contentOpt = statistic.content;\n    [titleOpt, contentOpt].forEach(function (option) {\n        if (!option) {\n            return;\n        }\n        var text = '';\n        var style = isFunction(option.style) ? option.style(datum) : option.style;\n        chart.annotation().html(__assign({ position: ['50%', '100%'], html: function (container, view) {\n                var coordinate = view.getCoordinate();\n                // \n                var polarCoord = view.views[0].getCoordinate();\n                var polarCenter = polarCoord.getCenter();\n                var polarRadius = polarCoord.getRadius();\n                var polarMaxY = Math.max(Math.sin(polarCoord.startAngle), Math.sin(polarCoord.endAngle)) * polarRadius;\n                var offsetY = polarCenter.y + polarMaxY - coordinate.y.start - parseFloat(get(style, 'fontSize', 0));\n                var containerWidth = coordinate.getRadius() * coordinate.innerRadius * 2;\n                setStatisticContainerStyle(container, __assign({ width: containerWidth + \"px\", transform: \"translate(-50%, \" + offsetY + \"px)\" }, adapteStyle(style)));\n                var filteredData = view.getData();\n                if (option.customHtml) {\n                    return option.customHtml(container, view, datum, filteredData);\n                }\n                if (option.formatter) {\n                    text = option.formatter(datum, filteredData);\n                }\n                // todo G2  & G2  number\n                return text ? (isString(text) ? text : \"\" + text) : '<div></div>';\n            } }, pick(option, ['offsetX', 'offsetY', 'rotate', 'style', 'formatter']) /**  */));\n    });\n};\n//# sourceMappingURL=statistic.js.map","import { __extends } from \"tslib\";\nimport { Plot } from '../../core/plot';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nimport { getTinyData } from './utils';\nvar TinyLine = /** @class */ (function (_super) {\n    __extends(TinyLine, _super);\n    function TinyLine() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'tiny-line';\n        return _this;\n    }\n    /**\n     * \n     * @static \n     */\n    TinyLine.getDefaultOptions = function () {\n        return DEFAULT_OPTIONS;\n    };\n    /**\n     * @override\n     * @param data\n     */\n    TinyLine.prototype.changeData = function (data) {\n        this.updateOption({ data: data });\n        var _a = this, chart = _a.chart, options = _a.options;\n        meta({ chart: chart, options: options });\n        chart.changeData(getTinyData(data));\n    };\n    TinyLine.prototype.getDefaultOptions = function () {\n        return TinyLine.getDefaultOptions();\n    };\n    /**\n     *   \n     */\n    TinyLine.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return TinyLine;\n}(Plot));\nexport { TinyLine };\n//# sourceMappingURL=index.js.map","/**\n *  meta  key \n */\nexport var AXIS_META_CONFIG_KEYS = [\n    'type',\n    'alias',\n    'tickCount',\n    'tickInterval',\n    'min',\n    'max',\n    'nice',\n    'minLimit',\n    'maxLimit',\n    // \n    'range',\n    'tickMethod',\n    // type: 'log' \n    'base',\n    // type: 'exp' \n    'exponent',\n    // time \n    'mask',\n    // \n    'sync',\n];\n/**\n * \n */\nexport var DEFAULT_COLORS = {\n    GRADIENT: {\n        CONTINUOUS: '#BAE7FF-#1890FF-#0050B3',\n    },\n};\n//# sourceMappingURL=constant.js.map","import { __spreadArrays } from \"tslib\";\nimport { Util } from '@antv/g2';\nvar ORIGIN_MATRIX = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n/**\n * \n * @param actions\n * @param matrix\n */\nexport function transform(actions, matrix) {\n    var ulMatrix = matrix ? __spreadArrays(matrix) : __spreadArrays(ORIGIN_MATRIX);\n    return Util.transform(ulMatrix, actions);\n}\n//# sourceMappingURL=matrix.js.map","export default function sum(values, valueof) {\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        sum += value;\n      }\n    }\n  }\n  return sum;\n}\n","export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n","export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\n","import {min} from \"d3-array\";\n\nfunction targetDepth(d) {\n  return d.target.depth;\n}\n\nexport function left(node) {\n  return node.depth;\n}\n\nexport function right(node, n) {\n  return n - 1 - node.height;\n}\n\nexport function justify(node, n) {\n  return node.sourceLinks.length ? node.depth : n - 1;\n}\n\nexport function center(node) {\n  return node.targetLinks.length ? node.depth\n      : node.sourceLinks.length ? min(node.sourceLinks, targetDepth) - 1\n      : 0;\n}\n","export default function constant(x) {\n  return function() {\n    return x;\n  };\n}\n","import {max, min, sum} from \"d3-array\";\nimport {justify} from \"./align.js\";\nimport constant from \"./constant.js\";\n\nfunction ascendingSourceBreadth(a, b) {\n  return ascendingBreadth(a.source, b.source) || a.index - b.index;\n}\n\nfunction ascendingTargetBreadth(a, b) {\n  return ascendingBreadth(a.target, b.target) || a.index - b.index;\n}\n\nfunction ascendingBreadth(a, b) {\n  return a.y0 - b.y0;\n}\n\nfunction value(d) {\n  return d.value;\n}\n\nfunction defaultId(d) {\n  return d.index;\n}\n\nfunction defaultNodes(graph) {\n  return graph.nodes;\n}\n\nfunction defaultLinks(graph) {\n  return graph.links;\n}\n\nfunction find(nodeById, id) {\n  const node = nodeById.get(id);\n  if (!node) throw new Error(\"missing: \" + id);\n  return node;\n}\n\nfunction computeLinkBreadths({nodes}) {\n  for (const node of nodes) {\n    let y0 = node.y0;\n    let y1 = y0;\n    for (const link of node.sourceLinks) {\n      link.y0 = y0 + link.width / 2;\n      y0 += link.width;\n    }\n    for (const link of node.targetLinks) {\n      link.y1 = y1 + link.width / 2;\n      y1 += link.width;\n    }\n  }\n}\n\nexport default function Sankey() {\n  let x0 = 0, y0 = 0, x1 = 1, y1 = 1; // extent\n  let dx = 24; // nodeWidth\n  let dy = 8, py; // nodePadding\n  let id = defaultId;\n  let align = justify;\n  let sort;\n  let linkSort;\n  let nodes = defaultNodes;\n  let links = defaultLinks;\n  let iterations = 6;\n\n  function sankey() {\n    const graph = {nodes: nodes.apply(null, arguments), links: links.apply(null, arguments)};\n    computeNodeLinks(graph);\n    computeNodeValues(graph);\n    computeNodeDepths(graph);\n    computeNodeHeights(graph);\n    computeNodeBreadths(graph);\n    computeLinkBreadths(graph);\n    return graph;\n  }\n\n  sankey.update = function(graph) {\n    computeLinkBreadths(graph);\n    return graph;\n  };\n\n  sankey.nodeId = function(_) {\n    return arguments.length ? (id = typeof _ === \"function\" ? _ : constant(_), sankey) : id;\n  };\n\n  sankey.nodeAlign = function(_) {\n    return arguments.length ? (align = typeof _ === \"function\" ? _ : constant(_), sankey) : align;\n  };\n\n  sankey.nodeSort = function(_) {\n    return arguments.length ? (sort = _, sankey) : sort;\n  };\n\n  sankey.nodeWidth = function(_) {\n    return arguments.length ? (dx = +_, sankey) : dx;\n  };\n\n  sankey.nodePadding = function(_) {\n    return arguments.length ? (dy = py = +_, sankey) : dy;\n  };\n\n  sankey.nodes = function(_) {\n    return arguments.length ? (nodes = typeof _ === \"function\" ? _ : constant(_), sankey) : nodes;\n  };\n\n  sankey.links = function(_) {\n    return arguments.length ? (links = typeof _ === \"function\" ? _ : constant(_), sankey) : links;\n  };\n\n  sankey.linkSort = function(_) {\n    return arguments.length ? (linkSort = _, sankey) : linkSort;\n  };\n\n  sankey.size = function(_) {\n    return arguments.length ? (x0 = y0 = 0, x1 = +_[0], y1 = +_[1], sankey) : [x1 - x0, y1 - y0];\n  };\n\n  sankey.extent = function(_) {\n    return arguments.length ? (x0 = +_[0][0], x1 = +_[1][0], y0 = +_[0][1], y1 = +_[1][1], sankey) : [[x0, y0], [x1, y1]];\n  };\n\n  sankey.iterations = function(_) {\n    return arguments.length ? (iterations = +_, sankey) : iterations;\n  };\n\n  function computeNodeLinks({nodes, links}) {\n    for (const [i, node] of nodes.entries()) {\n      node.index = i;\n      node.sourceLinks = [];\n      node.targetLinks = [];\n    }\n    const nodeById = new Map(nodes.map((d, i) => [id(d, i, nodes), d]));\n    for (const [i, link] of links.entries()) {\n      link.index = i;\n      let {source, target} = link;\n      if (typeof source !== \"object\") source = link.source = find(nodeById, source);\n      if (typeof target !== \"object\") target = link.target = find(nodeById, target);\n      source.sourceLinks.push(link);\n      target.targetLinks.push(link);\n    }\n    if (linkSort != null) {\n      for (const {sourceLinks, targetLinks} of nodes) {\n        sourceLinks.sort(linkSort);\n        targetLinks.sort(linkSort);\n      }\n    }\n  }\n\n  function computeNodeValues({nodes}) {\n    for (const node of nodes) {\n      node.value = node.fixedValue === undefined\n          ? Math.max(sum(node.sourceLinks, value), sum(node.targetLinks, value))\n          : node.fixedValue;\n    }\n  }\n\n  function computeNodeDepths({nodes}) {\n    const n = nodes.length;\n    let current = new Set(nodes);\n    let next = new Set;\n    let x = 0;\n    while (current.size) {\n      for (const node of current) {\n        node.depth = x;\n        for (const {target} of node.sourceLinks) {\n          next.add(target);\n        }\n      }\n      if (++x > n) throw new Error(\"circular link\");\n      current = next;\n      next = new Set;\n    }\n  }\n\n  function computeNodeHeights({nodes}) {\n    const n = nodes.length;\n    let current = new Set(nodes);\n    let next = new Set;\n    let x = 0;\n    while (current.size) {\n      for (const node of current) {\n        node.height = x;\n        for (const {source} of node.targetLinks) {\n          next.add(source);\n        }\n      }\n      if (++x > n) throw new Error(\"circular link\");\n      current = next;\n      next = new Set;\n    }\n  }\n\n  function computeNodeLayers({nodes}) {\n    const x = max(nodes, d => d.depth) + 1;\n    const kx = (x1 - x0 - dx) / (x - 1);\n    const columns = new Array(x);\n    for (const node of nodes) {\n      const i = Math.max(0, Math.min(x - 1, Math.floor(align.call(null, node, x))));\n      node.layer = i;\n      node.x0 = x0 + i * kx;\n      node.x1 = node.x0 + dx;\n      if (columns[i]) columns[i].push(node);\n      else columns[i] = [node];\n    }\n    if (sort) for (const column of columns) {\n      column.sort(sort);\n    }\n    return columns;\n  }\n\n  function initializeNodeBreadths(columns) {\n    const ky = min(columns, c => (y1 - y0 - (c.length - 1) * py) / sum(c, value));\n    for (const nodes of columns) {\n      let y = y0;\n      for (const node of nodes) {\n        node.y0 = y;\n        node.y1 = y + node.value * ky;\n        y = node.y1 + py;\n        for (const link of node.sourceLinks) {\n          link.width = link.value * ky;\n        }\n      }\n      y = (y1 - y + py) / (nodes.length + 1);\n      for (let i = 0; i < nodes.length; ++i) {\n        const node = nodes[i];\n        node.y0 += y * (i + 1);\n        node.y1 += y * (i + 1);\n      }\n      reorderLinks(nodes);\n    }\n  }\n\n  function computeNodeBreadths(graph) {\n    const columns = computeNodeLayers(graph);\n    py = Math.min(dy, (y1 - y0) / (max(columns, c => c.length) - 1));\n    initializeNodeBreadths(columns);\n    for (let i = 0; i < iterations; ++i) {\n      const alpha = Math.pow(0.99, i);\n      const beta = Math.max(1 - alpha, (i + 1) / iterations);\n      relaxRightToLeft(columns, alpha, beta);\n      relaxLeftToRight(columns, alpha, beta);\n    }\n  }\n\n  // Reposition each node based on its incoming (target) links.\n  function relaxLeftToRight(columns, alpha, beta) {\n    for (let i = 1, n = columns.length; i < n; ++i) {\n      const column = columns[i];\n      for (const target of column) {\n        let y = 0;\n        let w = 0;\n        for (const {source, value} of target.targetLinks) {\n          let v = value * (target.layer - source.layer);\n          y += targetTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        let dy = (y / w - target.y0) * alpha;\n        target.y0 += dy;\n        target.y1 += dy;\n        reorderNodeLinks(target);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      resolveCollisions(column, beta);\n    }\n  }\n\n  // Reposition each node based on its outgoing (source) links.\n  function relaxRightToLeft(columns, alpha, beta) {\n    for (let n = columns.length, i = n - 2; i >= 0; --i) {\n      const column = columns[i];\n      for (const source of column) {\n        let y = 0;\n        let w = 0;\n        for (const {target, value} of source.sourceLinks) {\n          let v = value * (target.layer - source.layer);\n          y += sourceTop(source, target) * v;\n          w += v;\n        }\n        if (!(w > 0)) continue;\n        let dy = (y / w - source.y0) * alpha;\n        source.y0 += dy;\n        source.y1 += dy;\n        reorderNodeLinks(source);\n      }\n      if (sort === undefined) column.sort(ascendingBreadth);\n      resolveCollisions(column, beta);\n    }\n  }\n\n  function resolveCollisions(nodes, alpha) {\n    const i = nodes.length >> 1;\n    const subject = nodes[i];\n    resolveCollisionsBottomToTop(nodes, subject.y0 - py, i - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, subject.y1 + py, i + 1, alpha);\n    resolveCollisionsBottomToTop(nodes, y1, nodes.length - 1, alpha);\n    resolveCollisionsTopToBottom(nodes, y0, 0, alpha);\n  }\n\n  // Push any overlapping nodes down.\n  function resolveCollisionsTopToBottom(nodes, y, i, alpha) {\n    for (; i < nodes.length; ++i) {\n      const node = nodes[i];\n      const dy = (y - node.y0) * alpha;\n      if (dy > 1e-6) node.y0 += dy, node.y1 += dy;\n      y = node.y1 + py;\n    }\n  }\n\n  // Push any overlapping nodes up.\n  function resolveCollisionsBottomToTop(nodes, y, i, alpha) {\n    for (; i >= 0; --i) {\n      const node = nodes[i];\n      const dy = (node.y1 - y) * alpha;\n      if (dy > 1e-6) node.y0 -= dy, node.y1 -= dy;\n      y = node.y0 - py;\n    }\n  }\n\n  function reorderNodeLinks({sourceLinks, targetLinks}) {\n    if (linkSort === undefined) {\n      for (const {source: {sourceLinks}} of targetLinks) {\n        sourceLinks.sort(ascendingTargetBreadth);\n      }\n      for (const {target: {targetLinks}} of sourceLinks) {\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  function reorderLinks(nodes) {\n    if (linkSort === undefined) {\n      for (const {sourceLinks, targetLinks} of nodes) {\n        sourceLinks.sort(ascendingTargetBreadth);\n        targetLinks.sort(ascendingSourceBreadth);\n      }\n    }\n  }\n\n  // Returns the target.y0 that would produce an ideal link from source to target.\n  function targetTop(source, target) {\n    let y = source.y0 - (source.sourceLinks.length - 1) * py / 2;\n    for (const {target: node, width} of source.sourceLinks) {\n      if (node === target) break;\n      y += width + py;\n    }\n    for (const {source: node, width} of target.targetLinks) {\n      if (node === source) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  // Returns the source.y0 that would produce an ideal link from source to target.\n  function sourceTop(source, target) {\n    let y = target.y0 - (target.targetLinks.length - 1) * py / 2;\n    for (const {source: node, width} of target.targetLinks) {\n      if (node === source) break;\n      y += width + py;\n    }\n    for (const {target: node, width} of source.sourceLinks) {\n      if (node === target) break;\n      y -= width;\n    }\n    return y;\n  }\n\n  return sankey;\n}\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? Were done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export var slice = Array.prototype.slice;\n","import {linkHorizontal} from \"d3-shape\";\n\nfunction horizontalSource(d) {\n  return [d.source.x1, d.y0];\n}\n\nfunction horizontalTarget(d) {\n  return [d.target.x0, d.y1];\n}\n\nexport default function() {\n  return linkHorizontal()\n      .source(horizontalSource)\n      .target(horizontalTarget);\n}\n","import { assign, isString, isFunction } from '@antv/util';\nimport { sankey, sankeyLeft, sankeyRight, sankeyCenter, sankeyJustify } from 'd3-sankey';\nvar ALIGN_METHOD = {\n    left: sankeyLeft,\n    right: sankeyRight,\n    center: sankeyCenter,\n    justify: sankeyJustify,\n};\n/**\n * \n */\nvar DEFAULT_OPTIONS = {\n    nodeId: function (node) { return node.index; },\n    nodeAlign: 'justify',\n    nodeWidth: 0.008,\n    nodePadding: 0.03,\n    nodeSort: undefined,\n};\n/**\n *  align function\n * @param nodeAlign\n */\nexport function getNodeAlignFunction(nodeAlign) {\n    var func = isString(nodeAlign) ? ALIGN_METHOD[nodeAlign] : isFunction(nodeAlign) ? nodeAlign : null;\n    return func || sankeyJustify;\n}\nexport function getDefaultOptions(sankeyLayoutOptions) {\n    return assign({}, DEFAULT_OPTIONS, sankeyLayoutOptions);\n}\n/**\n * 0 - 1 \n *  data \n * @param sankeyLayoutOptions\n * @param data\n */\nexport function sankeyLayout(sankeyLayoutOptions, data) {\n    var options = getDefaultOptions(sankeyLayoutOptions);\n    var nodeId = options.nodeId, nodeSort = options.nodeSort, nodeAlign = options.nodeAlign, nodeWidth = options.nodeWidth, nodePadding = options.nodePadding;\n    var sankeyProcessor = sankey()\n        .nodeSort(nodeSort)\n        .links(function (d) { return d.links; })\n        .nodeWidth(nodeWidth)\n        .nodePadding(nodePadding)\n        .nodeAlign(getNodeAlignFunction(nodeAlign))\n        .extent([\n        [0, 0],\n        [1, 1],\n    ])\n        .nodeId(nodeId);\n    // \n    var layoutData = sankeyProcessor(data);\n    // post process (x, y), etc.\n    layoutData.nodes.forEach(function (node) {\n        var x0 = node.x0, x1 = node.x1, y0 = node.y0, y1 = node.y1;\n        /* points\n         * 3---2\n         * |   |\n         * 0---1\n         */\n        node.x = [x0, x1, x1, x0];\n        node.y = [y0, y0, y1, y1];\n    });\n    layoutData.links.forEach(function (edge) {\n        var source = edge.source, target = edge.target;\n        var sx = source.x1;\n        var tx = target.x0;\n        edge.x = [sx, sx, tx, tx];\n        var offset = edge.width / 2;\n        edge.y = [edge.y0 + offset, edge.y0 - offset, edge.y1 + offset, edge.y1 - offset];\n    });\n    return layoutData;\n}\n//# sourceMappingURL=sankey.js.map","export var X_FIELD = 'x';\nexport var Y_FIELD = 'y';\nexport var COLOR_FIELD = 'name';\n//# sourceMappingURL=constant.js.map","import { each, size } from '@antv/util';\n/**\n *  source  target  source \n * @param circleCache\n * @param source\n * @param target\n */\nfunction hasCircle(circleCache, source, target) {\n    // \n    if (size(source) === 0)\n        return false;\n    // target \n    if (source.includes(target))\n        return true;\n    // \n    return source.some(function (s) { return hasCircle(circleCache, circleCache.get(s), target); });\n}\n/**\n * \n * @param data\n * @param sourceField\n * @param targetField\n */\nexport function cutoffCircle(data, sourceField, targetField) {\n    var dataWithoutCircle = [];\n    var removedData = [];\n    /**   ->   */\n    var circleCache = new Map();\n    each(data, function (d) {\n        var source = d[sourceField];\n        var target = d[targetField];\n        // \n        if (!hasCircle(circleCache, [source], target)) {\n            // \n            dataWithoutCircle.push(d);\n            // \n            if (!circleCache.has(target)) {\n                circleCache.set(target, []);\n            }\n            circleCache.get(target).push(source);\n        }\n        else {\n            //  log\n            removedData.push(d);\n        }\n    });\n    if (removedData.length !== 0) {\n        console.warn(\"sankey data contains circle, \" + removedData.length + \" records removed.\", removedData);\n    }\n    return dataWithoutCircle;\n}\n//# sourceMappingURL=circle.js.map","import { isRealNumber } from '../../utils/number';\nexport function getNodeWidthRatio(nodeWidth, nodeWidthRatio, width) {\n    return isRealNumber(nodeWidth) ? nodeWidth / width : nodeWidthRatio;\n}\nexport function getNodePaddingRatio(nodePadding, nodePaddingRatio, height) {\n    return isRealNumber(nodePadding) ? nodePadding / height : nodePaddingRatio;\n}\n//# sourceMappingURL=helper.js.map","import { interaction, animation, theme } from '../../adaptor/common';\nimport { flow } from '../../utils';\nimport { sankeyLayout } from '../../utils/transform/sankey';\nimport { polygon, edge } from '../../adaptor/geometries';\nimport { transformDataToNodeLinkData } from '../../utils/data';\nimport { X_FIELD, Y_FIELD, COLOR_FIELD } from './constant';\nimport { cutoffCircle } from './circle';\nimport { getNodePaddingRatio, getNodeWidthRatio } from './helper';\n/**\n * geometry \n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var data = options.data, sourceField = options.sourceField, targetField = options.targetField, weightField = options.weightField, color = options.color, nodeStyle = options.nodeStyle, edgeStyle = options.edgeStyle, label = options.label, tooltip = options.tooltip, nodeAlign = options.nodeAlign, nodePaddingRatio = options.nodePaddingRatio, nodePadding = options.nodePadding, nodeWidthRatio = options.nodeWidthRatio, nodeWidth = options.nodeWidth, nodeSort = options.nodeSort;\n    // 1.  view \n    chart.legend(false);\n    chart.tooltip(tooltip);\n    chart.axis(false);\n    // y \n    chart.coordinate().reflect('y');\n    // 2.  layout \n    var sankeyLayoutInputData = transformDataToNodeLinkData(cutoffCircle(data, sourceField, targetField), sourceField, targetField, weightField);\n    // 3. layout \n    var _a = sankeyLayout({\n        nodeAlign: nodeAlign,\n        // @ts-ignore\n        nodePadding: getNodePaddingRatio(nodePadding, nodePaddingRatio, chart.height),\n        // @ts-ignore\n        nodeWidth: getNodeWidthRatio(nodeWidth, nodeWidthRatio, chart.width),\n        nodeSort: nodeSort,\n    }, sankeyLayoutInputData), nodes = _a.nodes, links = _a.links;\n    // 4. \n    var nodesData = nodes.map(function (node) {\n        return {\n            x: node.x,\n            y: node.y,\n            name: node.name,\n            isNode: true,\n        };\n    });\n    var edgesData = links.map(function (link) {\n        return {\n            source: link.source.name,\n            target: link.target.name,\n            name: link.source.name || link.target.name,\n            x: link.x,\n            y: link.y,\n            value: link.value,\n            isNode: false,\n        };\n    });\n    // 5. node edge views\n    // edge view\n    var edgeView = chart.createView();\n    edgeView.data(edgesData);\n    edge({\n        chart: edgeView,\n        // @ts-ignore\n        options: {\n            xField: X_FIELD,\n            yField: Y_FIELD,\n            seriesField: COLOR_FIELD,\n            edge: {\n                color: color,\n                style: edgeStyle,\n                shape: 'arc',\n            },\n            tooltip: tooltip,\n            state: {\n                active: {\n                    style: {\n                        opacity: 0.8,\n                        lineWidth: 0,\n                    },\n                },\n            },\n        },\n    });\n    var nodeView = chart.createView();\n    nodeView.data(nodesData);\n    polygon({\n        chart: nodeView,\n        options: {\n            xField: X_FIELD,\n            yField: Y_FIELD,\n            seriesField: COLOR_FIELD,\n            polygon: {\n                color: color,\n                style: nodeStyle,\n            },\n            label: label,\n            tooltip: tooltip,\n        },\n    });\n    chart.interaction('element-active');\n    // scale\n    chart.scale({\n        x: { sync: true, nice: true, min: 0, max: 1, minLimit: 0, maxLimit: 1 },\n        y: { sync: true, nice: true, min: 0, max: 1, minLimit: 0, maxLimit: 1 },\n        name: { sync: 'color' },\n    });\n    return params;\n}\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // flow  G2 API\n    return flow(geometry, interaction, animation, theme\n    // ...  adaptor flow\n    )(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __extends } from \"tslib\";\nimport { get } from '@antv/util';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\n/**\n *   Sankey\n */\nvar Sankey = /** @class */ (function (_super) {\n    __extends(Sankey, _super);\n    function Sankey() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'sankey';\n        return _this;\n    }\n    Sankey.prototype.getDefaultOptions = function () {\n        return {\n            appendPadding: 8,\n            syncViewPadding: true,\n            nodeStyle: {\n                opacity: 1,\n                fillOpacity: 1,\n                lineWidth: 1,\n            },\n            edgeStyle: {\n                opacity: 0.3,\n                lineWidth: 0,\n            },\n            label: {\n                fields: ['x', 'name'],\n                callback: function (x, name) {\n                    var isLast = x[1] === 1; // \n                    return {\n                        style: {\n                            fill: '#545454',\n                            textAlign: isLast ? 'end' : 'start',\n                        },\n                        offsetX: isLast ? -8 : 8,\n                        content: name,\n                    };\n                },\n                layout: [\n                    {\n                        type: 'hide-overlap',\n                    },\n                ],\n            },\n            tooltip: {\n                showTitle: false,\n                showMarkers: false,\n                shared: false,\n                fields: ['name', 'source', 'target', 'value', 'isNode'],\n                // node  tooltipedge  tooltip\n                showContent: function (items) {\n                    return !get(items, [0, 'data', 'isNode']);\n                },\n                formatter: function (datum) {\n                    var source = datum.source, target = datum.target, value = datum.value;\n                    return {\n                        name: source + ' -> ' + target,\n                        value: value,\n                    };\n                },\n            },\n            nodeWidthRatio: 0.008,\n            nodePaddingRatio: 0.01,\n        };\n    };\n    /**\n     * \n     */\n    Sankey.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Sankey;\n}(Plot));\nexport { Sankey };\n//# sourceMappingURL=index.js.map","import { __assign } from \"tslib\";\nimport { map, reduce } from '@antv/util';\nimport { isRealNumber } from '../number';\n/**\n * \n * @param data\n * @param measure\n * @param groupField\n * @param as\n */\nexport function percent(data, measure, groupField, as) {\n    // 1.  max \n    var sumMap = reduce(data, function (map, datum) {\n        var groupValue = datum[groupField];\n        var sum = map.has(groupValue) ? map.get(groupValue) : 0;\n        var v = datum[measure];\n        sum = isRealNumber(v) ? sum + v : sum;\n        map.set(groupValue, sum);\n        return map;\n    }, new Map());\n    // 2. \n    return map(data, function (datum) {\n        var _a;\n        var v = datum[measure];\n        var groupValue = datum[groupField];\n        var percentage = isRealNumber(v) ? v / sumMap.get(groupValue) : 0;\n        return __assign(__assign({}, datum), (_a = {}, _a[as] = percentage, _a));\n    });\n}\n/**\n *  ()\n * @param isPercent \n */\nexport function getDataWhetherPecentage(data, yField, groupField, asField, isPercent) {\n    return !isPercent ? data : percent(data, yField, groupField, asField);\n}\n//# sourceMappingURL=percent.js.map","import { flow, deepAssign } from '../../utils';\nimport { theme, animation, annotation, tooltip } from '../../adaptor/common';\nimport { line, point } from '../../adaptor/geometries';\nimport { meta } from '../tiny-area/adaptor';\nimport { getTinyData } from './utils';\nimport { X_FIELD, Y_FIELD } from './constants';\nexport { meta };\n/**\n * \n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var data = options.data, color = options.color, lineStyle = options.lineStyle, pointMapping = options.point;\n    var seriesData = getTinyData(data);\n    chart.data(seriesData);\n    // line geometry \n    var primary = deepAssign({}, params, {\n        options: {\n            xField: X_FIELD,\n            yField: Y_FIELD,\n            line: {\n                color: color,\n                style: lineStyle,\n            },\n            point: pointMapping,\n        },\n    });\n    var second = deepAssign({}, primary, { options: { tooltip: false } });\n    line(primary);\n    point(second);\n    chart.axis(false);\n    chart.legend(false);\n    return params;\n}\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    return flow(geometry, meta, theme, tooltip, animation, annotation())(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __assign } from \"tslib\";\nimport { regressionLinear, regressionExp, regressionLoess, regressionLog, regressionPoly, regressionPow, regressionQuad, } from 'd3-regression';\nimport { isArray, get, isNumber } from '@antv/util';\nimport { getSplinePath } from '../../utils';\nvar REGRESSION_MAP = {\n    exp: regressionExp,\n    linear: regressionLinear,\n    loess: regressionLoess,\n    log: regressionLog,\n    poly: regressionPoly,\n    pow: regressionPow,\n    quad: regressionQuad,\n};\n/**\n * \n * @param {number} xBaseline\n * @param {number} yBaseline\n */\nexport function getQuadrantDefaultConfig(xBaseline, yBaseline) {\n    // \n    var textOffset = 10;\n    // \n    var defaultConfig = {\n        regionStyle: [\n            {\n                position: {\n                    start: [xBaseline, 'max'],\n                    end: ['max', yBaseline],\n                },\n                style: {\n                    fill: '#d8d0c0',\n                    opacity: 0.4,\n                },\n            },\n            {\n                position: {\n                    start: ['min', 'max'],\n                    end: [xBaseline, yBaseline],\n                },\n                style: {\n                    fill: '#a3dda1',\n                    opacity: 0.4,\n                },\n            },\n            {\n                position: {\n                    start: ['min', yBaseline],\n                    end: [xBaseline, 'min'],\n                },\n                style: {\n                    fill: '#d8d0c0',\n                    opacity: 0.4,\n                },\n            },\n            {\n                position: {\n                    start: [xBaseline, yBaseline],\n                    end: ['max', 'min'],\n                },\n                style: {\n                    fill: '#a3dda1',\n                    opacity: 0.4,\n                },\n            },\n        ],\n        lineStyle: {\n            stroke: '#9ba29a',\n            lineWidth: 1,\n        },\n        labelStyle: [\n            {\n                position: ['max', yBaseline],\n                offsetX: -textOffset,\n                offsetY: -textOffset,\n                style: {\n                    textAlign: 'right',\n                    textBaseline: 'bottom',\n                    fontSize: 14,\n                    fill: '#ccc',\n                },\n            },\n            {\n                position: ['min', yBaseline],\n                offsetX: textOffset,\n                offsetY: -textOffset,\n                style: {\n                    textAlign: 'left',\n                    textBaseline: 'bottom',\n                    fontSize: 14,\n                    fill: '#ccc',\n                },\n            },\n            {\n                position: ['min', yBaseline],\n                offsetX: textOffset,\n                offsetY: textOffset,\n                style: {\n                    textAlign: 'left',\n                    textBaseline: 'top',\n                    fontSize: 14,\n                    fill: '#ccc',\n                },\n            },\n            {\n                position: ['max', yBaseline],\n                offsetX: -textOffset,\n                offsetY: textOffset,\n                style: {\n                    textAlign: 'right',\n                    textBaseline: 'top',\n                    fontSize: 14,\n                    fill: '#ccc',\n                },\n            },\n        ],\n    };\n    return defaultConfig;\n}\nvar splinePath = function (data, config) {\n    var view = config.view, _a = config.options, xField = _a.xField, yField = _a.yField;\n    var xScaleView = view.getScaleByField(xField);\n    var yScaleView = view.getScaleByField(yField);\n    var pathData = data.map(function (d) {\n        return view.getCoordinate().convert({ x: xScaleView.scale(d[0]), y: yScaleView.scale(d[1]) });\n    });\n    return getSplinePath(pathData, false);\n};\nexport var getPath = function (config) {\n    var options = config.options;\n    var xField = options.xField, yField = options.yField, data = options.data, regressionLine = options.regressionLine;\n    var _a = regressionLine.type, type = _a === void 0 ? 'linear' : _a, algorithm = regressionLine.algorithm;\n    var pathData;\n    if (algorithm) {\n        pathData = isArray(algorithm) ? algorithm : algorithm(data);\n    }\n    else {\n        var reg = REGRESSION_MAP[type]()\n            .x(function (d) { return d[xField]; })\n            .y(function (d) { return d[yField]; });\n        pathData = reg(data);\n    }\n    return splinePath(pathData, config);\n};\n// data.length === 1 meta: {min, max}\nexport var getMeta = function (options) {\n    var _a;\n    var _b = options.meta, meta = _b === void 0 ? {} : _b, xField = options.xField, yField = options.yField, data = options.data;\n    var xFieldValue = data[0][xField];\n    var yFieldValue = data[0][yField];\n    var xIsPositiveNumber = xFieldValue > 0;\n    var yIsPositiveNumber = yFieldValue > 0;\n    var getValue = function (field, type, axis) {\n        var customValue = get(meta, [field, type]);\n        if (isNumber(customValue)) {\n            return customValue;\n        }\n        if (axis === 'x') {\n            var rangeX = {\n                min: xIsPositiveNumber ? 0 : xFieldValue * 2,\n                max: xIsPositiveNumber ? xFieldValue * 2 : 0,\n            };\n            return rangeX[type];\n        }\n        var rangeY = {\n            min: yIsPositiveNumber ? 0 : yFieldValue * 2,\n            max: yIsPositiveNumber ? yFieldValue * 2 : 0,\n        };\n        return rangeY[type];\n    };\n    return __assign(__assign({}, meta), (_a = {}, _a[xField] = __assign(__assign({}, meta[xField]), { min: getValue(xField, 'min', 'x'), max: getValue(xField, 'max', 'x') }), _a[yField] = __assign(__assign({}, meta[yField]), { min: getValue(yField, 'min', 'y'), max: getValue(yField, 'max', 'y') }), _a));\n};\n//# sourceMappingURL=util.js.map","import { __assign, __rest } from \"tslib\";\nimport { isBoolean, isNumber } from '@antv/util';\nimport { flow, deepAssign } from '../../utils';\nimport { point } from '../../adaptor/geometries';\nimport { interaction, animation, theme, scale, annotation } from '../../adaptor/common';\nimport { findGeometry, transformLabel } from '../../utils';\nimport { getQuadrantDefaultConfig, getPath, getMeta } from './util';\n/**\n *  data.length === 1 \n * @param params\n * @returns params\n */\nexport function transformOptions(options) {\n    var _a = options.data, data = _a === void 0 ? [] : _a;\n    //  data.length === 1 \n    if (data.length === 1) {\n        return deepAssign({}, options, {\n            meta: getMeta(options),\n        });\n    }\n    return options;\n}\n/**\n * \n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var data = options.data, type = options.type, color = options.color, shape = options.shape, pointStyle = options.pointStyle, shapeField = options.shapeField, colorField = options.colorField, xField = options.xField, yField = options.yField, sizeField = options.sizeField;\n    var size = options.size;\n    var tooltip = options.tooltip;\n    if (sizeField) {\n        if (!size) {\n            size = [2, 8];\n        }\n        if (isNumber(size)) {\n            size = [size, size];\n        }\n    }\n    if (tooltip && !tooltip.fields) {\n        tooltip = __assign(__assign({}, tooltip), { fields: [xField, yField, colorField, sizeField, shapeField] });\n    }\n    // \n    chart.data(data);\n    // geometry\n    point(deepAssign({}, params, {\n        options: {\n            seriesField: colorField,\n            point: {\n                color: color,\n                shape: shape,\n                size: size,\n                style: pointStyle,\n            },\n            tooltip: tooltip,\n        },\n    }));\n    var geometry = findGeometry(chart, 'point');\n    // \n    if (type) {\n        geometry.adjust(type);\n    }\n    return params;\n}\n/**\n * meta \n * @param params\n */\nexport function meta(params) {\n    var _a;\n    var options = params.options;\n    var data = options.data, xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField;\n    var newOptions = options;\n    //  data.length === 1 \n    if (data.length === 1) {\n        newOptions = transformOptions(deepAssign({}, options, { meta: getMeta(options) }));\n    }\n    return flow(scale((_a = {},\n        _a[xField] = xAxis,\n        _a[yField] = yAxis,\n        _a)))(deepAssign({}, params, { options: newOptions }));\n}\n/**\n * axis \n * @param params\n */\nfunction axis(params) {\n    var chart = params.chart, options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField;\n    chart.axis(xField, xAxis);\n    chart.axis(yField, yAxis);\n    return params;\n}\n/**\n * legend \n * @param params\n */\nfunction legend(params) {\n    var chart = params.chart, options = params.options;\n    var legend = options.legend, colorField = options.colorField, shapeField = options.shapeField, sizeField = options.sizeField;\n    // legend  shapeField  colorField \n    var showLegend = isBoolean(legend) ? legend : legend || !!(shapeField || colorField);\n    if (showLegend) {\n        chart.legend(colorField || shapeField, legend);\n        // \n        if (sizeField) {\n            chart.legend(sizeField, false);\n        }\n    }\n    else {\n        chart.legend(false);\n    }\n    return params;\n}\n/**\n * \n * @param params\n */\nfunction label(params) {\n    var chart = params.chart, options = params.options;\n    var label = options.label, yField = options.yField;\n    var scatterGeometry = findGeometry(chart, 'point');\n    // label  false,   label\n    if (!label) {\n        scatterGeometry.label(false);\n    }\n    else {\n        var callback = label.callback, cfg = __rest(label, [\"callback\"]);\n        scatterGeometry.label({\n            fields: [yField],\n            callback: callback,\n            cfg: transformLabel(cfg),\n        });\n    }\n    return params;\n}\n/**\n * annotation \n * -  annotation: quadrant()\n * @param params\n */\nfunction scatterAnnotation(params) {\n    var options = params.options;\n    var quadrant = options.quadrant;\n    var annotationOptions = [];\n    if (quadrant) {\n        var _a = quadrant.xBaseline, xBaseline = _a === void 0 ? 0 : _a, _b = quadrant.yBaseline, yBaseline = _b === void 0 ? 0 : _b, labels_1 = quadrant.labels, regionStyle_1 = quadrant.regionStyle, lineStyle = quadrant.lineStyle;\n        var defaultConfig_1 = getQuadrantDefaultConfig(xBaseline, yBaseline);\n        // \n        var quadrants = new Array(4).join(',').split(',');\n        quadrants.forEach(function (_, index) {\n            annotationOptions.push(__assign(__assign({ type: 'region', top: false }, defaultConfig_1.regionStyle[index].position), { style: deepAssign({}, defaultConfig_1.regionStyle[index].style, regionStyle_1 === null || regionStyle_1 === void 0 ? void 0 : regionStyle_1[index]) }), __assign({ type: 'text', top: true }, deepAssign({}, defaultConfig_1.labelStyle[index], labels_1 === null || labels_1 === void 0 ? void 0 : labels_1[index])));\n        });\n        // \n        annotationOptions.push({\n            type: 'line',\n            top: false,\n            start: ['min', yBaseline],\n            end: ['max', yBaseline],\n            style: deepAssign({}, defaultConfig_1.lineStyle, lineStyle),\n        }, {\n            type: 'line',\n            top: false,\n            start: [xBaseline, 'min'],\n            end: [xBaseline, 'max'],\n            style: deepAssign({}, defaultConfig_1.lineStyle, lineStyle),\n        });\n    }\n    return flow(annotation(annotationOptions))(params);\n}\n// \nfunction regressionLine(params) {\n    var options = params.options, chart = params.chart;\n    var regressionLine = options.regressionLine;\n    if (regressionLine) {\n        var style_1 = regressionLine.style, _a = regressionLine.top, top_1 = _a === void 0 ? false : _a;\n        var defaultStyle_1 = {\n            stroke: '#9ba29a',\n            lineWidth: 2,\n            opacity: 0.5,\n        };\n        chart.annotation().shape({\n            top: top_1,\n            render: function (container, view) {\n                var group = container.addGroup({\n                    id: chart.id + \"-regression-line\",\n                    name: 'regression-line-group',\n                });\n                var path = getPath({\n                    view: view,\n                    options: options,\n                });\n                group.addShape('path', {\n                    name: 'regression-line',\n                    attrs: __assign(__assign({ path: path }, defaultStyle_1), style_1),\n                });\n            },\n        });\n    }\n    return params;\n}\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params) {\n    var chart = params.chart, options = params.options;\n    var tooltip = options.tooltip;\n    if (tooltip) {\n        chart.tooltip(tooltip);\n    }\n    else if (tooltip === false) {\n        chart.tooltip(false);\n    }\n    return params;\n}\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // flow  G2 API\n    return flow(geometry, meta, axis, legend, tooltip, label, interaction, scatterAnnotation, animation, theme, regressionLine)(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __extends } from \"tslib\";\nimport { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { adaptor, transformOptions, meta } from './adaptor';\nimport './interaction';\nvar Scatter = /** @class */ (function (_super) {\n    __extends(Scatter, _super);\n    function Scatter() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'point';\n        return _this;\n    }\n    /**\n     * @override\n     * @param data\n     */\n    Scatter.prototype.changeData = function (data) {\n        this.updateOption(transformOptions(deepAssign({}, this.options, { data: data })));\n        var _a = this, options = _a.options, chart = _a.chart;\n        meta({ chart: chart, options: options });\n        this.chart.changeData(data);\n    };\n    /**\n     * \n     */\n    Scatter.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    Scatter.prototype.getDefaultOptions = function () {\n        return deepAssign({}, _super.prototype.getDefaultOptions.call(this), {\n            size: 4,\n            tooltip: {\n                showTitle: false,\n                showMarkers: false,\n                showCrosshairs: true,\n                crosshairs: {\n                    type: 'xy',\n                },\n            },\n        });\n    };\n    return Scatter;\n}(Plot));\nexport { Scatter };\n//# sourceMappingURL=index.js.map","import { __assign } from \"tslib\";\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry } from './base';\n/**\n * area geometry \n * @param params\n */\nexport function area(params) {\n    var options = params.options;\n    var area = options.area, xField = options.xField, yField = options.yField, seriesField = options.seriesField, smooth = options.smooth, tooltip = options.tooltip;\n    var _a = getTooltipMapping(tooltip, [xField, yField, seriesField]), fields = _a.fields, formatter = _a.formatter;\n    // \n    return area\n        ? geometry(deepAssign({}, params, {\n            options: {\n                type: 'area',\n                colorField: seriesField,\n                tooltipFields: fields,\n                mapping: __assign({ shape: smooth ? 'smooth' : 'area', tooltip: formatter }, area),\n            },\n        }))\n        : params;\n}\n//# sourceMappingURL=area.js.map","import { deepMix } from '@antv/util';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry } from './base';\n/**\n * line \n * @param params\n */\nexport function line(params) {\n    var options = params.options;\n    var line = options.line, stepType = options.stepType, xField = options.xField, yField = options.yField, seriesField = options.seriesField, smooth = options.smooth, connectNulls = options.connectNulls, tooltip = options.tooltip;\n    var _a = getTooltipMapping(tooltip, [xField, yField, seriesField]), fields = _a.fields, formatter = _a.formatter;\n    // \n    return line\n        ? geometry(deepAssign({}, params, {\n            options: {\n                type: 'line',\n                colorField: seriesField,\n                tooltipFields: fields,\n                mapping: deepMix({\n                    shape: stepType || (smooth ? 'smooth' : 'line'),\n                    tooltip: formatter,\n                }, line),\n                args: { connectNulls: connectNulls },\n            },\n        }))\n        : params;\n}\n//# sourceMappingURL=line.js.map","import { __assign } from \"tslib\";\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry } from './base';\n/**\n * point \n * @param params\n */\nexport function point(params) {\n    var options = params.options;\n    var point = options.point, xField = options.xField, yField = options.yField, seriesField = options.seriesField, sizeField = options.sizeField, shapeField = options.shapeField, tooltip = options.tooltip;\n    var _a = getTooltipMapping(tooltip, [xField, yField, seriesField, sizeField, shapeField]), fields = _a.fields, formatter = _a.formatter;\n    return point\n        ? geometry(deepAssign({}, params, {\n            options: {\n                type: 'point',\n                colorField: seriesField,\n                shapeField: shapeField,\n                tooltipFields: fields,\n                mapping: __assign({ tooltip: formatter }, point),\n            },\n        }))\n        : params;\n}\n//# sourceMappingURL=point.js.map","import { __assign } from \"tslib\";\nimport { getTheme } from '@antv/g2';\nimport { isNil, isObject } from '@antv/util';\nimport { deepAssign } from '../../utils';\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { geometry } from './base';\n/**\n *  adaptor\n * @param params\n */\nfunction otherAdaptor(params) {\n    var chart = params.chart, options = params.options, ext = params.ext;\n    var seriesField = options.seriesField, isGroup = options.isGroup, isStack = options.isStack, marginRatio = options.marginRatio, widthRatio = options.widthRatio, groupField = options.groupField, theme = options.theme;\n    /**\n     * adjust\n     */\n    var adjust = [];\n    if (seriesField) {\n        // group\n        if (isGroup) {\n            adjust.push({\n                type: 'dodge',\n                dodgeBy: groupField || seriesField,\n                marginRatio: marginRatio,\n            });\n        }\n        // stack\n        if (isStack) {\n            adjust.push({\n                type: 'stack',\n                marginRatio: marginRatio,\n            });\n        }\n    }\n    if (adjust.length && (ext === null || ext === void 0 ? void 0 : ext.geometry)) {\n        var g = ext === null || ext === void 0 ? void 0 : ext.geometry;\n        g.adjust(adjust);\n    }\n    // widthRatio\n    if (!isNil(widthRatio)) {\n        chart.theme(deepAssign({}, isObject(theme) ? theme : getTheme(theme), {\n            // columWidthRatio  theme \n            columnWidthRatio: widthRatio,\n        }));\n    }\n    return params;\n}\nexport function interval(params) {\n    var options = params.options;\n    var xField = options.xField, yField = options.yField, interval = options.interval, seriesField = options.seriesField, tooltip = options.tooltip, minColumnWidth = options.minColumnWidth, maxColumnWidth = options.maxColumnWidth, columnBackground = options.columnBackground;\n    var _a = getTooltipMapping(tooltip, [xField, yField, seriesField]), fields = _a.fields, formatter = _a.formatter;\n    //  interval \n    var ext = (interval\n        ? geometry(deepAssign({}, params, {\n            options: {\n                type: 'interval',\n                colorField: seriesField,\n                tooltipFields: fields,\n                mapping: __assign({ tooltip: formatter }, interval),\n                args: { minColumnWidth: minColumnWidth, maxColumnWidth: maxColumnWidth, background: columnBackground },\n            },\n        }))\n        : params).ext;\n    return otherAdaptor(__assign(__assign({}, params), { ext: ext }));\n}\n//# sourceMappingURL=interval.js.map","import { __assign } from \"tslib\";\nimport { getTooltipMapping } from '../../utils/tooltip';\nimport { deepAssign } from '../../utils';\nimport { geometry } from './base';\n/**\n * edge \n * @param params\n */\nexport function edge(params) {\n    var options = params.options;\n    var edge = options.edge, xField = options.xField, yField = options.yField, seriesField = options.seriesField, tooltip = options.tooltip;\n    var _a = getTooltipMapping(tooltip, [xField, yField, seriesField]), fields = _a.fields, formatter = _a.formatter;\n    return edge\n        ? geometry(deepAssign({}, params, {\n            options: {\n                type: 'edge',\n                colorField: seriesField,\n                tooltipFields: fields,\n                mapping: __assign({ tooltip: formatter }, edge),\n            },\n        }))\n        : params;\n}\n//# sourceMappingURL=edge.js.map","import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n/**\n * \n */\nexport var DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n    tooltip: {\n        shared: true,\n        showMarkers: true,\n        showCrosshairs: true,\n        crosshairs: {\n            type: 'x',\n        },\n    },\n    isStack: true,\n    // \n    line: {},\n    legend: {\n        position: 'top-left',\n    },\n});\n//# sourceMappingURL=constants.js.map","import { __extends } from \"tslib\";\nimport { Plot } from '../../core/plot';\nimport { getDataWhetherPecentage } from '../../utils/transform/percent';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nvar Area = /** @class */ (function (_super) {\n    __extends(Area, _super);\n    function Area() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'area';\n        return _this;\n    }\n    /**\n     *   \n     * @static \n     */\n    Area.getDefaultOptions = function () {\n        return DEFAULT_OPTIONS;\n    };\n    /**\n     *   \n     */\n    Area.prototype.getDefaultOptions = function () {\n        return Area.getDefaultOptions();\n    };\n    /**\n     * @override\n     * @param data\n     */\n    Area.prototype.changeData = function (data) {\n        this.updateOption({ data: data });\n        var _a = this.options, isPercent = _a.isPercent, xField = _a.xField, yField = _a.yField;\n        var _b = this, chart = _b.chart, options = _b.options;\n        meta({ chart: chart, options: options });\n        this.chart.changeData(getDataWhetherPecentage(data, yField, xField, yField, isPercent));\n    };\n    /**\n     *   \n     */\n    Area.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Area;\n}(Plot));\nexport { Area };\n//# sourceMappingURL=index.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ver = exports.clear = exports.bind = void 0;\n\nvar _sensorPool = require(\"./sensorPool\");\n\n/**\n * Created by hustcc on 18/6/9.[]\n * Contract: i@hust.cc\n */\n\n/**\n * bind an element with resize callback function\n * @param {*} element\n * @param {*} cb\n */\nvar bind = function bind(element, cb) {\n  var sensor = (0, _sensorPool.getSensor)(element); // listen with callback\n\n  sensor.bind(cb); // return unbind function\n\n  return function () {\n    sensor.unbind(cb);\n  };\n};\n/**\n * clear all the listener and sensor of an element\n * @param element\n */\n\n\nexports.bind = bind;\n\nvar clear = function clear(element) {\n  var sensor = (0, _sensorPool.getSensor)(element);\n  (0, _sensorPool.removeSensor)(sensor);\n};\n\nexports.clear = clear;\nvar ver = \"1.0.1\";\nexports.ver = ver;","import { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\n/**\n * \n */\nexport var DEFAULT_OPTIONS = deepAssign({}, Plot.getDefaultOptions(), {\n    columnWidthRatio: 0.6,\n    marginRatio: 1 / 32,\n    tooltip: {\n        shared: true,\n        showMarkers: false,\n        offset: 20,\n    },\n    interactions: [{ type: 'active-region' }],\n});\n//# sourceMappingURL=constants.js.map","import { __extends } from \"tslib\";\nimport { Plot } from '../../core/plot';\nimport { getDataWhetherPecentage } from '../../utils/transform/percent';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\n/**\n * \n */\nvar Column = /** @class */ (function (_super) {\n    __extends(Column, _super);\n    function Column() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'column';\n        return _this;\n    }\n    /**\n     *   \n     * @static \n     */\n    Column.getDefaultOptions = function () {\n        return DEFAULT_OPTIONS;\n    };\n    /**\n     * @override\n     */\n    Column.prototype.changeData = function (data) {\n        this.updateOption({ data: data });\n        var _a = this.options, yField = _a.yField, xField = _a.xField, isPercent = _a.isPercent;\n        var _b = this, chart = _b.chart, options = _b.options;\n        meta({ chart: chart, options: options });\n        this.chart.changeData(getDataWhetherPecentage(data, yField, xField, yField, isPercent));\n    };\n    /**\n     *   \n     */\n    Column.prototype.getDefaultOptions = function () {\n        return Column.getDefaultOptions();\n    };\n    /**\n     *   \n     */\n    Column.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Column;\n}(Plot));\nexport { Column };\n//# sourceMappingURL=index.js.map","import { isString } from '@antv/util';\nimport { flow, deepAssign } from '../../utils';\nimport { scale, animation, theme, annotation } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { DEFAULT_COLOR } from './constants';\nimport { getProgressData } from './utils';\n/**\n * \n * @param params\n */\nexport function geometry(params) {\n    var chart = params.chart, options = params.options;\n    var percent = options.percent, progressStyle = options.progressStyle, color = options.color, barWidthRatio = options.barWidthRatio;\n    chart.data(getProgressData(percent));\n    var p = deepAssign({}, params, {\n        options: {\n            xField: '1',\n            yField: 'percent',\n            seriesField: 'type',\n            isStack: true,\n            widthRatio: barWidthRatio,\n            interval: {\n                style: progressStyle,\n                color: isString(color) ? [color, DEFAULT_COLOR[1]] : color,\n            },\n            args: {\n                zIndexReversed: true,\n            },\n        },\n    });\n    interval(p);\n    // \n    chart.tooltip(false);\n    chart.axis(false);\n    chart.legend(false);\n    return params;\n}\n/**\n * other \n * @param params\n */\nfunction coordinate(params) {\n    var chart = params.chart;\n    chart.coordinate('rect').transpose();\n    return params;\n}\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // @ts-ignore\n    return flow(geometry, scale({}), coordinate, animation, theme, annotation())(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __spreadArrays } from \"tslib\";\nimport { each, isNil, isObject } from '@antv/util';\nimport { AXIS_META_CONFIG_KEYS } from '../constant';\nimport { pick, deepAssign } from '../utils';\n/**\n *  legend ,  colorField  seriesField \n * @param params\n */\nexport function legend(params) {\n    var chart = params.chart, options = params.options;\n    var legend = options.legend, colorField = options.colorField, seriesField = options.seriesField;\n    if (legend === false) {\n        chart.legend(false);\n    }\n    else if (colorField || seriesField) {\n        chart.legend(colorField || seriesField, legend);\n    }\n    return params;\n}\n/**\n *  tooltip \n * @param params\n */\nexport function tooltip(params) {\n    var chart = params.chart, options = params.options;\n    var tooltip = options.tooltip;\n    if (tooltip !== undefined) {\n        chart.tooltip(tooltip);\n    }\n    return params;\n}\n/**\n * Interaction \n * @param params\n */\nexport function interaction(params) {\n    var chart = params.chart, options = params.options;\n    var interactions = options.interactions;\n    each(interactions, function (i) {\n        if (i.enable === false) {\n            chart.removeInteraction(i.type);\n        }\n        else {\n            chart.interaction(i.type, i.cfg || {});\n        }\n    });\n    return params;\n}\n/**\n * \n * @param params\n */\nexport function animation(params) {\n    var chart = params.chart, options = params.options;\n    var animation = options.animation;\n    //  view \n    if (typeof animation === 'boolean') {\n        chart.animate(animation);\n    }\n    else {\n        chart.animate(true);\n    }\n    //  Geometry \n    each(chart.geometries, function (g) {\n        g.animate(animation);\n    });\n    return params;\n}\n/**\n * \n * @param params\n */\nexport function theme(params) {\n    var chart = params.chart, options = params.options;\n    var theme = options.theme;\n    // \n    if (theme) {\n        chart.theme(theme);\n    }\n    return params;\n}\n/**\n *  state \n * @param params\n */\nexport function state(params) {\n    var chart = params.chart, options = params.options;\n    var state = options.state;\n    if (state) {\n        each(chart.geometries, function (geometry) {\n            geometry.state(state);\n        });\n    }\n    return params;\n}\n/**\n *  adaptor\n * @param params\n */\nexport function slider(params) {\n    var chart = params.chart, options = params.options;\n    var slider = options.slider;\n    chart.option('slider', slider);\n    return params;\n}\n/**\n *  adaptor\n * @param params\n */\nexport function scrollbar(params) {\n    var chart = params.chart, options = params.options;\n    var scrollbar = options.scrollbar;\n    chart.option('scrollbar', scrollbar);\n    return params;\n}\n/**\n * scale  adaptor\n * @param axes\n */\nexport function scale(axes, meta) {\n    return function (params) {\n        var chart = params.chart, options = params.options;\n        // 1.  scale \n        var scales = {};\n        each(axes, function (axis, field) {\n            scales[field] = pick(axis, AXIS_META_CONFIG_KEYS);\n        });\n        // 2. meta  scale \n        scales = deepAssign({}, meta, options.meta, scales);\n        chart.scale(scales);\n        return params;\n    };\n}\n/**\n * annotation \n * @param params\n */\nexport function annotation(annotationOptions) {\n    return function (params) {\n        var chart = params.chart, options = params.options;\n        var annotationController = chart.getController('annotation');\n        /**  annotation */\n        each(__spreadArrays((options.annotations || []), (annotationOptions || [])), function (annotationOption) {\n            // @ts-ignore\n            annotationController.annotation(annotationOption);\n        });\n        return params;\n    };\n}\n/**\n *  limitInPlot\n * @param params\n */\nexport function limitInPlot(params) {\n    var chart = params.chart, options = params.options;\n    var yAxis = options.yAxis, limitInPlot = options.limitInPlot;\n    var value = limitInPlot;\n    //  limitInPlot yAxis  min/max  limitInPlot\n    if (isObject(yAxis) && isNil(limitInPlot)) {\n        if (Object.values(pick(yAxis, ['min', 'max', 'minLimit', 'maxLimit'])).some(function (value) { return !isNil(value); })) {\n            value = true;\n        }\n        else {\n            value = false;\n        }\n    }\n    chart.limitInPlot = value;\n    return params;\n}\n//# sourceMappingURL=common.js.map","var _a;\nexport var RANGE_VALUE = 'range';\nexport var RANGE_TYPE = 'type';\nexport var PERCENT = 'percent';\nexport var DEFAULT_COLOR = '#f0f0f0';\n/**    */\nexport var INDICATEOR_VIEW_ID = 'indicator-view';\nexport var RANGE_VIEW_ID = 'range-view';\n/** meter   mask  view */\nexport var MASK_VIEW_ID = 'range-mask-view';\n/**\n * \n */\nexport var DEFAULT_OPTIONS = {\n    percent: 0,\n    range: {\n        ticks: [],\n    },\n    innerRadius: 0.9,\n    radius: 0.95,\n    startAngle: (-7 / 6) * Math.PI,\n    endAngle: (1 / 6) * Math.PI,\n    syncViewPadding: true,\n    axis: {\n        line: null,\n        label: {\n            offset: -24,\n            style: {\n                textAlign: 'center',\n                textBaseline: 'middle',\n            },\n        },\n        subTickLine: {\n            length: -8,\n        },\n        tickLine: {\n            length: -12,\n        },\n        grid: null,\n    },\n    indicator: {\n        pointer: {\n            style: {\n                lineWidth: 5,\n                lineCap: 'round',\n            },\n        },\n        pin: {\n            style: {\n                r: 9.75,\n                lineWidth: 4.5,\n                fill: '#fff',\n            },\n        },\n    },\n    statistic: {\n        title: false,\n    },\n    meta: (_a = {},\n        //  view  scale  v \n        _a[RANGE_VALUE] = {\n            sync: 'v',\n        },\n        _a[PERCENT] = {\n            sync: 'v',\n            tickCount: 5,\n            tickInterval: 0.2,\n        },\n        _a),\n    animation: false,\n};\n//# sourceMappingURL=constants.js.map","function defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\nfunction meanX(children) {\n  return children.reduce(meanXReduce, 0) / children.length;\n}\n\nfunction meanXReduce(x, c) {\n  return x + c.x;\n}\n\nfunction maxY(children) {\n  return 1 + children.reduce(maxYReduce, 0);\n}\n\nfunction maxYReduce(y, c) {\n  return Math.max(y, c.y);\n}\n\nfunction leafLeft(node) {\n  var children;\n  while (children = node.children) node = children[0];\n  return node;\n}\n\nfunction leafRight(node) {\n  var children;\n  while (children = node.children) node = children[children.length - 1];\n  return node;\n}\n\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = false;\n\n  function cluster(root) {\n    var previousNode,\n        x = 0;\n\n    // First walk, computing the initial x & y values.\n    root.eachAfter(function(node) {\n      var children = node.children;\n      if (children) {\n        node.x = meanX(children);\n        node.y = maxY(children);\n      } else {\n        node.x = previousNode ? x += separation(node, previousNode) : 0;\n        node.y = 0;\n        previousNode = node;\n      }\n    });\n\n    var left = leafLeft(root),\n        right = leafRight(root),\n        x0 = left.x - separation(left, right) / 2,\n        x1 = right.x + separation(right, left) / 2;\n\n    // Second walk, normalizing x & y to the desired size.\n    return root.eachAfter(nodeSize ? function(node) {\n      node.x = (node.x - root.x) * dx;\n      node.y = (root.y - node.y) * dy;\n    } : function(node) {\n      node.x = (node.x - x0) / (x1 - x0) * dx;\n      node.y = (1 - (root.y ? node.y / root.y : 1)) * dy;\n    });\n  }\n\n  cluster.separation = function(x) {\n    return arguments.length ? (separation = x, cluster) : separation;\n  };\n\n  cluster.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? null : [dx, dy]);\n  };\n\n  cluster.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], cluster) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return cluster;\n}\n","export default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n\nexport function shuffle(array) {\n  var m = array.length,\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m];\n    array[m] = array[i];\n    array[i] = t;\n  }\n\n  return array;\n}\n","import {shuffle} from \"../array.js\";\n\nexport default function(circles) {\n  var i = 0, n = (circles = shuffle(Array.from(circles))).length, B = [], p, e;\n\n  while (i < n) {\n    p = circles[i];\n    if (e && enclosesWeak(e, p)) ++i;\n    else e = encloseBasis(B = extendBasis(B, p)), i = 0;\n  }\n\n  return e;\n}\n\nfunction extendBasis(B, p) {\n  var i, j;\n\n  if (enclosesWeakAll(p, B)) return [p];\n\n  // If we get here then B must have at least one element.\n  for (i = 0; i < B.length; ++i) {\n    if (enclosesNot(p, B[i])\n        && enclosesWeakAll(encloseBasis2(B[i], p), B)) {\n      return [B[i], p];\n    }\n  }\n\n  // If we get here then B must have at least two elements.\n  for (i = 0; i < B.length - 1; ++i) {\n    for (j = i + 1; j < B.length; ++j) {\n      if (enclosesNot(encloseBasis2(B[i], B[j]), p)\n          && enclosesNot(encloseBasis2(B[i], p), B[j])\n          && enclosesNot(encloseBasis2(B[j], p), B[i])\n          && enclosesWeakAll(encloseBasis3(B[i], B[j], p), B)) {\n        return [B[i], B[j], p];\n      }\n    }\n  }\n\n  // If we get here then something is very wrong.\n  throw new Error;\n}\n\nfunction enclosesNot(a, b) {\n  var dr = a.r - b.r, dx = b.x - a.x, dy = b.y - a.y;\n  return dr < 0 || dr * dr < dx * dx + dy * dy;\n}\n\nfunction enclosesWeak(a, b) {\n  var dr = a.r - b.r + Math.max(a.r, b.r, 1) * 1e-9, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction enclosesWeakAll(a, B) {\n  for (var i = 0; i < B.length; ++i) {\n    if (!enclosesWeak(a, B[i])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction encloseBasis(B) {\n  switch (B.length) {\n    case 1: return encloseBasis1(B[0]);\n    case 2: return encloseBasis2(B[0], B[1]);\n    case 3: return encloseBasis3(B[0], B[1], B[2]);\n  }\n}\n\nfunction encloseBasis1(a) {\n  return {\n    x: a.x,\n    y: a.y,\n    r: a.r\n  };\n}\n\nfunction encloseBasis2(a, b) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x21 = x2 - x1, y21 = y2 - y1, r21 = r2 - r1,\n      l = Math.sqrt(x21 * x21 + y21 * y21);\n  return {\n    x: (x1 + x2 + x21 / l * r21) / 2,\n    y: (y1 + y2 + y21 / l * r21) / 2,\n    r: (l + r1 + r2) / 2\n  };\n}\n\nfunction encloseBasis3(a, b, c) {\n  var x1 = a.x, y1 = a.y, r1 = a.r,\n      x2 = b.x, y2 = b.y, r2 = b.r,\n      x3 = c.x, y3 = c.y, r3 = c.r,\n      a2 = x1 - x2,\n      a3 = x1 - x3,\n      b2 = y1 - y2,\n      b3 = y1 - y3,\n      c2 = r2 - r1,\n      c3 = r3 - r1,\n      d1 = x1 * x1 + y1 * y1 - r1 * r1,\n      d2 = d1 - x2 * x2 - y2 * y2 + r2 * r2,\n      d3 = d1 - x3 * x3 - y3 * y3 + r3 * r3,\n      ab = a3 * b2 - a2 * b3,\n      xa = (b2 * d3 - b3 * d2) / (ab * 2) - x1,\n      xb = (b3 * c2 - b2 * c3) / ab,\n      ya = (a3 * d2 - a2 * d3) / (ab * 2) - y1,\n      yb = (a2 * c3 - a3 * c2) / ab,\n      A = xb * xb + yb * yb - 1,\n      B = 2 * (r1 + xa * xb + ya * yb),\n      C = xa * xa + ya * ya - r1 * r1,\n      r = -(A ? (B + Math.sqrt(B * B - 4 * A * C)) / (2 * A) : C / B);\n  return {\n    x: x1 + xa + xb * r,\n    y: y1 + ya + yb * r,\n    r: r\n  };\n}\n","import array from \"../array.js\";\nimport enclose from \"./enclose.js\";\n\nfunction place(b, a, c) {\n  var dx = b.x - a.x, x, a2,\n      dy = b.y - a.y, y, b2,\n      d2 = dx * dx + dy * dy;\n  if (d2) {\n    a2 = a.r + c.r, a2 *= a2;\n    b2 = b.r + c.r, b2 *= b2;\n    if (a2 > b2) {\n      x = (d2 + b2 - a2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, b2 / d2 - x * x));\n      c.x = b.x - x * dx - y * dy;\n      c.y = b.y - x * dy + y * dx;\n    } else {\n      x = (d2 + a2 - b2) / (2 * d2);\n      y = Math.sqrt(Math.max(0, a2 / d2 - x * x));\n      c.x = a.x + x * dx - y * dy;\n      c.y = a.y + x * dy + y * dx;\n    }\n  } else {\n    c.x = a.x + c.r;\n    c.y = a.y;\n  }\n}\n\nfunction intersects(a, b) {\n  var dr = a.r + b.r - 1e-6, dx = b.x - a.x, dy = b.y - a.y;\n  return dr > 0 && dr * dr > dx * dx + dy * dy;\n}\n\nfunction score(node) {\n  var a = node._,\n      b = node.next._,\n      ab = a.r + b.r,\n      dx = (a.x * b.r + b.x * a.r) / ab,\n      dy = (a.y * b.r + b.y * a.r) / ab;\n  return dx * dx + dy * dy;\n}\n\nfunction Node(circle) {\n  this._ = circle;\n  this.next = null;\n  this.previous = null;\n}\n\nexport function packEnclose(circles) {\n  if (!(n = (circles = array(circles)).length)) return 0;\n\n  var a, b, c, n, aa, ca, i, j, k, sj, sk;\n\n  // Place the first circle.\n  a = circles[0], a.x = 0, a.y = 0;\n  if (!(n > 1)) return a.r;\n\n  // Place the second circle.\n  b = circles[1], a.x = -b.r, b.x = a.r, b.y = 0;\n  if (!(n > 2)) return a.r + b.r;\n\n  // Place the third circle.\n  place(b, a, c = circles[2]);\n\n  // Initialize the front-chain using the first three circles a, b and c.\n  a = new Node(a), b = new Node(b), c = new Node(c);\n  a.next = c.previous = b;\n  b.next = a.previous = c;\n  c.next = b.previous = a;\n\n  // Attempt to place each remaining circle\n  pack: for (i = 3; i < n; ++i) {\n    place(a._, b._, c = circles[i]), c = new Node(c);\n\n    // Find the closest intersecting circle on the front-chain, if any.\n    // Closeness is determined by linear distance along the front-chain.\n    // Ahead or behind is likewise determined by linear distance.\n    j = b.next, k = a.previous, sj = b._.r, sk = a._.r;\n    do {\n      if (sj <= sk) {\n        if (intersects(j._, c._)) {\n          b = j, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sj += j._.r, j = j.next;\n      } else {\n        if (intersects(k._, c._)) {\n          a = k, a.next = b, b.previous = a, --i;\n          continue pack;\n        }\n        sk += k._.r, k = k.previous;\n      }\n    } while (j !== k.next);\n\n    // Success! Insert the new circle c between a and b.\n    c.previous = a, c.next = b, a.next = b.previous = b = c;\n\n    // Compute the new closest circle pair to the centroid.\n    aa = score(a);\n    while ((c = c.next) !== b) {\n      if ((ca = score(c)) < aa) {\n        a = c, aa = ca;\n      }\n    }\n    b = a.next;\n  }\n\n  // Compute the enclosing circle of the front chain.\n  a = [b._], c = b; while ((c = c.next) !== b) a.push(c._); c = enclose(a);\n\n  // Translate the circles to put the enclosing circle around the origin.\n  for (i = 0; i < n; ++i) a = circles[i], a.x -= c.x, a.y -= c.y;\n\n  return c.r;\n}\n\nexport default function(circles) {\n  packEnclose(circles);\n  return circles;\n}\n","import {packEnclose} from \"./siblings.js\";\nimport {optional} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nfunction defaultRadius(d) {\n  return Math.sqrt(d.value);\n}\n\nexport default function() {\n  var radius = null,\n      dx = 1,\n      dy = 1,\n      padding = constantZero;\n\n  function pack(root) {\n    root.x = dx / 2, root.y = dy / 2;\n    if (radius) {\n      root.eachBefore(radiusLeaf(radius))\n          .eachAfter(packChildren(padding, 0.5))\n          .eachBefore(translateChild(1));\n    } else {\n      root.eachBefore(radiusLeaf(defaultRadius))\n          .eachAfter(packChildren(constantZero, 1))\n          .eachAfter(packChildren(padding, root.r / Math.min(dx, dy)))\n          .eachBefore(translateChild(Math.min(dx, dy) / (2 * root.r)));\n    }\n    return root;\n  }\n\n  pack.radius = function(x) {\n    return arguments.length ? (radius = optional(x), pack) : radius;\n  };\n\n  pack.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], pack) : [dx, dy];\n  };\n\n  pack.padding = function(x) {\n    return arguments.length ? (padding = typeof x === \"function\" ? x : constant(+x), pack) : padding;\n  };\n\n  return pack;\n}\n\nfunction radiusLeaf(radius) {\n  return function(node) {\n    if (!node.children) {\n      node.r = Math.max(0, +radius(node) || 0);\n    }\n  };\n}\n\nfunction packChildren(padding, k) {\n  return function(node) {\n    if (children = node.children) {\n      var children,\n          i,\n          n = children.length,\n          r = padding(node) * k || 0,\n          e;\n\n      if (r) for (i = 0; i < n; ++i) children[i].r += r;\n      e = packEnclose(children);\n      if (r) for (i = 0; i < n; ++i) children[i].r -= r;\n      node.r = e + r;\n    }\n  };\n}\n\nfunction translateChild(k) {\n  return function(node) {\n    var parent = node.parent;\n    node.r *= k;\n    if (parent) {\n      node.x = parent.x + k * node.x;\n      node.y = parent.y + k * node.y;\n    }\n  };\n}\n","import {required} from \"./accessors.js\";\nimport {Node, computeHeight} from \"./hierarchy/index.js\";\n\nvar preroot = {depth: -1},\n    ambiguous = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nexport default function() {\n  var id = defaultId,\n      parentId = defaultParentId;\n\n  function stratify(data) {\n    var nodes = Array.from(data),\n        n = nodes.length,\n        d,\n        i,\n        root,\n        parent,\n        node,\n        nodeId,\n        nodeKey,\n        nodeByKey = new Map;\n\n    for (i = 0; i < n; ++i) {\n      d = nodes[i], node = nodes[i] = new Node(d);\n      if ((nodeId = id(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = node.id = nodeId;\n        nodeByKey.set(nodeKey, nodeByKey.has(nodeKey) ? ambiguous : node);\n      }\n      if ((nodeId = parentId(d, i, data)) != null && (nodeId += \"\")) {\n        node.parent = nodeId;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (nodeId = node.parent) {\n        parent = nodeByKey.get(nodeId);\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      } else {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = required(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = required(x), stratify) : parentId;\n  };\n\n  return stratify;\n}\n","import {Node} from \"./hierarchy/index.js\";\n\nfunction defaultSeparation(a, b) {\n  return a.parent === b.parent ? 1 : 2;\n}\n\n// function radialSeparation(a, b) {\n//   return (a.parent === b.parent ? 1 : 2) / a.depth;\n// }\n\n// This function is used to traverse the left contour of a subtree (or\n// subforest). It returns the successor of v on this contour. This successor is\n// either given by the leftmost child of v or by the thread of v. The function\n// returns null if and only if v is on the highest level of its subtree.\nfunction nextLeft(v) {\n  var children = v.children;\n  return children ? children[0] : v.t;\n}\n\n// This function works analogously to nextLeft.\nfunction nextRight(v) {\n  var children = v.children;\n  return children ? children[children.length - 1] : v.t;\n}\n\n// Shifts the current subtree rooted at w+. This is done by increasing\n// prelim(w+) and mod(w+) by shift.\nfunction moveSubtree(wm, wp, shift) {\n  var change = shift / (wp.i - wm.i);\n  wp.c -= change;\n  wp.s += shift;\n  wm.c += change;\n  wp.z += shift;\n  wp.m += shift;\n}\n\n// All other shifts, applied to the smaller subtrees between w- and w+, are\n// performed by this function. To prepare the shifts, we have to adjust\n// change(w+), shift(w+), and change(w-).\nfunction executeShifts(v) {\n  var shift = 0,\n      change = 0,\n      children = v.children,\n      i = children.length,\n      w;\n  while (--i >= 0) {\n    w = children[i];\n    w.z += shift;\n    w.m += shift;\n    shift += w.s + (change += w.c);\n  }\n}\n\n// If vi-s ancestor is a sibling of v, returns vi-s ancestor. Otherwise,\n// returns the specified (default) ancestor.\nfunction nextAncestor(vim, v, ancestor) {\n  return vim.a.parent === v.parent ? vim.a : ancestor;\n}\n\nfunction TreeNode(node, i) {\n  this._ = node;\n  this.parent = null;\n  this.children = null;\n  this.A = null; // default ancestor\n  this.a = this; // ancestor\n  this.z = 0; // prelim\n  this.m = 0; // mod\n  this.c = 0; // change\n  this.s = 0; // shift\n  this.t = null; // thread\n  this.i = i; // number\n}\n\nTreeNode.prototype = Object.create(Node.prototype);\n\nfunction treeRoot(root) {\n  var tree = new TreeNode(root, 0),\n      node,\n      nodes = [tree],\n      child,\n      children,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if (children = node._.children) {\n      node.children = new Array(n = children.length);\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = node.children[i] = new TreeNode(children[i], i));\n        child.parent = node;\n      }\n    }\n  }\n\n  (tree.parent = new TreeNode(null, 0)).children = [tree];\n  return tree;\n}\n\n// Node-link tree diagram using the Reingold-Tilford \"tidy\" algorithm\nexport default function() {\n  var separation = defaultSeparation,\n      dx = 1,\n      dy = 1,\n      nodeSize = null;\n\n  function tree(root) {\n    var t = treeRoot(root);\n\n    // Compute the layout using Buchheim et al.s algorithm.\n    t.eachAfter(firstWalk), t.parent.m = -t.z;\n    t.eachBefore(secondWalk);\n\n    // If a fixed node size is specified, scale x and y.\n    if (nodeSize) root.eachBefore(sizeNode);\n\n    // If a fixed tree size is specified, scale x and y based on the extent.\n    // Compute the left-most, right-most, and depth-most nodes for extents.\n    else {\n      var left = root,\n          right = root,\n          bottom = root;\n      root.eachBefore(function(node) {\n        if (node.x < left.x) left = node;\n        if (node.x > right.x) right = node;\n        if (node.depth > bottom.depth) bottom = node;\n      });\n      var s = left === right ? 1 : separation(left, right) / 2,\n          tx = s - left.x,\n          kx = dx / (right.x + s + tx),\n          ky = dy / (bottom.depth || 1);\n      root.eachBefore(function(node) {\n        node.x = (node.x + tx) * kx;\n        node.y = node.depth * ky;\n      });\n    }\n\n    return root;\n  }\n\n  // Computes a preliminary x-coordinate for v. Before that, FIRST WALK is\n  // applied recursively to the children of v, as well as the function\n  // APPORTION. After spacing out the children by calling EXECUTE SHIFTS, the\n  // node v is placed to the midpoint of its outermost children.\n  function firstWalk(v) {\n    var children = v.children,\n        siblings = v.parent.children,\n        w = v.i ? siblings[v.i - 1] : null;\n    if (children) {\n      executeShifts(v);\n      var midpoint = (children[0].z + children[children.length - 1].z) / 2;\n      if (w) {\n        v.z = w.z + separation(v._, w._);\n        v.m = v.z - midpoint;\n      } else {\n        v.z = midpoint;\n      }\n    } else if (w) {\n      v.z = w.z + separation(v._, w._);\n    }\n    v.parent.A = apportion(v, w, v.parent.A || siblings[0]);\n  }\n\n  // Computes all real x-coordinates by summing up the modifiers recursively.\n  function secondWalk(v) {\n    v._.x = v.z + v.parent.m;\n    v.m += v.parent.m;\n  }\n\n  // The core of the algorithm. Here, a new subtree is combined with the\n  // previous subtrees. Threads are used to traverse the inside and outside\n  // contours of the left and right subtree up to the highest common level. The\n  // vertices used for the traversals are vi+, vi-, vo-, and vo+, where the\n  // superscript o means outside and i means inside, the subscript - means left\n  // subtree and + means right subtree. For summing up the modifiers along the\n  // contour, we use respective variables si+, si-, so-, and so+. Whenever two\n  // nodes of the inside contours conflict, we compute the left one of the\n  // greatest uncommon ancestors using the function ANCESTOR and call MOVE\n  // SUBTREE to shift the subtree and prepare the shifts of smaller subtrees.\n  // Finally, we add a new thread (if necessary).\n  function apportion(v, w, ancestor) {\n    if (w) {\n      var vip = v,\n          vop = v,\n          vim = w,\n          vom = vip.parent.children[0],\n          sip = vip.m,\n          sop = vop.m,\n          sim = vim.m,\n          som = vom.m,\n          shift;\n      while (vim = nextRight(vim), vip = nextLeft(vip), vim && vip) {\n        vom = nextLeft(vom);\n        vop = nextRight(vop);\n        vop.a = v;\n        shift = vim.z + sim - vip.z - sip + separation(vim._, vip._);\n        if (shift > 0) {\n          moveSubtree(nextAncestor(vim, v, ancestor), v, shift);\n          sip += shift;\n          sop += shift;\n        }\n        sim += vim.m;\n        sip += vip.m;\n        som += vom.m;\n        sop += vop.m;\n      }\n      if (vim && !nextRight(vop)) {\n        vop.t = vim;\n        vop.m += sim - sop;\n      }\n      if (vip && !nextLeft(vom)) {\n        vom.t = vip;\n        vom.m += sip - som;\n        ancestor = v;\n      }\n    }\n    return ancestor;\n  }\n\n  function sizeNode(node) {\n    node.x *= dx;\n    node.y = node.depth * dy;\n  }\n\n  tree.separation = function(x) {\n    return arguments.length ? (separation = x, tree) : separation;\n  };\n\n  tree.size = function(x) {\n    return arguments.length ? (nodeSize = false, dx = +x[0], dy = +x[1], tree) : (nodeSize ? null : [dx, dy]);\n  };\n\n  tree.nodeSize = function(x) {\n    return arguments.length ? (nodeSize = true, dx = +x[0], dy = +x[1], tree) : (nodeSize ? [dx, dy] : null);\n  };\n\n  return tree;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      i, n = nodes.length,\n      sum, sums = new Array(n + 1);\n\n  for (sums[0] = sum = i = 0; i < n; ++i) {\n    sums[i + 1] = sum += nodes[i].value;\n  }\n\n  partition(0, n, parent.value, x0, y0, x1, y1);\n\n  function partition(i, j, value, x0, y0, x1, y1) {\n    if (i >= j - 1) {\n      var node = nodes[i];\n      node.x0 = x0, node.y0 = y0;\n      node.x1 = x1, node.y1 = y1;\n      return;\n    }\n\n    var valueOffset = sums[i],\n        valueTarget = (value / 2) + valueOffset,\n        k = i + 1,\n        hi = j - 1;\n\n    while (k < hi) {\n      var mid = k + hi >>> 1;\n      if (sums[mid] < valueTarget) k = mid + 1;\n      else hi = mid;\n    }\n\n    if ((valueTarget - sums[k - 1]) < (sums[k] - valueTarget) && i + 1 < k) --k;\n\n    var valueLeft = sums[k] - valueOffset,\n        valueRight = value - valueLeft;\n\n    if ((x1 - x0) > (y1 - y0)) {\n      var xk = value ? (x0 * valueRight + x1 * valueLeft) / value : x1;\n      partition(i, k, valueLeft, x0, y0, xk, y1);\n      partition(k, j, valueRight, xk, y0, x1, y1);\n    } else {\n      var yk = value ? (y0 * valueRight + y1 * valueLeft) / value : y1;\n      partition(i, k, valueLeft, x0, y0, x1, yk);\n      partition(k, j, valueRight, x0, yk, x1, y1);\n    }\n  }\n}\n","import dice from \"./dice.js\";\nimport slice from \"./slice.js\";\n\nexport default function(parent, x0, y0, x1, y1) {\n  (parent.depth & 1 ? slice : dice)(parent, x0, y0, x1, y1);\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\nimport {phi, squarifyRatio} from \"./squarify.js\";\n\nexport default (function custom(ratio) {\n\n  function resquarify(parent, x0, y0, x1, y1) {\n    if ((rows = parent._squarify) && (rows.ratio === ratio)) {\n      var rows,\n          row,\n          nodes,\n          i,\n          j = -1,\n          n,\n          m = rows.length,\n          value = parent.value;\n\n      while (++j < m) {\n        row = rows[j], nodes = row.children;\n        for (i = row.value = 0, n = nodes.length; i < n; ++i) row.value += nodes[i].value;\n        if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += (y1 - y0) * row.value / value : y1);\n        else treemapSlice(row, x0, y0, value ? x0 += (x1 - x0) * row.value / value : x1, y1);\n        value -= row.value;\n      }\n    } else {\n      parent._squarify = rows = squarifyRatio(ratio, parent, x0, y0, x1, y1);\n      rows.ratio = ratio;\n    }\n  }\n\n  resquarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return resquarify;\n})(phi);\n","export var AxisType;\n(function (AxisType) {\n    AxisType[\"Left\"] = \"Left\";\n    AxisType[\"Right\"] = \"Right\";\n})(AxisType || (AxisType = {}));\nexport var DualAxesGeometry;\n(function (DualAxesGeometry) {\n    DualAxesGeometry[\"Line\"] = \"line\";\n    DualAxesGeometry[\"Column\"] = \"column\";\n})(DualAxesGeometry || (DualAxesGeometry = {}));\n//# sourceMappingURL=types.js.map","import { __assign } from \"tslib\";\nexport var LEFT_AXES_VIEW = 'left-axes-view';\nexport var RIGHT_AXES_VIEW = 'right-axes-view';\nexport var DEFAULT_YAXIS_CONFIG = {\n    nice: true,\n    label: {\n        autoHide: true,\n        autoRotate: false,\n    },\n};\nexport var DEFAULT_LEFT_YAXIS_CONFIG = __assign(__assign({}, DEFAULT_YAXIS_CONFIG), { position: 'left' });\nexport var DEFAULT_RIGHT_YAXIS_CONFIG = __assign(__assign({}, DEFAULT_YAXIS_CONFIG), { position: 'right', grid: null });\n//# sourceMappingURL=constant.js.map","import { __assign } from \"tslib\";\nimport { get, isArray } from '@antv/util';\nimport { deepAssign } from '../../../utils';\nimport { DualAxesGeometry, AxisType, } from '../types';\nimport { DEFAULT_LEFT_YAXIS_CONFIG, DEFAULT_RIGHT_YAXIS_CONFIG } from '../constant';\n/**\n *  GeometryOption  geometry  line\n */\nexport function isLine(geometryOption) {\n    return get(geometryOption, 'geometry') === DualAxesGeometry.Line;\n}\n/**\n *  GeometryOption  geometry  Column\n */\nexport function isColumn(geometryOption) {\n    return get(geometryOption, 'geometry') === DualAxesGeometry.Column;\n}\n/**\n *  GeometryOption\n * @param geometryOption\n * @param axis\n */\nexport function getGeometryOption(xField, yField, geometryOption) {\n    // \n    return isColumn(geometryOption)\n        ? deepAssign({}, {\n            geometry: DualAxesGeometry.Column,\n            label: geometryOption.label && geometryOption.isRange\n                ? {\n                    content: function (item) {\n                        var _a;\n                        return (_a = item[yField]) === null || _a === void 0 ? void 0 : _a.join('-');\n                    },\n                }\n                : undefined,\n        }, geometryOption)\n        : __assign({ geometry: DualAxesGeometry.Line }, geometryOption);\n}\n/**\n *   arr  obj   yAxisannotations\n *  yField  object \n * @param yField\n * @param transformAttribute\n */\nexport function transformObjectToArray(yField, transformAttribute) {\n    var y1 = yField[0], y2 = yField[1];\n    if (isArray(transformAttribute)) {\n        // \n        var a1_1 = transformAttribute[0], a2_1 = transformAttribute[1];\n        return [a1_1, a2_1];\n    }\n    var a1 = get(transformAttribute, y1);\n    var a2 = get(transformAttribute, y2);\n    return [a1, a2];\n}\n/**\n * \n * @param yAxis\n * @param axisType\n */\nexport function getYAxisWithDefault(yAxis, axisType) {\n    if (axisType === AxisType.Left) {\n        return yAxis === false ? false : deepAssign({}, DEFAULT_LEFT_YAXIS_CONFIG, yAxis);\n    }\n    else if (axisType === AxisType.Right) {\n        return yAxis === false ? false : deepAssign({}, DEFAULT_RIGHT_YAXIS_CONFIG, yAxis);\n    }\n    return yAxis;\n}\n//# sourceMappingURL=option.js.map","import { reduce, get } from '@antv/util';\nimport { Util } from '@antv/g2';\nimport { findGeometry } from '../../../utils';\nimport { isLine } from './option';\n/**\n *  view  legendItem seriesField \n * @param params\n */\nexport function getViewLegendItems(params) {\n    var view = params.view, geometryOption = params.geometryOption, yField = params.yField, legend = params.legend;\n    var userMarker = get(legend, 'marker');\n    var geometry = findGeometry(view, isLine(geometryOption) ? 'line' : 'interval');\n    if (!geometryOption.seriesField) {\n        //  g2 \n        var colorAttribute = geometry.getAttribute('color');\n        var color = colorAttribute.values[0];\n        var marker = userMarker ||\n            (isLine(geometryOption)\n                ? {\n                    symbol: function (x, y, r) {\n                        return [\n                            ['M', x - r, y],\n                            ['L', x + r, y],\n                        ];\n                    },\n                    style: {\n                        lineWidth: 2,\n                        r: 6,\n                        stroke: color,\n                    },\n                }\n                : {\n                    symbol: 'square',\n                    style: {\n                        fill: color,\n                    },\n                });\n        return [\n            {\n                value: yField,\n                name: get(view, \"options.scales.\" + yField + \".alias\") || yField,\n                marker: marker,\n                isGeometry: true,\n                viewId: view.id,\n            },\n        ];\n    }\n    var attributes = geometry.getGroupAttributes();\n    return reduce(attributes, function (items, attr) {\n        var attrItems = Util.getLegendItems(view, geometry, attr, view.getTheme(), userMarker);\n        return items.concat(attrItems);\n    }, []);\n}\n//# sourceMappingURL=legend.js.map","import { __assign } from \"tslib\";\nimport { each } from '@antv/util';\nimport { point, line, interval } from '../../../adaptor/geometries';\nimport { pick, deepAssign } from '../../../utils';\nimport { isLine, isColumn } from './option';\n/**\n * \n * @param params\n */\nexport function drawSingleGeometry(params) {\n    var options = params.options, chart = params.chart;\n    var geometryOption = options.geometryOption;\n    var isStack = geometryOption.isStack, color = geometryOption.color, seriesField = geometryOption.seriesField, groupField = geometryOption.groupField, isGroup = geometryOption.isGroup;\n    var FIELD_KEY = ['xField', 'yField'];\n    if (isLine(geometryOption)) {\n        // \n        line(deepAssign({}, params, {\n            options: __assign(__assign(__assign({}, pick(options, FIELD_KEY)), geometryOption), { line: {\n                    color: geometryOption.color,\n                    style: geometryOption.lineStyle,\n                } }),\n        }));\n        // \n        point(deepAssign({}, params, {\n            options: __assign(__assign(__assign({}, pick(options, FIELD_KEY)), geometryOption), { point: geometryOption.point && __assign({ color: color, shape: 'circle' }, geometryOption.point) }),\n        }));\n        // adjust\n        var adjust_1 = [];\n        if (isGroup) {\n            adjust_1.push({\n                type: 'dodge',\n                dodgeBy: groupField || seriesField,\n                customOffset: 0,\n            });\n        }\n        if (isStack) {\n            adjust_1.push({\n                type: 'stack',\n            });\n        }\n        if (adjust_1.length) {\n            each(chart.geometries, function (g) {\n                g.adjust(adjust_1);\n            });\n        }\n    }\n    if (isColumn(geometryOption)) {\n        interval(deepAssign({}, params, {\n            options: __assign(__assign(__assign({}, pick(options, FIELD_KEY)), geometryOption), { widthRatio: geometryOption.columnWidthRatio, interval: __assign(__assign({}, pick(geometryOption, ['color'])), { style: geometryOption.columnStyle }) }),\n        }));\n    }\n    return params;\n}\n//# sourceMappingURL=geometry.js.map","import { size, valuesOfKey } from '@antv/util';\nimport { isBetween } from '../../../utils';\n/**\n *  View  slider\n *  View ,  Slider  change  View\n * @param { View } view \n * @param { number[] } sliderValue \n * @returns void\n */\nexport var renderSlider = function (view, sliderValue) {\n    var min = sliderValue[0], max = sliderValue[1];\n    var data = view.getOptions().data;\n    var xScale = view.getXScale();\n    var dataSize = size(data);\n    if (!xScale || !dataSize) {\n        return;\n    }\n    var isHorizontal = true;\n    var values = valuesOfKey(data, xScale.field);\n    var xValues = isHorizontal ? values : values.reverse();\n    var xTickCount = size(xValues);\n    var minIndex = Math.floor(min * (xTickCount - 1));\n    var maxIndex = Math.floor(max * (xTickCount - 1));\n    //  x \n    view.filter(xScale.field, function (value) {\n        var idx = xValues.indexOf(value);\n        return idx > -1 ? isBetween(idx, minIndex, maxIndex) : true;\n    });\n    view.render(true);\n};\n//# sourceMappingURL=render-sider.js.map","import { __assign } from \"tslib\";\nimport { each, findIndex, get, find, isObject, every, isEqual, isBoolean } from '@antv/util';\nimport { theme, animation as commonAnimation, scale, interaction as commonInteraction, annotation as commonAnnotation, limitInPlot as commonLimitInPlot, } from '../../adaptor/common';\nimport { percent } from '../../utils/transform/percent';\nimport { flow, deepAssign } from '../../utils';\nimport { findViewById } from '../../utils/view';\nimport { isColumn, getYAxisWithDefault, getGeometryOption, transformObjectToArray } from './util/option';\nimport { getViewLegendItems } from './util/legend';\nimport { drawSingleGeometry } from './util/geometry';\nimport { renderSlider } from './util/render-sider';\nimport { AxisType, DualAxesGeometry } from './types';\nimport { LEFT_AXES_VIEW, RIGHT_AXES_VIEW } from './constant';\n/**\n * transformOptions\n * 1. get index getOptions:  appendPaddingsyncView \n * 2. get adpator transformOption: deepAssign \n *    2.1 defaultoption tooltiplegend\n *    2.2  options\n *    2.3  options  options yaxisGeometryOption deepAssign  assign \n *\n * @param params\n */\nexport function transformOptions(params) {\n    var _a;\n    var options = params.options;\n    var _b = options.geometryOptions, geometryOptions = _b === void 0 ? [] : _b, xField = options.xField, yField = options.yField;\n    var allLine = every(geometryOptions, function (_a) {\n        var geometry = _a.geometry;\n        return geometry === DualAxesGeometry.Line || geometry === undefined;\n    });\n    return deepAssign({}, {\n        options: {\n            geometryOptions: [],\n            meta: (_a = {},\n                _a[xField] = {\n                    //  cat \n                    type: 'cat',\n                    // x  scale \n                    sync: true,\n                    // \n                    range: allLine ? [0, 1] : undefined,\n                },\n                _a),\n            tooltip: {\n                showMarkers: allLine,\n                //  crosshairs\n                showCrosshairs: allLine,\n                shared: true,\n                crosshairs: {\n                    type: 'x',\n                },\n            },\n            interactions: !allLine\n                ? [{ type: 'legend-visible-filter' }, { type: 'active-region' }]\n                : [{ type: 'legend-visible-filter' }],\n            legend: {\n                position: 'top-left',\n            },\n        },\n    }, params, {\n        options: {\n            // yAxis\n            yAxis: transformObjectToArray(yField, options.yAxis),\n            // geometryOptions\n            geometryOptions: [\n                getGeometryOption(xField, yField[0], geometryOptions[0]),\n                getGeometryOption(xField, yField[1], geometryOptions[1]),\n            ],\n            // annotations\n            annotations: transformObjectToArray(yField, options.annotations),\n        },\n    });\n}\n/**\n * \n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var xField = options.xField, yField = options.yField, geometryOptions = options.geometryOptions, data = options.data, tooltip = options.tooltip;\n    var SORT_MAP = { line: 0, column: 1 };\n    // id\n    var geometries = [\n        __assign(__assign({}, geometryOptions[0]), { id: LEFT_AXES_VIEW, data: data[0], yField: yField[0] }),\n        __assign(__assign({}, geometryOptions[1]), { id: RIGHT_AXES_VIEW, data: data[1], yField: yField[1] }),\n    ];\n    //  view \n    geometries\n        .sort(function (a, b) { return -SORT_MAP[a.geometry] + SORT_MAP[b.geometry]; })\n        .forEach(function (geometry) {\n        var id = geometry.id, data = geometry.data, yField = geometry.yField;\n        // \n        var isPercent = isColumn(geometry) && geometry.isPercent;\n        var formatData = isPercent ? percent(data, yField, xField, yField) : data;\n        var view = chart.createView({ id: id }).data(formatData);\n        var tooltipOptions = isPercent\n            ? __assign({ formatter: function (datum) { return ({\n                    name: datum[geometry.seriesField] || yField,\n                    value: (Number(datum[yField]) * 100).toFixed(2) + '%',\n                }); } }, tooltip) : tooltip;\n        // \n        drawSingleGeometry({\n            chart: view,\n            options: {\n                xField: xField,\n                yField: yField,\n                tooltip: tooltipOptions,\n                geometryOption: geometry,\n            },\n        });\n    });\n    return params;\n}\nexport function color(params) {\n    var _a;\n    var chart = params.chart, options = params.options;\n    var geometryOptions = options.geometryOptions;\n    var themeColor = ((_a = chart.getTheme()) === null || _a === void 0 ? void 0 : _a.colors10) || [];\n    var start = 0;\n    /*  geometry  color\n     * 1.  geometryOptions  color drawGeometry \n     * 2.   color Geometry group scales theme color 10 \n     * 3.  group  view  N   concat  themeColor\n     * 4.  Geometry group scales color\n     * 5.  view  g2\n     */\n    chart.once('beforepaint', function () {\n        each(geometryOptions, function (geometryOption, index) {\n            var view = findViewById(chart, index === 0 ? LEFT_AXES_VIEW : RIGHT_AXES_VIEW);\n            if (geometryOption.color)\n                return;\n            var groupScale = view.getGroupScales();\n            var count = get(groupScale, [0, 'values', 'length'], 1);\n            var color = themeColor.slice(start, start + count).concat(index === 0 ? [] : themeColor);\n            view.geometries.forEach(function (geometry) {\n                if (geometryOption.seriesField) {\n                    geometry.color(geometryOption.seriesField, color);\n                }\n                else {\n                    geometry.color(color[0]);\n                }\n            });\n            start += count;\n        });\n        chart.render(true);\n    });\n    return params;\n}\n/**\n * meta \n * @param params\n */\nexport function meta(params) {\n    var _a, _b;\n    var chart = params.chart, options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField;\n    scale((_a = {},\n        _a[xField] = xAxis,\n        _a[yField[0]] = yAxis[0],\n        _a))(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n    scale((_b = {},\n        _b[xField] = xAxis,\n        _b[yField[1]] = yAxis[1],\n        _b))(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n    return params;\n}\n/**\n * axis \n * @param params\n */\nexport function axis(params) {\n    var chart = params.chart, options = params.options;\n    var leftView = findViewById(chart, LEFT_AXES_VIEW);\n    var rightView = findViewById(chart, RIGHT_AXES_VIEW);\n    var xField = options.xField, yField = options.yField, xAxis = options.xAxis, yAxis = options.yAxis;\n    chart.axis(xField, false);\n    chart.axis(yField[0], false);\n    chart.axis(yField[1], false);\n    //  View\n    leftView.axis(xField, xAxis);\n    leftView.axis(yField[0], getYAxisWithDefault(yAxis[0], AxisType.Left));\n    //  Y \n    rightView.axis(xField, false);\n    rightView.axis(yField[1], getYAxisWithDefault(yAxis[1], AxisType.Right));\n    return params;\n}\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params) {\n    var chart = params.chart, options = params.options;\n    var tooltip = options.tooltip;\n    var leftView = findViewById(chart, LEFT_AXES_VIEW);\n    var rightView = findViewById(chart, RIGHT_AXES_VIEW);\n    // tooltip  getDefaultOption  undefined\n    chart.tooltip(tooltip);\n    //  view  tooltip shared  interaction active-region \n    // view  chart  shared\n    leftView.tooltip({\n        shared: true,\n    });\n    rightView.tooltip({\n        shared: true,\n    });\n    return params;\n}\n/**\n * interaction \n * @param params\n */\nexport function interaction(params) {\n    var chart = params.chart;\n    commonInteraction(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n    commonInteraction(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n    return params;\n}\n/**\n * annotation \n * @param params\n */\nexport function annotation(params) {\n    var chart = params.chart, options = params.options;\n    var annotations = options.annotations;\n    var a1 = get(annotations, [0]);\n    var a2 = get(annotations, [1]);\n    commonAnnotation(a1)(deepAssign({}, params, {\n        chart: findViewById(chart, LEFT_AXES_VIEW),\n        options: {\n            annotations: a1,\n        },\n    }));\n    commonAnnotation(a2)(deepAssign({}, params, {\n        chart: findViewById(chart, RIGHT_AXES_VIEW),\n        options: {\n            annotations: a2,\n        },\n    }));\n    return params;\n}\nexport function animation(params) {\n    var chart = params.chart;\n    commonAnimation(deepAssign({}, params, { chart: findViewById(chart, LEFT_AXES_VIEW) }));\n    commonAnimation(deepAssign({}, params, { chart: findViewById(chart, RIGHT_AXES_VIEW) }));\n    return params;\n}\n/**\n *  limitInPlot\n * @param params\n */\nexport function limitInPlot(params) {\n    var chart = params.chart, options = params.options;\n    var yAxis = options.yAxis;\n    commonLimitInPlot(deepAssign({}, params, {\n        chart: findViewById(chart, LEFT_AXES_VIEW),\n        options: {\n            yAxis: yAxis[0],\n        },\n    }));\n    commonLimitInPlot(deepAssign({}, params, {\n        chart: findViewById(chart, RIGHT_AXES_VIEW),\n        options: {\n            yAxis: yAxis[1],\n        },\n    }));\n    return params;\n}\n/**\n * legend \n *  custom-\n * @param params\n */\nexport function legend(params) {\n    var chart = params.chart, options = params.options;\n    var legend = options.legend, geometryOptions = options.geometryOptions, yField = options.yField, data = options.data;\n    var leftView = findViewById(chart, LEFT_AXES_VIEW);\n    var rightView = findViewById(chart, RIGHT_AXES_VIEW);\n    if (legend === false) {\n        chart.legend(false);\n    }\n    else if (isObject(legend) && legend.custom === true) {\n        chart.legend(legend);\n    }\n    else {\n        // \n        chart.once('beforepaint', function () {\n            var leftItems = data[0].length\n                ? getViewLegendItems({\n                    view: leftView,\n                    geometryOption: geometryOptions[0],\n                    yField: yField[0],\n                    legend: legend,\n                })\n                : [];\n            var rightItems = data[1].length\n                ? getViewLegendItems({\n                    view: rightView,\n                    geometryOption: geometryOptions[1],\n                    yField: yField[1],\n                    legend: legend,\n                })\n                : [];\n            chart.legend(deepAssign({}, legend, {\n                custom: true,\n                // todo \n                // @ts-ignore\n                items: leftItems.concat(rightItems),\n            }));\n        });\n        // \n        chart.on('legend-item:click', function (evt) {\n            var delegateObject = get(evt, 'gEvent.delegateObject', {});\n            if (delegateObject && delegateObject.item) {\n                var _a = delegateObject.item, field_1 = _a.value, isGeometry = _a.isGeometry, viewId = _a.viewId;\n                // geometry  view.changeVisible\n                if (isGeometry) {\n                    var idx = findIndex(yField, function (yF) { return yF === field_1; });\n                    if (idx > -1) {\n                        var geometries = get(findViewById(chart, viewId), 'geometries');\n                        each(geometries, function (g) {\n                            g.changeVisible(!delegateObject.item.unchecked);\n                        });\n                    }\n                }\n                else {\n                    var legendItem_1 = get(chart.getController('legend'), 'option.items', []);\n                    // \n                    each(chart.views, function (view) {\n                        // \n                        var groupScale = view.getGroupScales();\n                        each(groupScale, function (scale) {\n                            if (scale.values && scale.values.indexOf(field_1) > -1) {\n                                view.filter(scale.field, function (value) {\n                                    var curLegendItem = find(legendItem_1, function (item) { return item.value === value; });\n                                    //  legend  unchecked \n                                    return !curLegendItem.unchecked;\n                                });\n                            }\n                        });\n                        chart.render(true);\n                    });\n                }\n            }\n        });\n    }\n    return params;\n}\n/**\n * slider \n * @param params\n */\nexport function slider(params) {\n    var chart = params.chart, options = params.options;\n    var slider = options.slider;\n    var leftView = findViewById(chart, LEFT_AXES_VIEW);\n    var rightView = findViewById(chart, RIGHT_AXES_VIEW);\n    if (slider) {\n        //  View\n        leftView.option('slider', slider);\n        //  slider   View \n        leftView.on('slider:valuechanged', function (evt) {\n            var _a = evt.event, value = _a.value, originValue = _a.originValue;\n            if (isEqual(value, originValue)) {\n                return;\n            }\n            renderSlider(rightView, value);\n        });\n        chart.once('afterpaint', function () {\n            // \n            if (!isBoolean(slider)) {\n                var start = slider.start, end = slider.end;\n                if (start || end) {\n                    renderSlider(rightView, [start, end]);\n                }\n            }\n        });\n    }\n    return params;\n}\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // transformOptions color legend  beforepaint\n    return flow(transformOptions, geometry, meta, axis, limitInPlot, tooltip, interaction, annotation, theme, animation, color, legend, slider)(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __extends } from \"tslib\";\nimport { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { adaptor } from './adaptor';\nvar DualAxes = /** @class */ (function (_super) {\n    __extends(DualAxes, _super);\n    function DualAxes() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /** :  */\n        _this.type = 'dual-axes';\n        return _this;\n    }\n    /**\n     *   \n     */\n    DualAxes.prototype.getDefaultOptions = function () {\n        return deepAssign({}, _super.prototype.getDefaultOptions.call(this), {\n            yAxis: [],\n            syncViewPadding: true,\n        });\n    };\n    /**\n     * \n     */\n    DualAxes.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return DualAxes;\n}(Plot));\nexport { DualAxes };\n//# sourceMappingURL=index.js.map","import { __assign, __rest } from \"tslib\";\nimport { tooltip, interaction, animation, theme, scale, annotation, legend } from '../../adaptor/common';\nimport { area, point, line } from '../../adaptor/geometries';\nimport { findGeometry, flow, transformLabel, deepAssign } from '../../utils';\n/**\n * geometry \n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var data = options.data, lineStyle = options.lineStyle, color = options.color, pointOptions = options.point, areaOptions = options.area;\n    chart.data(data);\n    //   geometry\n    var primary = deepAssign({}, params, {\n        options: {\n            line: {\n                style: lineStyle,\n                color: color,\n            },\n            point: pointOptions\n                ? __assign({ color: color }, pointOptions) : pointOptions,\n            area: areaOptions\n                ? __assign({ color: color }, areaOptions) : areaOptions,\n            // label  geometry adaptor label adaptor \n            label: undefined,\n        },\n    });\n    //  Geometry\n    var second = deepAssign({}, primary, {\n        options: {\n            tooltip: false,\n        },\n    });\n    line(primary);\n    point(second);\n    area(second);\n    return params;\n}\n/**\n * meta \n * @param params\n */\nfunction meta(params) {\n    var _a;\n    var options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField;\n    return flow(scale((_a = {},\n        _a[xField] = xAxis,\n        _a[yField] = yAxis,\n        _a)))(params);\n}\n/**\n * coord \n * @param params\n */\nfunction coord(params) {\n    var chart = params.chart, options = params.options;\n    var radius = options.radius, startAngle = options.startAngle, endAngle = options.endAngle;\n    chart.coordinate('polar', {\n        radius: radius,\n        startAngle: startAngle,\n        endAngle: endAngle,\n    });\n    return params;\n}\n/**\n * axis \n * @param params\n */\nfunction axis(params) {\n    var chart = params.chart, options = params.options;\n    var xField = options.xField, xAxis = options.xAxis, yField = options.yField, yAxis = options.yAxis;\n    chart.axis(xField, xAxis);\n    chart.axis(yField, yAxis);\n    return params;\n}\n/**\n * label \n * @param params\n */\nfunction label(params) {\n    var chart = params.chart, options = params.options;\n    var label = options.label, yField = options.yField;\n    var geometry = findGeometry(chart, 'line');\n    if (!label) {\n        geometry.label(false);\n    }\n    else {\n        var callback = label.callback, cfg = __rest(label, [\"callback\"]);\n        geometry.label({\n            fields: [yField],\n            callback: callback,\n            cfg: transformLabel(cfg),\n        });\n    }\n    return params;\n}\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // flow  G2 API\n    return flow(geometry, meta, theme, coord, axis, legend, tooltip, label, interaction, animation, annotation())(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __assign, __extends } from \"tslib\";\nimport { registerComponentController, Util, TooltipController, Action } from '@antv/g2';\nimport { isNil } from '@antv/util';\nvar RadarTooltipController = /** @class */ (function (_super) {\n    __extends(RadarTooltipController, _super);\n    function RadarTooltipController() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Object.defineProperty(RadarTooltipController.prototype, \"name\", {\n        get: function () {\n            return 'radar-tooltip';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    RadarTooltipController.prototype.getTooltipItems = function (point) {\n        var _a = this.getTooltipCfg(), shared = _a.shared, cfgTitle = _a.title;\n        var hintItems = _super.prototype.getTooltipItems.call(this, point);\n        if (hintItems.length > 0) {\n            var geometry_1 = this.view.geometries[0];\n            var dataArray = geometry_1.dataArray;\n            var title_1 = hintItems[0].name;\n            var result_1 = [];\n            dataArray.forEach(function (mappingData) {\n                mappingData.forEach(function (d) {\n                    var items = Util.getTooltipItems(d, geometry_1);\n                    var item = items[0];\n                    if (!shared && item && item.name === title_1) {\n                        var displayTitle = isNil(cfgTitle) ? title_1 : cfgTitle;\n                        result_1.push(__assign(__assign({}, item), { name: item.title, title: displayTitle }));\n                    }\n                    else if (shared && item) {\n                        var displayTitle = isNil(cfgTitle) ? item.name || title_1 : cfgTitle;\n                        result_1.push(__assign(__assign({}, item), { name: item.title, title: displayTitle }));\n                    }\n                });\n            });\n            return result_1;\n        }\n        return [];\n    };\n    return RadarTooltipController;\n}(TooltipController));\nexport { RadarTooltipController };\nregisterComponentController('radar-tooltip', RadarTooltipController);\n/**\n *  tooltip  action\n */\nvar RadarTooltipAction = /** @class */ (function (_super) {\n    __extends(RadarTooltipAction, _super);\n    function RadarTooltipAction() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    RadarTooltipAction.prototype.init = function () {\n        var view = this.context.view;\n        view.removeInteraction('tooltip');\n    };\n    RadarTooltipAction.prototype.show = function () {\n        var event = this.context.event;\n        var controller = this.getTooltipController();\n        controller.showTooltip({ x: event.x, y: event.y });\n    };\n    RadarTooltipAction.prototype.hide = function () {\n        var controller = this.getTooltipController();\n        controller.hideTooltip();\n    };\n    RadarTooltipAction.prototype.getTooltipController = function () {\n        var view = this.context.view;\n        return view.getController('radar-tooltip');\n    };\n    return RadarTooltipAction;\n}(Action));\nexport { RadarTooltipAction };\n//# sourceMappingURL=radar-tooltip-action.js.map","import { registerAction, registerInteraction } from '@antv/g2';\nimport { RadarTooltipAction } from './radar-tooltip-action';\nregisterAction('radar-tooltip', RadarTooltipAction);\nregisterInteraction('radar-tooltip', {\n    start: [{ trigger: 'plot:mousemove', action: 'radar-tooltip:show' }],\n    end: [{ trigger: 'plot:mouseleave', action: 'radar-tooltip:hide' }],\n});\n//# sourceMappingURL=index.js.map","import { __extends } from \"tslib\";\nimport { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { adaptor } from './adaptor';\nimport './interactions';\nvar Radar = /** @class */ (function (_super) {\n    __extends(Radar, _super);\n    function Radar() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'radar';\n        return _this;\n    }\n    /**\n     * @override\n     * @param data\n     */\n    Radar.prototype.changeData = function (data) {\n        this.updateOption({ data: data });\n        this.chart.changeData(data);\n    };\n    /**\n     *   \n     */\n    Radar.prototype.getDefaultOptions = function () {\n        return deepAssign({}, _super.prototype.getDefaultOptions.call(this), {\n            xAxis: {\n                label: {\n                    offset: 15,\n                },\n                grid: {\n                    line: {\n                        type: 'line',\n                    },\n                },\n            },\n            yAxis: {\n                grid: {\n                    line: {\n                        type: 'circle',\n                    },\n                },\n            },\n            legend: {\n                position: 'top',\n            },\n            tooltip: {\n                shared: true,\n                showCrosshairs: true,\n                showMarkers: true,\n                crosshairs: {\n                    type: 'xy',\n                    line: {\n                        style: {\n                            stroke: '#565656',\n                            lineDash: [4],\n                        },\n                    },\n                    follow: true,\n                },\n            },\n        });\n    };\n    /**\n     *   \n     */\n    Radar.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Radar;\n}(Plot));\nexport { Radar };\n//# sourceMappingURL=index.js.map","import { __assign, __extends } from \"tslib\";\nimport { Chart } from '@antv/g2';\nimport { each } from '@antv/util';\nimport EE from '@antv/event-emitter';\nimport { bind } from 'size-sensor';\nimport { getContainerSize, getAllElements, deepAssign, pick } from '../utils';\nvar SOURCE_ATTRIBUTE_NAME = 'data-chart-source-type';\n/** plot  */\nexport var PLOT_CONTAINER_OPTIONS = [\n    'padding',\n    'appendPadding',\n    'renderer',\n    'pixelRatio',\n    'syncViewPadding',\n    'supportCSSTransform',\n    'limitInPlot',\n];\n/**\n *  plot \n */\nvar Plot = /** @class */ (function (_super) {\n    __extends(Plot, _super);\n    function Plot(container, options) {\n        var _this = _super.call(this) || this;\n        /** plot  */\n        _this.type = 'base';\n        _this.container = typeof container === 'string' ? document.getElementById(container) : container;\n        _this.options = deepAssign({}, _this.getDefaultOptions(), options);\n        _this.createG2();\n        _this.bindEvents();\n        return _this;\n    }\n    /**\n     *  options \n     * \n     */\n    Plot.getDefaultOptions = function () {\n        return {\n            renderer: 'canvas',\n            xAxis: {\n                nice: true,\n                label: {\n                    autoRotate: false,\n                    autoHide: { type: 'equidistance', cfg: { minGap: 6 } },\n                },\n            },\n            yAxis: {\n                nice: true,\n                label: {\n                    autoHide: true,\n                    autoRotate: false,\n                },\n            },\n            animation: true,\n        };\n    };\n    /**\n     *  G2 \n     */\n    Plot.prototype.createG2 = function () {\n        var _a = this.options, width = _a.width, height = _a.height;\n        this.chart = new Chart(__assign(__assign(__assign({ container: this.container, autoFit: false }, this.getChartSize(width, height)), { localRefresh: false }), pick(this.options, PLOT_CONTAINER_OPTIONS)));\n        //  G2\n        this.container.setAttribute(SOURCE_ATTRIBUTE_NAME, 'G2Plot');\n    };\n    /**\n     *  chart  width  height\n     * @param width\n     * @param height\n     */\n    Plot.prototype.getChartSize = function (width, height) {\n        var chartSize = getContainerSize(this.container);\n        return { width: width || chartSize.width || 400, height: height || chartSize.height || 400 };\n    };\n    /**\n     *  G2 \n     */\n    Plot.prototype.bindEvents = function () {\n        var _this = this;\n        if (this.chart) {\n            this.chart.on('*', function (e) {\n                if (e === null || e === void 0 ? void 0 : e.type) {\n                    _this.emit(e.type, e);\n                }\n            });\n        }\n    };\n    /**\n     *  options \n     * \n     */\n    Plot.prototype.getDefaultOptions = function () {\n        return Plot.getDefaultOptions();\n    };\n    /**\n     * \n     */\n    Plot.prototype.render = function () {\n        //  G2 \n        this.chart.clear();\n        //  view  view  options  legend legend \n        //  chart  options \n        //  G2 view.clear  options  resetOptions\n        // #1684  view  custom legend\n        // @ts-ignore\n        this.chart.options = {\n            data: [],\n            animate: true,\n        };\n        this.chart.views = []; //  views\n        //  adaptor\n        this.execAdaptor();\n        // \n        this.chart.render();\n        // \n        this.bindSizeSensor();\n    };\n    /**\n     * : \n     * @param options\n     */\n    Plot.prototype.update = function (options) {\n        this.updateOption(options);\n        this.render();\n    };\n    /**\n     * \n     * @param options\n     */\n    Plot.prototype.updateOption = function (options) {\n        this.options = deepAssign({}, this.options, options);\n    };\n    /**\n     * \n     * @param type  'active' | 'inactive' | 'selected' \n     * @param conditions \n     * @param status  true\n     */\n    Plot.prototype.setState = function (type, condition, status) {\n        if (status === void 0) { status = true; }\n        var elements = getAllElements(this.chart);\n        each(elements, function (ele) {\n            if (condition(ele.getData())) {\n                ele.setState(type, status);\n            }\n        });\n    };\n    /**\n     * \n     */\n    Plot.prototype.getStates = function () {\n        var elements = getAllElements(this.chart);\n        var stateObjects = [];\n        each(elements, function (element) {\n            var data = element.getData();\n            var states = element.getStates();\n            each(states, function (state) {\n                stateObjects.push({ data: data, state: state, geometry: element.geometry, element: element });\n            });\n        });\n        return stateObjects;\n    };\n    /**\n     * \n     * @override\n     * @param options\n     */\n    Plot.prototype.changeData = function (data) {\n        // @ts-ignore\n        this.update({ data: data });\n        // TODO: \n        // this.chart.changeData(data);\n    };\n    /**\n     * \n     * @param width\n     * @param height\n     */\n    Plot.prototype.changeSize = function (width, height) {\n        this.chart.changeSize(width, height);\n    };\n    /**\n     * \n     */\n    Plot.prototype.destroy = function () {\n        //  size-sensor \n        this.unbindSizeSensor();\n        // G2 \n        this.chart.destroy();\n        // \n        this.off();\n        this.container.removeAttribute(SOURCE_ATTRIBUTE_NAME);\n    };\n    /**\n     *  adaptor \n     */\n    Plot.prototype.execAdaptor = function () {\n        var adaptor = this.getSchemaAdaptor();\n        var _a = this.options, padding = _a.padding, appendPadding = _a.appendPadding;\n        //  padding\n        this.chart.padding = padding;\n        //  appendPadding\n        this.chart.appendPadding = appendPadding;\n        //  G2 API\n        adaptor({\n            chart: this.chart,\n            options: this.options,\n        });\n    };\n    /**\n     * \n     */\n    Plot.prototype.triggerResize = function () {\n        this.chart.forceFit();\n    };\n    /**\n     *  dom \n     */\n    Plot.prototype.bindSizeSensor = function () {\n        var _this = this;\n        if (this.unbind) {\n            return;\n        }\n        var _a = this.options.autoFit, autoFit = _a === void 0 ? true : _a;\n        if (autoFit) {\n            this.unbind = bind(this.container, function () {\n                // \n                var _a = getContainerSize(_this.container), width = _a.width, height = _a.height;\n                //  resize \n                if (width !== _this.chart.width || height !== _this.chart.height) {\n                    _this.triggerResize();\n                }\n            });\n        }\n    };\n    /**\n     * \n     */\n    Plot.prototype.unbindSizeSensor = function () {\n        if (this.unbind) {\n            this.unbind();\n            this.unbind = undefined;\n        }\n    };\n    return Plot;\n}(EE));\nexport { Plot };\n//# sourceMappingURL=plot.js.map","import { __rest } from \"tslib\";\nimport { filter, isObject, isArray } from '@antv/util';\nimport { flow, findGeometry, log, LEVEL, transformLabel, deepAssign } from '../../utils';\nimport { tooltip, interaction, animation, theme, scale, annotation, state } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\n/**\n * geometry \n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var data = options.data, sectorStyle = options.sectorStyle, color = options.color;\n    // \n    chart.data(data);\n    flow(interval)(deepAssign({}, params, {\n        options: {\n            marginRatio: 1,\n            interval: {\n                style: sectorStyle,\n                color: color,\n            },\n        },\n    }));\n    return params;\n}\n/**\n * label \n * @param params\n */\nfunction label(params) {\n    var chart = params.chart, options = params.options;\n    var label = options.label, xField = options.xField;\n    var geometry = findGeometry(chart, 'interval');\n    // label  false  label\n    if (label === false) {\n        geometry.label(false);\n    }\n    else if (isObject(label)) {\n        var callback = label.callback, fields = label.fields, cfg = __rest(label, [\"callback\", \"fields\"]);\n        var offset = cfg.offset;\n        var layout = cfg.layout;\n        //  label  shape  'limit-in-shape' \n        //  label \n        if (offset === undefined || offset >= 0) {\n            layout = layout ? (isArray(layout) ? layout : [layout]) : [];\n            cfg.layout = filter(layout, function (v) { return v.type !== 'limit-in-shape'; });\n            cfg.layout.length || delete cfg.layout;\n        }\n        geometry.label({\n            fields: fields || [xField],\n            callback: callback,\n            cfg: transformLabel(cfg),\n        });\n    }\n    else {\n        log(LEVEL.WARN, label === null, 'the label option must be an Object.');\n        geometry.label({ fields: [xField] });\n    }\n    return params;\n}\n/**\n * legend \n * @param params\n */\nexport function legend(params) {\n    var chart = params.chart, options = params.options;\n    var legend = options.legend, seriesField = options.seriesField;\n    if (legend === false) {\n        chart.legend(false);\n    }\n    else if (seriesField) {\n        chart.legend(seriesField, legend);\n    }\n    return params;\n}\n/**\n * coord \n * @param params\n */\nfunction coordinate(params) {\n    var chart = params.chart, options = params.options;\n    var radius = options.radius, innerRadius = options.innerRadius, startAngle = options.startAngle, endAngle = options.endAngle;\n    chart.coordinate({\n        type: 'polar',\n        cfg: {\n            radius: radius,\n            innerRadius: innerRadius,\n            startAngle: startAngle,\n            endAngle: endAngle,\n        },\n    });\n    return params;\n}\n/**\n * meta \n * @param params\n */\nfunction meta(params) {\n    var _a;\n    var options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField;\n    return flow(scale((_a = {},\n        _a[xField] = xAxis,\n        _a[yField] = yAxis,\n        _a)))(params);\n}\n/**\n * axis \n * @param params\n */\nfunction axis(params) {\n    var chart = params.chart, options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField;\n    //  falsy \n    if (!xAxis) {\n        chart.axis(xField, false);\n    }\n    else {\n        chart.axis(xField, xAxis);\n    }\n    if (!yAxis) {\n        chart.axis(yField, false);\n    }\n    else {\n        chart.axis(yField, yAxis);\n    }\n    return params;\n}\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // flow  G2 API\n    flow(geometry, meta, label, coordinate, axis, legend, tooltip, interaction, animation, theme, annotation(), state)(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __extends } from \"tslib\";\nimport { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { adaptor } from './adaptor';\nvar Rose = /** @class */ (function (_super) {\n    __extends(Rose, _super);\n    function Rose() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'rose';\n        return _this;\n    }\n    /**\n     * @override\n     * @param data\n     */\n    Rose.prototype.changeData = function (data) {\n        this.updateOption({ data: data });\n        this.chart.changeData(data);\n    };\n    /**\n     *  options \n     */\n    Rose.prototype.getDefaultOptions = function () {\n        return deepAssign({}, _super.prototype.getDefaultOptions.call(this), {\n            xAxis: false,\n            yAxis: false,\n            legend: {\n                position: 'right',\n                offsetX: -10,\n            },\n            sectorStyle: {\n                stroke: '#fff',\n                lineWidth: 1,\n            },\n            label: {\n                layout: {\n                    type: 'limit-in-shape',\n                },\n            },\n            tooltip: {\n                shared: true,\n                showMarkers: false,\n            },\n            interactions: [{ type: 'active-region' }],\n        });\n    };\n    /**\n     *   \n     */\n    Rose.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return Rose;\n}(Plot));\nexport { Rose };\n//# sourceMappingURL=index.js.map","import { __assign } from \"tslib\";\nimport { get } from '@antv/util';\nexport var DEFAULT_TOOLTIP_OPTIONS = {\n    showTitle: false,\n    shared: true,\n    showMarkers: false,\n    customContent: function (x, data) { return \"\" + get(data, [0, 'data', 'y'], 0); },\n    containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n    itemTpl: '<span>{value}</span>',\n    domStyles: {\n        'g2-tooltip': {\n            padding: '2px 4px',\n            fontSize: '10px',\n        },\n    },\n};\n/**\n * \n */\nexport var DEFAULT_OPTIONS = {\n    appendPadding: 2,\n    tooltip: __assign({}, DEFAULT_TOOLTIP_OPTIONS),\n    animation: {},\n};\n//# sourceMappingURL=constants.js.map","import { __extends } from \"tslib\";\nimport { Plot } from '../../core/plot';\nimport { getTinyData } from '../tiny-line/utils';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nvar TinyColumn = /** @class */ (function (_super) {\n    __extends(TinyColumn, _super);\n    function TinyColumn() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'tiny-column';\n        return _this;\n    }\n    /**\n     * \n     * @static \n     */\n    TinyColumn.getDefaultOptions = function () {\n        return DEFAULT_OPTIONS;\n    };\n    /**\n     * @override\n     * @param data\n     */\n    TinyColumn.prototype.changeData = function (data) {\n        this.updateOption({ data: data });\n        var _a = this, chart = _a.chart, options = _a.options;\n        meta({ chart: chart, options: options });\n        chart.changeData(getTinyData(data));\n    };\n    TinyColumn.prototype.getDefaultOptions = function () {\n        return TinyColumn.getDefaultOptions();\n    };\n    /**\n     *   \n     */\n    TinyColumn.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return TinyColumn;\n}(Plot));\nexport { TinyColumn };\n//# sourceMappingURL=index.js.map","import { __assign } from \"tslib\";\nimport { DEFAULT_TOOLTIP_OPTIONS } from '../tiny-line/constants';\n/**\n * \n */\nexport var DEFAULT_OPTIONS = {\n    appendPadding: 2,\n    tooltip: __assign({}, DEFAULT_TOOLTIP_OPTIONS),\n    // \n    color: 'l(90) 0:#E5EDFE 1:#ffffff',\n    areaStyle: {\n        fillOpacity: 0.6,\n    },\n    line: {\n        size: 1,\n        color: '#5B8FF9',\n    },\n    animation: {},\n};\n//# sourceMappingURL=constants.js.map","import { __extends } from \"tslib\";\nimport { Plot } from '../../core/plot';\nimport { getTinyData } from '../tiny-line/utils';\nimport { adaptor, meta } from './adaptor';\nimport { DEFAULT_OPTIONS } from './constants';\nvar TinyArea = /** @class */ (function (_super) {\n    __extends(TinyArea, _super);\n    function TinyArea() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'tiny-area';\n        return _this;\n    }\n    /**\n     * \n     * @static \n     */\n    TinyArea.getDefaultOptions = function () {\n        return DEFAULT_OPTIONS;\n    };\n    /**\n     * @override\n     * @param data\n     */\n    TinyArea.prototype.changeData = function (data) {\n        this.updateOption({ data: data });\n        var _a = this, chart = _a.chart, options = _a.options;\n        meta({ chart: chart, options: options });\n        chart.changeData(getTinyData(data));\n    };\n    TinyArea.prototype.getDefaultOptions = function () {\n        return TinyArea.getDefaultOptions();\n    };\n    /**\n     *   \n     */\n    TinyArea.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return TinyArea;\n}(Plot));\nexport { TinyArea };\n//# sourceMappingURL=index.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SensorTabIndex = exports.SensorClassName = exports.SizeSensorId = void 0;\n\n/**\n * Created by hustcc on 18/6/9.\n * Contract: i@hust.cc\n */\nvar SizeSensorId = 'size-sensor-id';\nexports.SizeSensorId = SizeSensorId;\nvar SensorClassName = 'size-sensor-object';\nexports.SensorClassName = SensorClassName;\nvar SensorTabIndex = '-1';\nexports.SensorTabIndex = SensorTabIndex;","/**\n *  Chart  id  View\n * @param chart\n * @param id\n */\nexport function findViewById(chart, id) {\n    return chart.views.find(function (view) { return view.id === id; });\n}\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getViews(view) {\n    var parent = view.parent;\n    return parent ? parent.views : [];\n}\n/**\n *  view  views\n * @param view  view\n * @returns  views\n * @ignore\n */\nexport function getSilbingViews(view) {\n    return getViews(view).filter(function (sub) { return sub !== view; });\n}\n//# sourceMappingURL=view.js.map","import { MultiView } from './plots/multi-view';\n/**  */\nexport var Stage;\n(function (Stage) {\n    Stage[\"DEV\"] = \"DEV\";\n    Stage[\"BETA\"] = \"BETA\";\n    Stage[\"STABLE\"] = \"STABLE\";\n})(Stage || (Stage = {}));\n/**\n * \n * @param stage\n */\nexport function notice(stage, plotType) {\n    console.warn(stage === Stage.DEV\n        ? \"Plot '\" + plotType + \"' is in DEV stage, just give us issues.\"\n        : stage === Stage.BETA\n            ? \"Plot '\" + plotType + \"' is in BETA stage, DO NOT use it in production env.\"\n            : stage === Stage.STABLE\n                ? \"Plot '\" + plotType + \"' is in STABLE stage, import it by \\\"import { \" + plotType + \" } from '@antv/g2plot'\\\".\"\n                : 'invalid Stage type.');\n}\n/**\n * \n */\nvar Lab = /** @class */ (function () {\n    function Lab() {\n    }\n    Object.defineProperty(Lab, \"MultiView\", {\n        get: function () {\n            notice(Stage.STABLE, 'MultiView');\n            return MultiView;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Lab;\n}());\nexport { Lab };\n//# sourceMappingURL=lab.js.map","import { get } from '@antv/util';\n/**\n *  tooltip \n * @param tooltip\n * @param defaultFields\n */\nexport function getTooltipMapping(tooltip, defaultFields) {\n    if (tooltip === false) {\n        return {\n            fields: false,\n        };\n    }\n    var fields = get(tooltip, 'fields');\n    var formatter = get(tooltip, 'formatter');\n    if (formatter && !fields) {\n        fields = defaultFields;\n    }\n    return {\n        fields: fields,\n        formatter: formatter,\n    };\n}\n//# sourceMappingURL=tooltip.js.map","import { isNumber } from '@antv/util';\n/**\n * \n * @param prev\n * @param next\n */\nexport function conversionTagFormatter(prev, next) {\n    if (!isNumber(prev) || !isNumber(next)) {\n        return '-';\n    }\n    if (prev === next) {\n        return '100%';\n    }\n    if (prev === 0) {\n        return '';\n    }\n    if (next === 0) {\n        return '-';\n    }\n    return ((100 * next) / prev).toFixed(2) + \"%\";\n}\n//# sourceMappingURL=conversion.js.map","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","export var FIRST_AXES_VIEW = 'first-axes-view';\nexport var SECOND_AXES_VIEW = 'second-axes-view';\n/**  key  */\nexport var SERIES_FIELD_KEY = 'series-field-key';\n//# sourceMappingURL=constant.js.map","import { groupBy } from '@antv/util';\n/**\n * bidirectional-bar ,  SERIES_FIELD_KEY \n * @param xField\n * @param yField\n * @param data\n */\nexport function transformData(xField, yField, seriesField, data, reverse) {\n    var hopeData = [];\n    yField.forEach(function (d) {\n        data.forEach(function (k) {\n            var _a;\n            var obj = (_a = {},\n                _a[xField] = k[xField],\n                _a[seriesField] = d,\n                _a[d] = k[d],\n                _a);\n            hopeData.push(obj);\n        });\n    });\n    var groupData = Object.values(groupBy(hopeData, seriesField));\n    var _a = groupData[0], data1 = _a === void 0 ? [] : _a, _b = groupData[1], data2 = _b === void 0 ? [] : _b;\n    return reverse ? [data1.reverse(), data2.reverse()] : [data1, data2];\n}\n/**\n * \n * @param layout\n */\nexport function isHorizontal(layout) {\n    return layout !== 'vertical';\n}\n/**\n *  view  padding \n * @param chart\n * @param views\n * @param p\n */\nexport function syncViewPadding(chart, views, p) {\n    var v1 = views[0], v2 = views[1];\n    var p1 = v1.autoPadding;\n    var p2 = v2.autoPadding;\n    var _a = chart.__axisPosition, layout = _a.layout, position = _a.position;\n    //  layout\n    if (isHorizontal(layout) && position === 'top') {\n        /**\n         *  v1  left  v2 right  v1 \n         * position top  v1  0\n         */\n        v1.autoPadding = p.instance(p1.top, 0, p1.bottom, p1.left);\n        v2.autoPadding = p.instance(p2.top, p1.left, p2.bottom, 0);\n    }\n    if (isHorizontal(layout) && position === 'bottom') {\n        /**\n         *  v1  left  v2 right  v1 \n         * position bottom  v1 v1 right = right / 2  v2 left = right / 2\n         * + 5  \n         */\n        v1.autoPadding = p.instance(p1.top, p1.right / 2 + 5, p1.bottom, p1.left);\n        v2.autoPadding = p.instance(p2.top, p2.right, p2.bottom, p1.right / 2 + 5);\n    }\n    if (!isHorizontal(layout) && position === 'bottom') {\n        /**\n         *  v1  left  v2 left  left \n         * position bottom  v1 v1 bottom = bottom / 2  v2 top = bottom / 2\n         * + 5  \n         */\n        var left = p1.left >= p2.left ? p1.left : p2.left;\n        v1.autoPadding = p.instance(p1.top, p1.right, p1.bottom / 2 + 5, left);\n        v2.autoPadding = p.instance(p1.bottom / 2 + 5, p2.right, p2.bottom, left);\n    }\n    // position  top \n    if (!isHorizontal(layout) && position === 'top') {\n        var left = p1.left >= p2.left ? p1.left : p2.left;\n        v1.autoPadding = p.instance(p1.top, p1.right, 0, left);\n        v2.autoPadding = p.instance(0, p2.right, p1.top, left);\n    }\n}\n//# sourceMappingURL=utils.js.map","import { __assign, __rest } from \"tslib\";\nimport { get, keys } from '@antv/util';\nimport { tooltip, interaction as commonInteraction, animation as commonAnimation, theme as commonTheme, limitInPlot as commonLimitInPlot, scale, } from '../../adaptor/common';\nimport { interval } from '../../adaptor/geometries';\nimport { flow, findViewById, findGeometry, transformLabel, deepAssign } from '../../utils';\nimport { FIRST_AXES_VIEW, SECOND_AXES_VIEW, SERIES_FIELD_KEY } from './constant';\nimport { isHorizontal, transformData } from './utils';\n/**\n * geometry \n * @param params\n */\nfunction geometry(params) {\n    var chart = params.chart, options = params.options;\n    var data = options.data, xField = options.xField, yField = options.yField, color = options.color, barStyle = options.barStyle, widthRatio = options.widthRatio, legend = options.legend, layout = options.layout;\n    // \n    var groupData = transformData(xField, yField, SERIES_FIELD_KEY, data, isHorizontal(layout));\n    //  view  legend\n    if (legend) {\n        chart.legend(SERIES_FIELD_KEY, legend);\n    }\n    else if (legend === false) {\n        chart.legend(false);\n    }\n    //  view\n    var firstView;\n    var secondView;\n    var firstViewData = groupData[0], secondViewData = groupData[1];\n    // \n    if (isHorizontal(layout)) {\n        firstView = chart.createView({\n            region: {\n                start: { x: 0, y: 0 },\n                end: { x: 0.5, y: 1 },\n            },\n            id: FIRST_AXES_VIEW,\n        });\n        firstView.coordinate().transpose().reflect('x');\n        secondView = chart.createView({\n            region: {\n                start: { x: 0.5, y: 0 },\n                end: { x: 1, y: 1 },\n            },\n            id: SECOND_AXES_VIEW,\n        });\n        secondView.coordinate().transpose();\n        // @: ( transform )\n        firstView.data(firstViewData);\n        secondView.data(secondViewData);\n    }\n    else {\n        // \n        firstView = chart.createView({\n            region: {\n                start: { x: 0, y: 0 },\n                end: { x: 1, y: 0.5 },\n            },\n            id: FIRST_AXES_VIEW,\n        });\n        secondView = chart.createView({\n            region: {\n                start: { x: 0, y: 0.5 },\n                end: { x: 1, y: 1 },\n            },\n            id: SECOND_AXES_VIEW,\n        });\n        secondView\n            .coordinate()\n            .reflect('y')\n            .rotate(Math.PI * 0); // \n        firstView.data(firstViewData);\n        secondView.data(secondViewData);\n    }\n    var left = deepAssign({}, params, {\n        chart: firstView,\n        options: {\n            widthRatio: widthRatio,\n            xField: xField,\n            yField: yField[0],\n            seriesField: SERIES_FIELD_KEY,\n            interval: {\n                color: color,\n                style: barStyle,\n            },\n        },\n    });\n    interval(left);\n    var right = deepAssign({}, params, {\n        chart: secondView,\n        options: {\n            xField: xField,\n            yField: yField[1],\n            seriesField: SERIES_FIELD_KEY,\n            widthRatio: widthRatio,\n            interval: {\n                color: color,\n                style: barStyle,\n            },\n        },\n    });\n    interval(right);\n    return params;\n}\n/**\n * meta \n * -  SERIES_FIELD_KEY  yField \n * @param params\n */\nfunction meta(params) {\n    var _a, _b, _c;\n    var options = params.options, chart = params.chart;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField;\n    var firstView = findViewById(chart, FIRST_AXES_VIEW);\n    var secondView = findViewById(chart, SECOND_AXES_VIEW);\n    var aliasMap = {};\n    keys((options === null || options === void 0 ? void 0 : options.meta) || {}).map(function (metaKey) {\n        if (get(options === null || options === void 0 ? void 0 : options.meta, [metaKey, 'alias'])) {\n            aliasMap[metaKey] = options.meta[metaKey].alias;\n        }\n    });\n    chart.scale((_a = {},\n        _a[SERIES_FIELD_KEY] = {\n            sync: true,\n            formatter: function (v) {\n                return get(aliasMap, v, v);\n            },\n        },\n        _a));\n    scale((_b = {},\n        _b[xField] = xAxis,\n        _b[yField[0]] = yAxis[yField[0]],\n        _b))(deepAssign({}, params, { chart: firstView }));\n    scale((_c = {},\n        _c[xField] = xAxis,\n        _c[yField[1]] = yAxis[yField[1]],\n        _c))(deepAssign({}, params, { chart: secondView }));\n    return params;\n}\n/**\n * axis \n * @param params\n */\nfunction axis(params) {\n    var chart = params.chart, options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField, layout = options.layout;\n    var firstView = findViewById(chart, FIRST_AXES_VIEW);\n    var secondView = findViewById(chart, SECOND_AXES_VIEW);\n    //  view axis \n    secondView.axis(xField, false);\n    //  false  firstView \n    if (xAxis === false) {\n        firstView.axis(xField, false);\n    }\n    else {\n        firstView.axis(xField, __assign({ \n            //  firstView \n            position: isHorizontal(layout) ? 'top' : 'bottom' }, xAxis));\n    }\n    if (yAxis === false) {\n        firstView.axis(yField[0], false);\n        secondView.axis(yField[1], false);\n    }\n    else {\n        firstView.axis(yField[0], yAxis[yField[0]]);\n        secondView.axis(yField[1], yAxis[yField[1]]);\n    }\n    /**\n     *  syncViewPadding\n     *  TODO  g2 View  setter \n     */\n    //@ts-ignore\n    chart.__axisPosition = {\n        position: firstView.getOptions().axes[xField].position,\n        layout: layout,\n    };\n    return params;\n}\n/**\n * interaction \n * @param params\n */\nexport function interaction(params) {\n    var chart = params.chart;\n    commonInteraction(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n    commonInteraction(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n    return params;\n}\n/**\n * limitInPlot\n * @param params\n */\nexport function limitInPlot(params) {\n    var chart = params.chart, options = params.options;\n    var yField = options.yField, yAxis = options.yAxis;\n    commonLimitInPlot(deepAssign({}, params, {\n        chart: findViewById(chart, FIRST_AXES_VIEW),\n        options: {\n            yAxis: yAxis[yField[0]],\n        },\n    }));\n    commonLimitInPlot(deepAssign({}, params, {\n        chart: findViewById(chart, SECOND_AXES_VIEW),\n        options: {\n            yAxis: yAxis[yField[1]],\n        },\n    }));\n    return params;\n}\n/**\n * theme\n * @param params\n */\nexport function theme(params) {\n    var chart = params.chart;\n    commonTheme(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n    commonTheme(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n    return params;\n}\n/**\n * animation\n * @param params\n */\nexport function animation(params) {\n    var chart = params.chart;\n    commonAnimation(deepAssign({}, params, { chart: findViewById(chart, FIRST_AXES_VIEW) }));\n    commonAnimation(deepAssign({}, params, { chart: findViewById(chart, SECOND_AXES_VIEW) }));\n    return params;\n}\n/**\n * label \n * @param params\n */\nfunction label(params) {\n    var chart = params.chart, options = params.options;\n    var label = options.label, yField = options.yField;\n    var firstView = findViewById(chart, FIRST_AXES_VIEW);\n    var secondView = findViewById(chart, SECOND_AXES_VIEW);\n    var leftGeometry = findGeometry(firstView, 'interval');\n    var rightGeometry = findGeometry(secondView, 'interval');\n    if (!label) {\n        leftGeometry.label(false);\n        rightGeometry.label(false);\n    }\n    else {\n        var callback = label.callback, cfg = __rest(label, [\"callback\"]);\n        leftGeometry.label({\n            fields: [yField[0]],\n            callback: callback,\n            cfg: transformLabel(cfg),\n        });\n        rightGeometry.label({\n            fields: [yField[1]],\n            callback: callback,\n            cfg: transformLabel(cfg),\n        });\n    }\n    return params;\n}\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // flow  G2 API\n    return flow(geometry, meta, axis, limitInPlot, theme, label, tooltip, interaction, animation)(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __extends } from \"tslib\";\nimport { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { adaptor } from './adaptor';\nimport { syncViewPadding } from './utils';\nvar BidirectionalBar = /** @class */ (function (_super) {\n    __extends(BidirectionalBar, _super);\n    function BidirectionalBar() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'bidirectional-bar';\n        return _this;\n    }\n    BidirectionalBar.prototype.getDefaultOptions = function () {\n        return deepAssign({}, _super.prototype.getDefaultOptions.call(this), {\n            syncViewPadding: syncViewPadding,\n        });\n    };\n    /**\n     * \n     */\n    BidirectionalBar.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    return BidirectionalBar;\n}(Plot));\nexport { BidirectionalBar };\n//# sourceMappingURL=index.js.map","import { __assign } from \"tslib\";\nimport { get } from '@antv/util';\nexport var X_FIELD = 'x';\nexport var Y_FIELD = 'y';\nexport var DEFAULT_TOOLTIP_OPTIONS = {\n    showTitle: false,\n    shared: true,\n    showMarkers: false,\n    customContent: function (x, data) { return \"\" + get(data, [0, 'data', 'y'], 0); },\n    containerTpl: '<div class=\"g2-tooltip\"><div class=\"g2-tooltip-list\"></div></div>',\n    itemTpl: '<span>{value}</span>',\n    domStyles: {\n        'g2-tooltip': {\n            padding: '2px 4px',\n            fontSize: '10px',\n        },\n    },\n    showCrosshairs: true,\n    crosshairs: {\n        type: 'x',\n    },\n};\n/**\n * \n */\nexport var DEFAULT_OPTIONS = {\n    appendPadding: 2,\n    tooltip: __assign({}, DEFAULT_TOOLTIP_OPTIONS),\n    animation: {},\n};\n//# sourceMappingURL=constants.js.map","import { __extends } from \"tslib\";\nimport { deepAssign } from '../utils';\nimport { Plot } from '../core/plot';\n/**\n *  G2Plot  G2Plot \n * 1. \n * 2. \n * 3. \n * \n *\n * \n *\n * ```ts\n * import { P } from '@antv/g2plot';\n * import { GeoWorldMap, GeoWorldMapOptions } from 'g2plot-geo-world-map';\n *\n * const plot = new P('container', {\n *   geoJson: '',\n *   longitude: '',\n *   latitude: '',\n * }, GeoWorldMap, defaultOptions);\n *\n * plot.render();\n * ```\n */\nvar P = /** @class */ (function (_super) {\n    __extends(P, _super);\n    /**\n     *  adaptor \n     * @param container\n     * @param options\n     * @param adaptor\n     * @param defaultOptions\n     */\n    function P(container, options, adaptor, defaultOptions) {\n        var _this = _super.call(this, container, deepAssign({}, defaultOptions, options)) || this;\n        /**  any plot */\n        _this.type = 'g2-plot';\n        _this.defaultOptions = defaultOptions;\n        _this.adaptor = adaptor;\n        return _this;\n    }\n    /**\n     * \n     */\n    P.prototype.getDefaultOptions = function () {\n        return this.defaultOptions;\n    };\n    /**\n     * \n     */\n    P.prototype.getSchemaAdaptor = function () {\n        return this.adaptor;\n    };\n    return P;\n}(Plot));\nexport { P };\n//# sourceMappingURL=index.js.map","import { clamp, get, size } from '@antv/util';\nimport { RANGE_VALUE, RANGE_TYPE, PERCENT } from './constants';\n/**\n *  range  data \n * @param range\n * @param key\n */\nexport function processRangeData(range) {\n    return (range\n        //  stack \n        .map(function (r, idx) {\n        var _a;\n        return _a = {}, _a[RANGE_VALUE] = r - (range[idx - 1] || 0), _a[RANGE_TYPE] = \"\" + idx, _a;\n    })\n        //  0 \n        .filter(function (d) { return !!d[RANGE_VALUE]; }));\n}\n/**\n *   \n * @param percent\n */\nexport function getIndicatorData(percent) {\n    var _a;\n    return [(_a = {}, _a[PERCENT] = clamp(percent, 0, 1), _a)];\n}\n/**\n *  \n * @param percent\n * @param range\n */\nexport function getRangeData(percent, range) {\n    var ticks = get(range, ['ticks'], []);\n    var clampTicks = size(ticks) ? ticks : [0, clamp(percent, 0, 1), 1];\n    return processRangeData(clampTicks);\n}\n//# sourceMappingURL=utils.js.map","import roundNode from \"./treemap/round.js\";\nimport treemapDice from \"./treemap/dice.js\";\n\nexport default function() {\n  var dx = 1,\n      dy = 1,\n      padding = 0,\n      round = false;\n\n  function partition(root) {\n    var n = root.height + 1;\n    root.x0 =\n    root.y0 = padding;\n    root.x1 = dx;\n    root.y1 = dy / n;\n    root.eachBefore(positionNode(dy, n));\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(dy, n) {\n    return function(node) {\n      if (node.children) {\n        treemapDice(node, node.x0, dy * (node.depth + 1) / n, node.x1, dy * (node.depth + 2) / n);\n      }\n      var x0 = node.x0,\n          y0 = node.y0,\n          x1 = node.x1 - padding,\n          y1 = node.y1 - padding;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      node.x0 = x0;\n      node.y0 = y0;\n      node.x1 = x1;\n      node.y1 = y1;\n    };\n  }\n\n  partition.round = function(x) {\n    return arguments.length ? (round = !!x, partition) : round;\n  };\n\n  partition.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], partition) : [dx, dy];\n  };\n\n  partition.padding = function(x) {\n    return arguments.length ? (padding = +x, partition) : padding;\n  };\n\n  return partition;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getReplaceAttrs = exports.getPolygonCentroid = exports.getAngle = exports.getArcPath = exports.getSectorPath = exports.polarToCartesian = void 0;\nvar util_1 = require(\"@antv/util\");\n// \nfunction getPointsBox(points) {\n    if (util_1.isEmpty(points)) {\n        return null;\n    }\n    var minX = points[0].x;\n    var maxX = points[0].x;\n    var minY = points[0].y;\n    var maxY = points[0].y;\n    util_1.each(points, function (point) {\n        minX = minX > point.x ? point.x : minX;\n        maxX = maxX < point.x ? point.x : maxX;\n        minY = minY > point.y ? point.y : minY;\n        maxY = maxY < point.y ? point.y : maxY;\n    });\n    return {\n        minX: minX,\n        maxX: maxX,\n        minY: minY,\n        maxY: maxY,\n        centerX: (minX + maxX) / 2,\n        centerY: (minY + maxY) / 2,\n    };\n}\n/**\n * @ignore\n * \n * @param centerX\n * @param centerY\n * @param radius\n * @param angleInRadian\n * @returns\n */\nfunction polarToCartesian(centerX, centerY, radius, angleInRadian) {\n    return {\n        x: centerX + radius * Math.cos(angleInRadian),\n        y: centerY + radius * Math.sin(angleInRadian),\n    };\n}\nexports.polarToCartesian = polarToCartesian;\n/**\n * @ignore\n *  path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nfunction getSectorPath(centerX, centerY, radius, startAngleInRadian, endAngleInRadian, innerRadius) {\n    if (innerRadius === void 0) { innerRadius = 0; }\n    var start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n    var end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n    var innerStart = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian);\n    var innerEnd = polarToCartesian(centerX, centerY, innerRadius, endAngleInRadian);\n    if (endAngleInRadian - startAngleInRadian === Math.PI * 2) {\n        // \n        var middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n        var innerMiddlePoint = polarToCartesian(centerX, centerY, innerRadius, startAngleInRadian + Math.PI);\n        var circlePathCommands = [\n            ['M', start.x, start.y],\n            ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n            ['A', radius, radius, 0, 1, 1, end.x, end.y],\n            ['M', innerStart.x, innerStart.y],\n        ];\n        if (innerRadius) {\n            circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerMiddlePoint.x, innerMiddlePoint.y]);\n            circlePathCommands.push(['A', innerRadius, innerRadius, 0, 1, 0, innerEnd.x, innerEnd.y]);\n        }\n        circlePathCommands.push(['M', start.x, start.y]);\n        circlePathCommands.push(['Z']);\n        return circlePathCommands;\n    }\n    var arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n    var sectorPathCommands = [\n        ['M', start.x, start.y],\n        ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n        ['L', innerEnd.x, innerEnd.y],\n    ];\n    if (innerRadius) {\n        sectorPathCommands.push(['A', innerRadius, innerRadius, 0, arcSweep, 0, innerStart.x, innerStart.y]);\n    }\n    sectorPathCommands.push(['L', start.x, start.y]);\n    sectorPathCommands.push(['Z']);\n    return sectorPathCommands;\n}\nexports.getSectorPath = getSectorPath;\n/**\n * @ignore\n * Gets arc path\n * @param centerX\n * @param centerY\n * @param radius\n * @param startAngleInRadian\n * @param endAngleInRadian\n * @returns\n */\nfunction getArcPath(centerX, centerY, radius, startAngleInRadian, endAngleInRadian) {\n    var start = polarToCartesian(centerX, centerY, radius, startAngleInRadian);\n    var end = polarToCartesian(centerX, centerY, radius, endAngleInRadian);\n    if (util_1.isNumberEqual(endAngleInRadian - startAngleInRadian, Math.PI * 2)) {\n        var middlePoint = polarToCartesian(centerX, centerY, radius, startAngleInRadian + Math.PI);\n        return [\n            ['M', start.x, start.y],\n            ['A', radius, radius, 0, 1, 1, middlePoint.x, middlePoint.y],\n            ['A', radius, radius, 0, 1, 1, start.x, start.y],\n            ['A', radius, radius, 0, 1, 0, middlePoint.x, middlePoint.y],\n            ['A', radius, radius, 0, 1, 0, start.x, start.y],\n            ['Z'],\n        ];\n    }\n    var arcSweep = endAngleInRadian - startAngleInRadian <= Math.PI ? 0 : 1;\n    return [\n        ['M', start.x, start.y],\n        ['A', radius, radius, 0, arcSweep, 1, end.x, end.y],\n    ];\n}\nexports.getArcPath = getArcPath;\n/**\n * @ignore\n *  points \n * @param shapeModel\n * @param coordinate\n * @returns\n */\nfunction getAngle(shapeModel, coordinate) {\n    var points = shapeModel.points;\n    var box = getPointsBox(points);\n    var endAngle;\n    var startAngle;\n    var coordStartAngle = coordinate.startAngle, coordEndAngle = coordinate.endAngle;\n    var diffAngle = coordEndAngle - coordStartAngle;\n    if (coordinate.isTransposed) {\n        endAngle = box.maxY * diffAngle;\n        startAngle = box.minY * diffAngle;\n    }\n    else {\n        endAngle = box.maxX * diffAngle;\n        startAngle = box.minX * diffAngle;\n    }\n    endAngle += coordStartAngle;\n    startAngle += coordStartAngle;\n    return {\n        startAngle: startAngle,\n        endAngle: endAngle,\n    };\n}\nexports.getAngle = getAngle;\n/**\n * @ignore\n * : https://en.wikipedia.org/wiki/Centroid#Of_a_polygon\n */\nfunction getPolygonCentroid(xs, ys) {\n    if (util_1.isNumber(xs) && util_1.isNumber(ys)) {\n        // xs  ys \n        return [xs, ys];\n    }\n    var i = -1;\n    var x = 0;\n    var y = 0;\n    var former;\n    var current = xs.length - 1;\n    var diff;\n    var k = 0;\n    while (++i < xs.length) {\n        former = current;\n        current = i;\n        k += diff = xs[former] * ys[current] - xs[current] * ys[former];\n        x += (xs[former] + xs[current]) * diff;\n        y += (ys[former] + ys[current]) * diff;\n    }\n    k *= 3;\n    return [x / k, y / k];\n}\nexports.getPolygonCentroid = getPolygonCentroid;\n/**\n * @ignore\n *  undefined\n */\nfunction getReplaceAttrs(sourceShape, targetShape) {\n    var originAttrs = sourceShape.attr();\n    var newAttrs = targetShape.attr();\n    util_1.each(originAttrs, function (v, k) {\n        if (newAttrs[k] === undefined) {\n            newAttrs[k] = undefined;\n        }\n    });\n    return newAttrs;\n}\nexports.getReplaceAttrs = getReplaceAttrs;\n//# sourceMappingURL=graphics.js.map","import { __rest } from \"tslib\";\nimport { isFunction, isObject } from '@antv/util';\nimport { findGeometry } from '../../utils';\nimport { flow, transformLabel } from '../../utils';\nimport { DEFAULT_COLORS } from '../../constant';\nimport { tooltip, interaction, animation, theme, scale, annotation, state } from '../../adaptor/common';\n/**\n * \n * @param params\n */\nfunction field(params) {\n    var chart = params.chart, options = params.options;\n    var data = options.data, type = options.type, reflect = options.reflect, xField = options.xField, yField = options.yField, colorField = options.colorField, sizeField = options.sizeField, sizeRatio = options.sizeRatio, shape = options.shape, color = options.color;\n    chart.data(data);\n    var geometry;\n    if (type === 'density') {\n        geometry = chart.heatmap().position(xField + \"*\" + yField);\n    }\n    else {\n        geometry = chart.polygon().position(xField + \"*\" + yField);\n    }\n    if (colorField) {\n        geometry.color(colorField, color || DEFAULT_COLORS.GRADIENT.CONTINUOUS);\n    }\n    if (reflect) {\n        chart.coordinate().reflect(reflect);\n    }\n    /**\n     * The ratio between the actual size and the max available size, must be in range `[0,1]`.\n     *\n     * If the `sizeRatio` attribute is undefined or it exceeds the range,\n     * `checkedSizeRatio` would be set to 1 as default.\n     */\n    var checkedSizeRatio = 1;\n    if (sizeRatio || sizeRatio === 0) {\n        if (!shape && !sizeField) {\n            console.warn('sizeRatio is not in effect: Must define shape or sizeField first');\n        }\n        else if (sizeRatio < 0 || sizeRatio > 1) {\n            console.warn('sizeRatio is not in effect: It must be a number in [0,1]');\n        }\n        else {\n            checkedSizeRatio = sizeRatio;\n        }\n    }\n    // when it has to change shape from original rect\n    if (shape) {\n        // just to change shape in cell\n        if (!sizeField) {\n            geometry.shape('', function () {\n                return [shape, 1, checkedSizeRatio];\n            });\n        }\n        // specific shape in different size\n        if (sizeField) {\n            var field_1 = data.map(function (row) { return row[sizeField]; });\n            var min_1 = Math.min.apply(Math, field_1);\n            var max_1 = Math.max.apply(Math, field_1);\n            geometry.shape(sizeField, function (v) {\n                return [shape, (v - min_1) / (max_1 - min_1), checkedSizeRatio];\n            });\n        }\n    }\n    return params;\n}\n/**\n * meta \n * @param params\n */\nfunction meta(params) {\n    var _a;\n    var options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField;\n    return flow(scale((_a = {},\n        _a[xField] = xAxis,\n        _a[yField] = yAxis,\n        _a)))(params);\n}\n/**\n * axis \n * @param params\n */\nfunction axis(params) {\n    var chart = params.chart, options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField, yField = options.yField;\n    //  false \n    if (xAxis === false) {\n        chart.axis(xField, false);\n    }\n    else {\n        chart.axis(xField, xAxis);\n    }\n    if (yAxis === false) {\n        chart.axis(yField, false);\n    }\n    else {\n        chart.axis(yField, yAxis);\n    }\n    return params;\n}\n/**\n * legend \n * @param params\n */\nfunction legend(params) {\n    var chart = params.chart, options = params.options;\n    var legend = options.legend, colorField = options.colorField;\n    if (legend) {\n        chart.legend(colorField, legend);\n    }\n    else {\n        chart.legend(false);\n    }\n    return params;\n}\n/**\n * \n * @param params\n */\nfunction style(params) {\n    var chart = params.chart, options = params.options;\n    var xField = options.xField, yField = options.yField, colorField = options.colorField, sizeField = options.sizeField, heatmapStyle = options.heatmapStyle;\n    var geometry = chart.geometries[0];\n    if (heatmapStyle && geometry) {\n        if (isFunction(heatmapStyle)) {\n            geometry.style(xField + \"*\" + yField + \"*\" + colorField + \"*\" + sizeField, heatmapStyle);\n        }\n        else if (isObject(heatmapStyle)) {\n            geometry.style(heatmapStyle);\n        }\n    }\n    return params;\n}\n/**\n * \n * @param params\n */\nfunction label(params) {\n    var chart = params.chart, options = params.options;\n    var label = options.label, colorField = options.colorField, type = options.type;\n    var geometry = findGeometry(chart, type === 'density' ? 'heatmap' : 'polygon');\n    if (!label) {\n        geometry.label(false);\n    }\n    else if (colorField) {\n        var callback = label.callback, cfg = __rest(label, [\"callback\"]);\n        geometry.label({\n            fields: [colorField],\n            callback: callback,\n            cfg: transformLabel(cfg),\n        });\n    }\n    return params;\n}\n/**\n * \n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // flow  G2 API\n    return flow(field, meta, theme, axis, legend, tooltip, style, label, annotation(), interaction, animation, state)(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __assign } from \"tslib\";\nimport { registerShape } from '@antv/g2';\nregisterShape('polygon', 'circle', {\n    draw: function (cfg, group) {\n        var _a, _b;\n        var cx = cfg.x;\n        var cy = cfg.y;\n        var points = this.parsePoints(cfg.points);\n        var width = Math.abs(points[2].x - points[1].x);\n        var height = Math.abs(points[1].y - points[0].y);\n        var maxRadius = Math.min(width, height) / 2;\n        var value = Number(cfg.shape[1]);\n        var sizeRatio = Number(cfg.shape[2]);\n        var radiusRatio = Math.sqrt(sizeRatio);\n        var radius = maxRadius * radiusRatio * Math.sqrt(value);\n        var fill = ((_a = cfg.style) === null || _a === void 0 ? void 0 : _a.fill) || cfg.color || ((_b = cfg.defaultStyle) === null || _b === void 0 ? void 0 : _b.fill);\n        var polygon = group.addShape('circle', {\n            attrs: __assign(__assign(__assign({ x: cx, y: cy, r: radius }, cfg.defaultStyle), cfg.style), { fill: fill }),\n        });\n        return polygon;\n    },\n});\n//# sourceMappingURL=circle.js.map","import { __assign } from \"tslib\";\nimport { registerShape } from '@antv/g2';\nregisterShape('polygon', 'square', {\n    draw: function (cfg, group) {\n        var _a, _b;\n        var cx = cfg.x;\n        var cy = cfg.y;\n        var points = this.parsePoints(cfg.points);\n        var width = Math.abs(points[2].x - points[1].x);\n        var height = Math.abs(points[1].y - points[0].y);\n        var maxSideLength = Math.min(width, height);\n        var value = Number(cfg.shape[1]);\n        var sizeRatio = Number(cfg.shape[2]);\n        var lenRatio = Math.sqrt(sizeRatio);\n        var sideLength = maxSideLength * lenRatio * Math.sqrt(value);\n        var fill = ((_a = cfg.style) === null || _a === void 0 ? void 0 : _a.fill) || cfg.color || ((_b = cfg.defaultStyle) === null || _b === void 0 ? void 0 : _b.fill);\n        var polygon = group.addShape('rect', {\n            attrs: __assign(__assign(__assign({ x: cx - sideLength / 2, y: cy - sideLength / 2, width: sideLength, height: sideLength }, cfg.defaultStyle), cfg.style), { fill: fill }),\n        });\n        return polygon;\n    },\n});\n//# sourceMappingURL=square.js.map","import { __extends } from \"tslib\";\nimport { Plot } from '../../core/plot';\nimport { deepAssign } from '../../utils';\nimport { adaptor } from './adaptor';\n// registered shapes\nimport './shapes/circle';\nimport './shapes/square';\nvar Heatmap = /** @class */ (function (_super) {\n    __extends(Heatmap, _super);\n    function Heatmap() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'heatmap';\n        return _this;\n    }\n    /**\n     * \n     */\n    Heatmap.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    Heatmap.prototype.getDefaultOptions = function () {\n        return deepAssign({}, _super.prototype.getDefaultOptions.call(this), {\n            type: 'polygon',\n            legend: false,\n            xAxis: {\n                tickLine: null,\n                line: null,\n                grid: {\n                    alignTick: false,\n                    line: {\n                        style: {\n                            lineWidth: 1,\n                            lineDash: null,\n                            stroke: '#f0f0f0',\n                        },\n                    },\n                },\n            },\n            yAxis: {\n                grid: {\n                    alignTick: false,\n                    line: {\n                        style: {\n                            lineWidth: 1,\n                            lineDash: null,\n                            stroke: '#f0f0f0',\n                        },\n                    },\n                },\n            },\n        });\n    };\n    return Heatmap;\n}(Plot));\nexport { Heatmap };\n//# sourceMappingURL=index.js.map","export var Y_FIELD = '$$stock-range$$';\nexport var TREND_FIELD = 'trend';\nexport var TREND_UP = 'up';\nexport var TREND_DOWN = 'down';\nexport var TREND_COLOR = ['#ef5350', '#26a69a'];\n/** tooltip  */\nexport var DEFAULT_TOOLTIP_OPTIONS = {\n    showTitle: false,\n    showMarkers: false,\n    showCrosshairs: true,\n    shared: true,\n    crosshairs: {\n        type: 'xy',\n        follow: true,\n    },\n    itemTpl: '<li class=\"g2-tooltip-list-item\" data-index={index}>' +\n        '<span style=\"background-color:{color};\" class=\"g2-tooltip-marker\"></span>' +\n        '{name}{value}</li>',\n};\n//# sourceMappingURL=constant.js.map","import { isArray, map } from '@antv/util';\nimport { TREND_FIELD, TREND_DOWN, TREND_UP, Y_FIELD } from './constant';\n/**\n * @desc \n * @param data\n * @param yField\n */\nexport function getStockData(data, yField) {\n    return map(data, function (obj) {\n        if (isArray(yField)) {\n            var open_1 = yField[0], close_1 = yField[1], high = yField[2], low = yField[3];\n            obj[TREND_FIELD] = obj[open_1] <= obj[close_1] ? TREND_UP : TREND_DOWN;\n            obj[Y_FIELD] = [obj[open_1], obj[close_1], obj[high], obj[low]];\n        }\n        return obj;\n    });\n}\n//# sourceMappingURL=utils.js.map","import { isObject } from '@antv/util';\nimport { interaction, animation, theme } from '../../adaptor/common';\nimport { findGeometry, flow, pick, deepAssign } from '../../utils';\nimport { AXIS_META_CONFIG_KEYS } from '../../constant';\nimport { Y_FIELD, TREND_FIELD, TREND_UP, TREND_DOWN, TREND_COLOR } from './constant';\nimport { getStockData } from './utils';\n/**\n * \n * @param params\n */\nfunction field(params) {\n    var chart = params.chart, options = params.options;\n    var xField = options.xField, yField = options.yField;\n    var data = options.data;\n    chart.data(getStockData(data, yField));\n    var geometry = chart.schema().position(xField + \"*\" + Y_FIELD).shape('candle');\n    geometry.color(TREND_FIELD, TREND_COLOR);\n    return params;\n}\n/**\n * meta \n * @param params\n */\nexport function meta(params) {\n    var _a, _b;\n    var chart = params.chart, options = params.options;\n    var meta = options.meta, xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField;\n    var baseMeta = (_a = {},\n        _a[xField] = {\n            type: 'timeCat',\n            tickCount: 6,\n        },\n        _a[TREND_FIELD] = {\n            values: [TREND_UP, TREND_DOWN],\n        },\n        _a);\n    var scales = deepAssign(baseMeta, meta, (_b = {},\n        _b[xField] = pick(xAxis, AXIS_META_CONFIG_KEYS),\n        _b[Y_FIELD] = pick(yAxis, AXIS_META_CONFIG_KEYS),\n        _b));\n    chart.scale(scales);\n    return params;\n}\n/**\n * axis \n * @param params\n */\nexport function axis(params) {\n    var chart = params.chart, options = params.options;\n    var xAxis = options.xAxis, yAxis = options.yAxis, xField = options.xField;\n    //  false \n    if (xAxis === false) {\n        chart.axis(xField, false);\n    }\n    else {\n        chart.axis(xField, xAxis);\n    }\n    if (yAxis === false) {\n        chart.axis(Y_FIELD, false);\n    }\n    else {\n        chart.axis(Y_FIELD, yAxis);\n    }\n    return params;\n}\n/**\n * tooltip \n * @param params\n */\nexport function tooltip(params) {\n    var chart = params.chart, options = params.options;\n    var xField = options.xField, yField = options.yField, _a = options.meta, meta = _a === void 0 ? {} : _a, _b = options.tooltip, tooltip = _b === void 0 ? {} : _b;\n    var geometry = findGeometry(chart, 'schema');\n    var open = yField[0], close = yField[1], high = yField[2], low = yField[3];\n    var openAlias = meta[open] ? meta[open].alias || open : open;\n    var closeAlias = meta[close] ? meta[close].alias || open : close;\n    var highAlias = meta[high] ? meta[high].alias || high : high;\n    var lowAlias = meta[low] ? meta[low].alias || low : low;\n    // geomtooltip\n    var baseGeomTooltipOptions = {\n        fields: [xField, open, close, high, low],\n        callback: function (xFieldVal, openVal, closeVal, highVal, lowVal) {\n            var tpl = {\n                name: xFieldVal,\n                value: \"\\n          <br><span data-label=\\\"\" + openAlias + \"\\\" style=\\\"padding-left: 16px\\\">\" + openAlias + \"\\uFF1A\" + openVal + \"</span>\\n          <br><span data-label=\\\"\" + closeAlias + \"\\\" style=\\\"padding-left: 16px\\\">\" + closeAlias + \"\\uFF1A\" + closeVal + \"</span>\\n          <br><span data-label=\\\"\" + highAlias + \"\\\" style=\\\"padding-left: 16px\\\">\" + highAlias + \"\\uFF1A\" + highVal + \"</span>\\n          <br><span data-label=\\\"\" + lowAlias + \"\\\" style=\\\"padding-left: 16px\\\">\" + lowAlias + \"\\uFF1A\" + lowVal + \"</span>\\n        \",\n            };\n            return tpl;\n        },\n    };\n    // charttooltip text\n    var baseTooltipOptions = {\n        crosshairs: {\n            text: function (type, defaultContent, items) {\n                var tooltipCrosshairsText = { position: 'end' };\n                if (type === 'x') {\n                    var item = items[0];\n                    tooltipCrosshairsText['content'] = item ? item.data[xField] : defaultContent;\n                }\n                else {\n                    tooltipCrosshairsText['content'] = defaultContent;\n                }\n                return tooltipCrosshairsText;\n            },\n        },\n    };\n    if (tooltip) {\n        if (isObject(tooltip)) {\n            var chartTooltip = deepAssign({}, baseTooltipOptions, tooltip);\n            chart.tooltip(chartTooltip);\n            geometry.tooltip(baseGeomTooltipOptions);\n        }\n    }\n    else {\n        chart.tooltip(false);\n    }\n    return params;\n}\n/**\n * legend \n * @param params\n */\nexport function legend(params) {\n    var chart = params.chart, options = params.options;\n    var legend = options.legend;\n    if (legend) {\n        chart.legend(TREND_FIELD, legend);\n    }\n    else if (legend === false) {\n        chart.legend(false);\n    }\n    return params;\n}\n/**\n * K\n * @param chart\n * @param options\n */\nexport function adaptor(params) {\n    // flow  G2 API\n    flow(field, meta, theme, axis, tooltip, legend, interaction, animation)(params);\n}\n//# sourceMappingURL=adaptor.js.map","import { __extends } from \"tslib\";\nimport { deepAssign } from '../../utils';\nimport { Plot } from '../../core/plot';\nimport { adaptor } from './adaptor';\nimport { getStockData } from './utils';\nimport { DEFAULT_TOOLTIP_OPTIONS } from './constant';\nvar Stock = /** @class */ (function (_super) {\n    __extends(Stock, _super);\n    function Stock() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        /**  */\n        _this.type = 'stock';\n        return _this;\n    }\n    /**\n     * \n     *  g2/g2plot    -->         -->          -->      \n     */\n    Stock.prototype.getDefaultOptions = function () {\n        return deepAssign({}, _super.prototype.getDefaultOptions.call(this), {\n            //  tooltips\n            tooltip: DEFAULT_TOOLTIP_OPTIONS,\n            interactions: [{ type: 'tooltip' }],\n            legend: {\n                position: 'top-left',\n            },\n        });\n    };\n    /**\n     *   \n     */\n    Stock.prototype.getSchemaAdaptor = function () {\n        return adaptor;\n    };\n    /**\n     * @override\n     * @param data\n     */\n    Stock.prototype.changeData = function (data) {\n        this.updateOption({ data: data });\n        var yField = this.options.yField;\n        this.chart.changeData(getStockData(data, yField));\n    };\n    return Stock;\n}(Plot));\nexport { Stock };\n//# sourceMappingURL=index.js.map"],"sourceRoot":""}