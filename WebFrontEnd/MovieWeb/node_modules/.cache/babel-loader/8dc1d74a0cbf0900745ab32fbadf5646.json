{"remainingRequest":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\babel-loader\\lib\\index.js!D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\src\\components\\user\\MsgPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\src\\components\\user\\MsgPage.vue","mtime":1614425024941},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovSmF2YVdlYkFwcGxpY2F0aW9uL1dlYkZyb250RW5kL01vdmllV2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovSmF2YVdlYkFwcGxpY2F0aW9uL1dlYkZyb250RW5kL01vdmllV2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgTW9kYWwgfSBmcm9tICdhbnQtZGVzaWduLXZ1ZSc7CmltcG9ydCB7IG1hcE11dGF0aW9ucywgbWFwU3RhdGUgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiBbJ29wZW4nLCAnbXNnTnVtJ10sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF90aGlzLmFsbE1zZygpOwoKICAgICAgICAgICAgICBpZiAoX3RoaXMubXNnTnVtID09IDApIHsKICAgICAgICAgICAgICAgIF90aGlzLmJ1dHRvblVzYWJsZSA9IGZhbHNlOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBfdGhpcy5idXR0b25Vc2FibGUgPSB0cnVlOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX3RoaXMudmlzaWJsZSA9IG9wZW47CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoWydyZXF1ZXN0UGF0aCcsICd1c2VySW5mbyddKSksCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJ1dHRvblVzYWJsZTogdHJ1ZSwKICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgIGNoaWxkcmVuRHJhd2VyOiBmYWxzZSwKICAgICAgbXNnOiB7CiAgICAgICAgYWRtaW5OYW1lOiAnQW50IERlc2lnbiBUaXRsZSAxJywKICAgICAgICBoZWFkUGljOiAnZGVmYXVsdC5qcGcnLAogICAgICAgIGNvbnRlbnQ6ICdlbmVubmVuZW5lbmVuZScsCiAgICAgICAgY3JlYXRlZFRpbWU6ICcyMDIwLTEtMScsCiAgICAgICAgaGFzUmVhZDogMAogICAgICB9LAogICAgICBkYXRhU291cmNlOiBudWxsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgYWxsTXNnOiBmdW5jdGlvbiBhbGxNc2coKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIF95aWVsZCRfdGhpczIkJGdldCwgZGF0YTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJGdldChfdGhpczIuJHN0b3JlLnN0YXRlLnJlcXVlc3RQYXRoICsgJ2J1bGxldGluL3VzZXIvJyArIF90aGlzMi51c2VySW5mby51aWQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkX3RoaXMyJCRnZXQgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkX3RoaXMyJCRnZXQuZGF0YTsKCiAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09IDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmRhdGFTb3VyY2UgPSBkYXRhLmRhdGE7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGFsbFJlYWQ6IGZ1bmN0aW9uIGFsbFJlYWQoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIF95aWVsZCRfdGhpczMkJGdldCwgZGF0YSwgaTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuJGdldChfdGhpczMuJHN0b3JlLnN0YXRlLnJlcXVlc3RQYXRoICsgJ2J1bGxldGluL3VzZXIvcmVhZF9hbGwvJyArIF90aGlzMy51c2VySW5mby51aWQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkX3RoaXMzJCRnZXQgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkX3RoaXMzJCRnZXQuZGF0YTsKCiAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09IDApIHsKICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IF90aGlzMy5kYXRhU291cmNlLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmRhdGFTb3VyY2VbaV0uaGFzUmVhZCA9IDE7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF90aGlzMy5idXR0b25Vc2FibGUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcmVhZFRoaXM6IGZ1bmN0aW9uIHJlYWRUaGlzKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciBwYXJhbXMsIF95aWVsZCRfdGhpczQkYXhpb3MkcCwgZGF0YTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgICAgdWlkOiBfdGhpczQudXNlckluZm8udWlkLAogICAgICAgICAgICAgICAgICBiaWQ6IF90aGlzNC5tc2cuaWQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LmF4aW9zLnBvc3QoX3RoaXM0LiRzdG9yZS5zdGF0ZS5yZXF1ZXN0UGF0aCArICdidWxsZXRpbi91c2VyL3JlYWRfdGhpcycsIHBhcmFtcyk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpczQkYXhpb3MkcCA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRfdGhpczQkYXhpb3MkcC5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzaG93RHJhd2VyOiBmdW5jdGlvbiBzaG93RHJhd2VyKCkgewogICAgICB0aGlzLnZpc2libGUgPSB0cnVlOwogICAgfSwKICAgIG9uQ2xvc2U6IGZ1bmN0aW9uIG9uQ2xvc2UoKSB7CiAgICAgIHRoaXMuJGVtaXQoImNsb3NlTXNnV2luZG93Iik7CiAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlOwogICAgfSwKICAgIHNob3dDaGlsZHJlbldpbmRvdzogZnVuY3Rpb24gc2hvd0NoaWxkcmVuV2luZG93KGl0ZW0pIHsKICAgICAgdGhpcy5tc2cgPSBpdGVtOwogICAgICB0aGlzLmNoaWxkcmVuRHJhd2VyID0gdHJ1ZTsKICAgICAgdGhpcy5yZWFkVGhpcygpOwogICAgfSwKICAgIGhhbmRsZU9rOiBmdW5jdGlvbiBoYW5kbGVPayhlKSB7CiAgICAgIHRoaXMuY2hpbGRyZW5EcmF3ZXIgPSBmYWxzZTsKICAgICAgdGhpcy5hbGxNc2coKTsKICAgIH0sCiAgICBoYW5kbGVDYW5jZWw6IGZ1bmN0aW9uIGhhbmRsZUNhbmNlbChlKSB7CiAgICAgIHRoaXMuY2hpbGRyZW5EcmF3ZXIgPSBmYWxzZTsKICAgICAgdGhpcy5hbGxNc2coKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["MsgPage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<a-drawer title=\"我的消息\" width=\"520\" :closable=\"false\" :visible=\"visible\" @close=\"onClose\">\r\n\t\t\t<a-list item-layout=\"horizontal\" :data-source=\"dataSource\">\r\n\t\t\t\t<a-list-item slot=\"renderItem\" slot-scope=\"item, index\">\r\n\t\t\t\t\t<a-list-item-meta :description=\"item.content\">\r\n\t\t\t\t\t\t<a slot=\"title\" @click=\"showChildrenWindow(item)\">{{ item.adminName }}</a>\r\n\t\t\t\t\t\t<a-avatar slot=\"avatar\" :src=\"requestPath + 'userpic/' + item.headPic\" />\r\n\t\t\t\t\t</a-list-item-meta>\r\n\t\t\t\t\t<a slot=\"actions\" v-if=\"item.hasRead==0\">标为已读</a>\r\n\t\t\t\t\t<span slot=\"actions\" v-else>已读</span>\r\n\t\t\t\t</a-list-item>\r\n\t\t\t</a-list>\r\n\t\t\t<a-divider />\r\n\t\t\t<div style=\"margin-top: 10px;\">\r\n\t\t\t\t<a-button type=\"primary\" @click=\"allRead\" :disabled=\"!buttonUsable\">\r\n\t\t\t\t\t全部已读\r\n\t\t\t\t</a-button>\r\n\t\t\t</div>\r\n\t\t\t<a-modal v-model=\"childrenDrawer\" title=\"信息详情\" @ok=\"handleOk\" @cancel=\"handleCancel\">\r\n\t\t\t\t<p style=\"font-size: 16px;\" v-if=\"msg.adminEmail\"> From: {{msg.adminName}} ({{msg.adminEmail}})</p>\r\n\t\t\t\t<p style=\"font-size: 16px;\" v-else> From: {{msg.adminName}}</p>\r\n\t\t\t\t<p style=\"font-size: 16px;\"> Time: {{msg.createdTime}}</p>\r\n\t\t\t\t<p style=\"font-size: 16px;\"> Msg: {{msg.content}}</p>\r\n\t\t\t</a-modal>\r\n\t\t</a-drawer>\r\n\t\t<a-moddel>\r\n\r\n\t\t</a-moddel>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tModal\r\n\t} from 'ant-design-vue';\r\n\timport {\r\n\t\tmapMutations,\r\n\t\tmapState\r\n\t} from \"vuex\";\r\n\texport default {\r\n\t\tprops: ['open', 'msgNum'],\r\n\t\tasync created() {\r\n\t\t\tthis.allMsg();\r\n\t\t\tif (this.msgNum == 0) {\r\n\t\t\t\tthis.buttonUsable = false;\r\n\t\t\t} else {\r\n\t\t\t\tthis.buttonUsable = true;\r\n\t\t\t}\r\n\t\t\tthis.visible = open;\t\t\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState(['requestPath', 'userInfo']),\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tbuttonUsable: true,\r\n\t\t\t\tvisible: false,\r\n\t\t\t\tchildrenDrawer: false,\r\n\t\t\t\tmsg: {\r\n\t\t\t\t\tadminName: 'Ant Design Title 1',\r\n\t\t\t\t\theadPic: 'default.jpg',\r\n\t\t\t\t\tcontent: 'enennenenenene',\r\n\t\t\t\t\tcreatedTime: '2020-1-1',\r\n\t\t\t\t\thasRead: 0,\r\n\t\t\t\t},\r\n\t\t\t\tdataSource: null,\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync allMsg() {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await this.$get(this.$store.state.requestPath + 'bulletin/user/' + this.userInfo.uid);\r\n\t\t\t\tif (data.code == 0) {\r\n\t\t\t\t\tthis.dataSource = data.data;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync allRead() {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await this.$get(this.$store.state.requestPath + 'bulletin/user/read_all/' + this.userInfo.uid);\r\n\t\t\t\tif (data.code == 0) {\r\n\t\t\t\t\tfor (var i = 0; i < this.dataSource.length; i++) {\r\n\t\t\t\t\t\tthis.dataSource[i].hasRead = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.buttonUsable = false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync readThis() {\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tuid: this.userInfo.uid,\r\n\t\t\t\t\tbid: this.msg.id,\r\n\t\t\t\t};\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await this.axios.post(this.$store.state.requestPath + 'bulletin/user/read_this' , params);\r\n\t\t\t}, \r\n\t\t\tshowDrawer() {\r\n\t\t\t\tthis.visible = true;\r\n\t\t\t},\r\n\t\t\tonClose() {\r\n\t\t\t\tthis.$emit(\"closeMsgWindow\");\r\n\t\t\t\tthis.visible = false;\r\n\t\t\t},\r\n\t\t\tshowChildrenWindow(item) {\r\n\t\t\t\tthis.msg = item;\r\n\t\t\t\tthis.childrenDrawer = true;\r\n\t\t\t\tthis.readThis();\r\n\t\t\t},\r\n\t\t\thandleOk(e) {\r\n\t\t\t\tthis.childrenDrawer = false;\r\n\t\t\t\tthis.allMsg();\r\n\t\t\t},\r\n\t\t\thandleCancel(e){\r\n\t\t\t\tthis.childrenDrawer = false;\r\n\t\t\t\tthis.allMsg();\r\n\t\t\t}\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<style>\r\n</style>\n"],"sourceRoot":"src/components/user"}]}