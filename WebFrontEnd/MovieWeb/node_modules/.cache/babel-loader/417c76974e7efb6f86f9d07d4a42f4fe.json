{"remainingRequest":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\babel-loader\\lib\\index.js!D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\src\\components\\chart\\UserAge.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\src\\components\\chart\\UserAge.vue","mtime":1614586147978},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIudG8tZml4ZWQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovSmF2YVdlYkFwcGxpY2F0aW9uL1dlYkZyb250RW5kL01vdmllV2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgQ2hhcnQgfSBmcm9tICdAYW50di9nMic7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGF0YVNvdXJjZTogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXRVc2VyQWdlRGF0YTogZnVuY3Rpb24gZ2V0VXNlckFnZURhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBfeWllbGQkX3RoaXMkJGdldCwgZGF0YTsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJGdldChfdGhpcy4kc3RvcmUuc3RhdGUucmVxdWVzdFBhdGggKyAnL2FkbWluL3VzZXJfYWdlL2NoYXJ0Jyk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpcyQkZ2V0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkX3RoaXMkJGdldC5kYXRhOwogICAgICAgICAgICAgICAgX3RoaXMuZGF0YVNvdXJjZSA9IGRhdGEuZGF0YTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF90aGlzMi5nZXRVc2VyQWdlRGF0YSgpOwoKICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpKCk7CiAgfSwKICB3YXRjaDogewogICAgZGF0YVNvdXJjZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2RhdGFTb3VyY2UgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKG9iaikgewogICAgICAgIHZhciBjaGFydDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY2hhcnQgPSBuZXcgQ2hhcnQoewogICAgICAgICAgICAgICAgICBjb250YWluZXI6ICdjb250YWluZXInLAogICAgICAgICAgICAgICAgICBhdXRvRml0OiB0cnVlLAogICAgICAgICAgICAgICAgICBoZWlnaHQ6IDUwMCwKICAgICAgICAgICAgICAgICAgcGFkZGluZzogWzUwLCAyMCwgNTAsIDIwXQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBjaGFydC5kYXRhKG9iaik7CiAgICAgICAgICAgICAgICBjaGFydC5zY2FsZSgndmFsdWUnLCB7CiAgICAgICAgICAgICAgICAgIGFsaWFzOiAn5Lq65pWwJwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBjaGFydC5heGlzKCd0eXBlJywgewogICAgICAgICAgICAgICAgICB0aWNrTGluZTogewogICAgICAgICAgICAgICAgICAgIGFsaWduVGljazogZmFsc2UKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBjaGFydC5heGlzKCd2YWx1ZScsIGZhbHNlKTsKICAgICAgICAgICAgICAgIGNoYXJ0LnRvb2x0aXAoewogICAgICAgICAgICAgICAgICBzaG93TWFya2VyczogZmFsc2UKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgY2hhcnQuaW50ZXJ2YWwoKS5wb3NpdGlvbigndHlwZSp2YWx1ZScpOwogICAgICAgICAgICAgICAgY2hhcnQuaW50ZXJhY3Rpb24oJ2VsZW1lbnQtYWN0aXZlJyk7IC8vIOa3u+WKoOaWh+acrOagh+azqAoKICAgICAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICBjaGFydC5hbm5vdGF0aW9uKCkudGV4dCh7CiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFtpdGVtLnR5cGUsIGl0ZW0udmFsdWVdLAogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGl0ZW0udmFsdWUsCiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogJ2NlbnRlcicKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIG9mZnNldFk6IC0zMAogICAgICAgICAgICAgICAgICB9KS50ZXh0KHsKICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogW2l0ZW0udHlwZSwgaXRlbS52YWx1ZV0sCiAgICAgICAgICAgICAgICAgICAgY29udGVudDogKGl0ZW0ucGVyY2VudCAqIDEwMCkudG9GaXhlZCgwKSArICclJywKICAgICAgICAgICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0WTogLTEyCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBjaGFydC5yZW5kZXIoKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGRhdGFTb3VyY2UoX3gpIHsKICAgICAgICByZXR1cm4gX2RhdGFTb3VyY2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGRhdGFTb3VyY2U7CiAgICB9KCkKICB9Cn07"},{"version":3,"sources":["UserAge.vue"],"names":[],"mappings":";;;;;;;;;;;AAOA,SACA,KADA,QAEA,UAFA;AAGA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,UAAA,EAAA;AADA,KAAA;AAGA,GALA;AAMA,EAAA,OAAA,EAAA;AACA,IAAA,cADA,4BACA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAGA,KAAA,CAAA,IAAA,CAAA,KAAA,CAAA,MAAA,CAAA,KAAA,CAAA,WAAA,GAAA,uBAAA,CAHA;;AAAA;AAAA;AAEA,gBAAA,IAFA,qBAEA,IAFA;AAIA,gBAAA,KAAA,CAAA,UAAA,GAAA,IAAA,CAAA,IAAA;;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AANA,GANA;AAcA,EAAA,OAdA,qBAcA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,cAAA,MAAA,CAAA,cAAA;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,GAhBA;AAiBA,EAAA,KAAA,EAAA;AACA,IAAA,UAAA;AAAA,gFAAA,kBAAA,GAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KADA,GACA,IAAA,KAAA,CAAA;AACA,kBAAA,SAAA,EAAA,WADA;AAEA,kBAAA,OAAA,EAAA,IAFA;AAGA,kBAAA,MAAA,EAAA,GAHA;AAIA,kBAAA,OAAA,EAAA,CAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAAA;AAJA,iBAAA,CADA;AAOA,gBAAA,KAAA,CAAA,IAAA,CAAA,GAAA;AACA,gBAAA,KAAA,CAAA,KAAA,CAAA,OAAA,EAAA;AACA,kBAAA,KAAA,EAAA;AADA,iBAAA;AAIA,gBAAA,KAAA,CAAA,IAAA,CAAA,MAAA,EAAA;AACA,kBAAA,QAAA,EAAA;AACA,oBAAA,SAAA,EAAA;AADA;AADA,iBAAA;AAKA,gBAAA,KAAA,CAAA,IAAA,CAAA,OAAA,EAAA,KAAA;AAEA,gBAAA,KAAA,CAAA,OAAA,CAAA;AACA,kBAAA,WAAA,EAAA;AADA,iBAAA;AAGA,gBAAA,KAAA,CAAA,QAAA,GAAA,QAAA,CAAA,YAAA;AACA,gBAAA,KAAA,CAAA,WAAA,CAAA,gBAAA,EAvBA,CAyBA;;AACA,gBAAA,IAAA,CAAA,OAAA,CAAA,UAAA,IAAA,EAAA;AACA,kBAAA,KAAA,CACA,UADA,GAEA,IAFA,CAEA;AACA,oBAAA,QAAA,EAAA,CAAA,IAAA,CAAA,IAAA,EAAA,IAAA,CAAA,KAAA,CADA;AAEA,oBAAA,OAAA,EAAA,IAAA,CAAA,KAFA;AAGA,oBAAA,KAAA,EAAA;AACA,sBAAA,SAAA,EAAA;AADA,qBAHA;AAMA,oBAAA,OAAA,EAAA,CAAA;AANA,mBAFA,EAUA,IAVA,CAUA;AACA,oBAAA,QAAA,EAAA,CAAA,IAAA,CAAA,IAAA,EAAA,IAAA,CAAA,KAAA,CADA;AAEA,oBAAA,OAAA,EAAA,CAAA,IAAA,CAAA,OAAA,GAAA,GAAA,EAAA,OAAA,CAAA,CAAA,IAAA,GAFA;AAGA,oBAAA,KAAA,EAAA;AACA,sBAAA,SAAA,EAAA;AADA,qBAHA;AAMA,oBAAA,OAAA,EAAA,CAAA;AANA,mBAVA;AAkBA,iBAnBA;AAoBA,gBAAA,KAAA,CAAA,MAAA;;AA9CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AADA;AAjBA,CAAA","sourcesContent":["<template>\r\n\t<div style=\"margin-top: 30px;\">\r\n\t\t<div id=\"container\"></div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tChart\r\n\t} from '@antv/g2';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdataSource: [],\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync getUserAgeData() {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await this.$get(this.$store.state.requestPath + '/admin/user_age/chart');\r\n\t\t\t\tthis.dataSource = data.data;\r\n\t\t\t},\r\n\t\t},\r\n\t\tasync created() {\r\n\t\t\tthis.getUserAgeData();\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tdataSource: async function(obj) {\r\n\t\t\t\tconst chart = new Chart({\r\n\t\t\t\t  container: 'container',\r\n\t\t\t\t  autoFit: true,\r\n\t\t\t\t  height: 500,\r\n\t\t\t\t  padding: [50, 20, 50, 20],\r\n\t\t\t\t});\r\n\t\t\t\tchart.data(obj);\r\n\t\t\t\tchart.scale('value', {\r\n\t\t\t\t  alias: '人数',\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tchart.axis('type', {\r\n\t\t\t\t  tickLine: {\r\n\t\t\t\t    alignTick: false,\r\n\t\t\t\t  },\r\n\t\t\t\t});\r\n\t\t\t\tchart.axis('value', false);\r\n\t\t\t\t\r\n\t\t\t\tchart.tooltip({\r\n\t\t\t\t  showMarkers: false,\r\n\t\t\t\t});\r\n\t\t\t\tchart.interval().position('type*value');\r\n\t\t\t\tchart.interaction('element-active');\r\n\t\t\t\t\r\n\t\t\t\t// 添加文本标注\r\n\t\t\t\tdata.forEach((item) => {\r\n\t\t\t\t  chart\r\n\t\t\t\t    .annotation()\r\n\t\t\t\t    .text({\r\n\t\t\t\t      position: [item.type, item.value],\r\n\t\t\t\t      content: item.value,\r\n\t\t\t\t      style: {\r\n\t\t\t\t        textAlign: 'center',\r\n\t\t\t\t      },\r\n\t\t\t\t      offsetY: -30,\r\n\t\t\t\t    })\r\n\t\t\t\t    .text({\r\n\t\t\t\t      position: [item.type, item.value],\r\n\t\t\t\t      content: (item.percent * 100).toFixed(0) + '%',\r\n\t\t\t\t      style: {\r\n\t\t\t\t        textAlign: 'center',\r\n\t\t\t\t      },\r\n\t\t\t\t      offsetY: -12,\r\n\t\t\t\t    });\r\n\t\t\t\t});\r\n\t\t\t\tchart.render();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t}\r\n</script>\r\n\r\n<style>\r\n</style>\n\n"],"sourceRoot":"src/components/chart"}]}