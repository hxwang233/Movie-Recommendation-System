{"remainingRequest":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\babel-loader\\lib\\index.js!D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\src\\components\\MovieDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\src\\components\\MovieDetail.vue","mtime":1608541561416},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiRDovSmF2YVdlYkFwcGxpY2F0aW9uL1dlYkZyb250RW5kL01vdmllV2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkQ6L0phdmFXZWJBcHBsaWNhdGlvbi9XZWJGcm9udEVuZC9Nb3ZpZVdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L0phdmFXZWJBcHBsaWNhdGlvbi9XZWJGcm9udEVuZC9Nb3ZpZVdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKaW1wb3J0IHsgbWFwTXV0YXRpb25zLCBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF90aGlzLmdldE1vdmllRGV0YWlsKCk7CgogICAgICAgICAgICAgIF90aGlzLmdldENvbW1lbnRzKCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZCh7fSwgbWFwU3RhdGUoWydyZXF1ZXN0UGF0aCcsICd1c2VySW5mbycsICdtb3ZpZScsICdtb3ZpZUNvbW1lbnRzJ10pKSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcE11dGF0aW9ucyhbInNldE1vdmllIiwgInNldE1vdmllQ29tbWVudHMiXSkpLCB7fSwgewogICAgZ2V0TW92aWVEZXRhaWw6IGZ1bmN0aW9uIGdldE1vdmllRGV0YWlsKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBfeWllbGQkX3RoaXMyJCRnZXQsIGRhdGE7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRnZXQoX3RoaXMyLiRzdG9yZS5zdGF0ZS5yZXF1ZXN0UGF0aCArICdtb3ZpZS8nICsgX3RoaXMyLiRyb3V0ZS5xdWVyeS5taWQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkX3RoaXMyJCRnZXQgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIGRhdGEgPSBfeWllbGQkX3RoaXMyJCRnZXQuZGF0YTsKCiAgICAgICAgICAgICAgICBfdGhpczIuc2V0TW92aWUoZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldENvbW1lbnRzOiBmdW5jdGlvbiBnZXRDb21tZW50cygpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgX3lpZWxkJF90aGlzMyQkZ2V0LCBkYXRhOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy4kZ2V0KF90aGlzMy4kc3RvcmUuc3RhdGUucmVxdWVzdFBhdGggKyAnY29tbWVudC9nZXQvJyArIF90aGlzMy4kcm91dGUucXVlcnkubWlkKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3lpZWxkJF90aGlzMyQkZ2V0ID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJF90aGlzMyQkZ2V0LmRhdGE7CgogICAgICAgICAgICAgICAgX3RoaXMzLnNldE1vdmllQ29tbWVudHMoZGF0YSk7CgogICAgICAgICAgICAgICAgX3RoaXMzLmNvbW1lbnRzID0gX3RoaXMzLiRzdG9yZS5zdGF0ZS5tb3ZpZUNvbW1lbnRzOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBhZGRDb21tZW50OiBmdW5jdGlvbiBhZGRDb21tZW50KGNvbnRlbnQpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgY29tbWVudCA9IHsKICAgICAgICB1aWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJbmZvLnVpZCwKICAgICAgICBtaWQ6IHRoaXMuJHJvdXRlLnF1ZXJ5Lm1pZCwKICAgICAgICBjb250ZW50OiBjb250ZW50CiAgICAgIH07CgogICAgICB2YXIgX3RoaXMkYXhpb3MkcG9zdCR0aGVuID0gdGhpcy5heGlvcy5wb3N0KHRoaXMuJHN0b3JlLnN0YXRlLnJlcXVlc3RQYXRoICsgJ2NvbW1lbnQvYWRkJywgY29tbWVudCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgIT0gMCkgewogICAgICAgICAgX3RoaXM0LiRtZXNzYWdlLmVycm9yKCcgKO+/o+KWs++/o++8mykg5o+Q5Lqk6K+E6K665aSx6LSlfiDlho3or5Xor5XlkKcgJywgMSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzNC4kbWVzc2FnZS5zdWNjZXNzKCcgPCjvv6PvuLbvv6MpPiDmhJ/osKLmgqjnmoTor4Torrp+ICcsIDEpOwogICAgICAgIH0KICAgICAgfSksCiAgICAgICAgICBkYXRhID0gX3RoaXMkYXhpb3MkcG9zdCR0aGVuLmRhdGE7CiAgICB9LAogICAgaGFuZGxlU3VibWl0OiBmdW5jdGlvbiBoYW5kbGVTdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLnZhbHVlKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLnN1Ym1pdHRpbmcgPSB0cnVlOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczUuYWRkQ29tbWVudChfdGhpczUudmFsdWUpOwoKICAgICAgICBfdGhpczUuc3VibWl0dGluZyA9IGZhbHNlOwogICAgICAgIF90aGlzNS5jb21tZW50cyA9IFt7CiAgICAgICAgICB1bmFtZTogX3RoaXM1LiRzdG9yZS5zdGF0ZS51c2VySW5mby5uYW1lLAogICAgICAgICAgaGVhZFBpYzogX3RoaXM1LiRzdG9yZS5zdGF0ZS51c2VySW5mby5oZWFkUGljLAogICAgICAgICAgY29udGVudDogX3RoaXM1LnZhbHVlLAogICAgICAgICAgY3JlYXRlZFRpbWU6IG1vbWVudCgpCiAgICAgICAgfV0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShfdGhpczUuY29tbWVudHMpKTsKICAgICAgICBfdGhpczUudmFsdWUgPSAnJzsKICAgICAgfSwgMTAwMCk7CiAgICB9LAogICAgaGFuZGxlQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UoZSkgewogICAgICB0aGlzLnZhbHVlID0gZS50YXJnZXQudmFsdWU7CiAgICB9CiAgfSksCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRzdHlsZTogewogICAgICAgICJmb250LXNpemUiOiAieHgtbGFyZ2UiCiAgICAgIH0sCiAgICAgIGNvbW1lbnRzOiB0aGlzLiRzdG9yZS5zdGF0ZS5tb3ZpZUNvbW1lbnRzLAogICAgICBzdWJtaXR0aW5nOiBmYWxzZSwKICAgICAgdmFsdWU6ICcnLAogICAgICBtb21lbnQ6IG1vbWVudAogICAgfTsKICB9Cn07"},{"version":3,"sources":["MovieDetail.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div id=\"detail\" v-if=\"movie\">\r\n\t\t<div id=\"detail-pic\">\r\n\t\t\t<a-card :bordered=\"false\" style=\"width: 240px\">\r\n\t\t\t\t<img slot=\"cover\" alt=\"example\" :src=\"requestPath + 'movieposter/' + movie.pic\" />\r\n\t\t\t</a-card>\r\n\t\t</div>\r\n\t\t<div id=\"detail-text\">\r\n\t\t\t<a-card :title=\"movie.name\" :bordered=\"false\" style=\"width: 700px\" :headStyle=\"tstyle\">\r\n\t\t\t\t<div id=\"card-text\">\r\n\t\t\t\t\t<p>导演：<b>{{movie.directors}}</b></p>\r\n\t\t\t\t\t<p>编剧：<b>{{movie.writers}}</b></p>\r\n\t\t\t\t\t<p>演员：<b>{{movie.starts}}</b></p>\r\n\t\t\t\t\t<p>类别：<b>{{movie.genre}}</b></p>\r\n\t\t\t\t\t<p>片长：<b>{{movie.playTime}}</b></p>\r\n\t\t\t\t\t<p>上映日期：<b>{{movie.releaseTime}}</b></p>\r\n\t\t\t\t</div>\r\n\t\t\t</a-card>\r\n\t\t</div>\r\n\t\t<a-divider orientation=\"left\">\r\n\t\t\t简介\r\n\t\t</a-divider>\r\n\t\t<div id=\"detail-intro\">\r\n\t\t\t<a-card :bordered=\"false\" style=\"width: 1200px\">\r\n\t\t\t\t<div id=\"detail-intro-text\">\r\n\t\t\t\t\t<p>{{movie.intro}}</p>\r\n\t\t\t\t</div>\r\n\t\t\t</a-card>\r\n\t\t</div>\r\n\t\t<a-divider orientation=\"left\">\r\n\t\t\t影评\r\n\t\t</a-divider>\r\n\t\t<div v-if=\"$store.state.userInfo\">\r\n\t\t\t<div class=\"detail-comment\">\r\n\t\t\t\t<a-list class=\"comment-list\" :header=\"`${comments.length} ${comments.length > 1 ? 'replies' : 'reply'}`\"\r\n\t\t\t\t item-layout=\"horizontal\" :data-source=\"comments\">\r\n\t\t\t\t\t<a-list-item slot=\"renderItem\" slot-scope=\"item, index\">\r\n\t\t\t\t\t\t<a-comment :author=\"item.uname\" :avatar=\"requestPath + 'userpic/' + item.headPic\">\r\n\t\t\t\t\t\t\t<p slot=\"content\">{{ item.content }}</p>\r\n\t\t\t\t\t\t\t<a-tooltip slot=\"datetime\" :title=\"moment(item.createdTime).format('YYYY-MM-DD HH:mm:ss')\">\r\n\t\t\t\t\t\t\t\t<span>{{ moment(item.createdTime).fromNow() }}</span>\r\n\t\t\t\t\t\t\t</a-tooltip>\r\n\t\t\t\t\t\t</a-comment>\r\n\t\t\t\t\t</a-list-item>\r\n\t\t\t\t</a-list>\r\n\t\t\t</div>\r\n\t\t\t<a-divider orientation=\"left\">\r\n\t\t\t\t说点什么吧...\r\n\t\t\t</a-divider>\r\n\t\t\t<div class=\"detail-comment\">\r\n\t\t\t\t<a-comment>\r\n\t\t\t\t\t<a-avatar slot=\"avatar\" :src=\"requestPath + 'userpic/' +userInfo.headPic\" :alt=\"userInfo.name\" />\r\n\t\t\t\t\t<div slot=\"content\">\r\n\t\t\t\t\t\t<a-form-item>\r\n\t\t\t\t\t\t\t<a-textarea :rows=\"4\" :value=\"value\" @change=\"handleChange\" style=\"width: 1100px;\"/>\r\n\t\t\t\t\t\t</a-form-item>\r\n\t\t\t\t\t\t<a-form-item>\r\n\t\t\t\t\t\t\t<a-button html-type=\"submit\" :loading=\"submitting\" type=\"primary\" @click=\"handleSubmit\">\r\n\t\t\t\t\t\t\t\t提交\r\n\t\t\t\t\t\t\t</a-button>\r\n\t\t\t\t\t\t</a-form-item>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</a-comment>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"detail-comment\" v-else>\r\n\t\t\t<p><a href=\"/\">登录</a>后查看</p>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport moment from 'moment';\r\n\timport {\r\n\t\tmapMutations,\r\n\t\tmapState\r\n\t} from \"vuex\";\r\n\texport default {\r\n\t\tasync created() {\r\n\t\t\tthis.getMovieDetail();\r\n\t\t\tthis.getComments();\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState(['requestPath', 'userInfo', 'movie', 'movieComments'])\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations([\"setMovie\", \"setMovieComments\"]),\r\n\t\t\tasync getMovieDetail() {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await this.$get(this.$store.state.requestPath + 'movie/' + this.$route.query.mid);\r\n\t\t\t\tthis.setMovie(data);\r\n\t\t\t},\r\n\t\t\tasync getComments() {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await this.$get(this.$store.state.requestPath + 'comment/get/' + this.$route.query.mid);\r\n\t\t\t\tthis.setMovieComments(data);\r\n\t\t\t\tthis.comments = this.$store.state.movieComments;\r\n\t\t\t},\r\n\t\t\taddComment(content) {\r\n\t\t\t\tlet comment = {\r\n\t\t\t\t\tuid: this.$store.state.userInfo.uid,\r\n\t\t\t\t\tmid: this.$route.query.mid,\r\n\t\t\t\t\tcontent: content\r\n\t\t\t\t};\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = this.axios.post(this.$store.state.requestPath + 'comment/add', comment).then((res) => {\r\n\t\t\t\t\tif (res.data.code != 0) {\r\n\t\t\t\t\t\tthis.$message.error(' (￣△￣；) 提交评论失败~ 再试试吧 ', 1);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$message.success(' <(￣︶￣)> 感谢您的评论~ ', 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thandleSubmit() {\r\n\t\t\t\tif (!this.value) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.submitting = true;\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.addComment(this.value);\r\n\t\t\t\t\tthis.submitting = false;\r\n\t\t\t\t\tthis.comments = [{\r\n\t\t\t\t\t\t\tuname: this.$store.state.userInfo.name,\r\n\t\t\t\t\t\t\theadPic: this.$store.state.userInfo.headPic,\r\n\t\t\t\t\t\t\tcontent: this.value,\r\n\t\t\t\t\t\t\tcreatedTime: moment(),\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t...this.comments,\r\n\t\t\t\t\t];\r\n\t\t\t\t\tthis.value = '';\r\n\t\t\t\t}, 1000);\r\n\t\t\t},\r\n\t\t\thandleChange(e) {\r\n\t\t\t\tthis.value = e.target.value;\r\n\t\t\t},\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttstyle: {\r\n\t\t\t\t\t\"font-size\": \"xx-large\"\r\n\t\t\t\t},\r\n\t\t\t\tcomments: this.$store.state.movieComments,\r\n\t\t\t\tsubmitting: false,\r\n\t\t\t\tvalue: '',\r\n\t\t\t\tmoment,\r\n\t\t\t};\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style lang='scss'>\r\n\t#detail {\r\n\t\tmargin: 0 120px 50px 120px;\r\n\r\n\t\t#detail-pic {\r\n\t\t\tfloat: left;\r\n\t\t\tmargin: 70px 20px 50px 150px;\r\n\t\t}\r\n\r\n\t\t#detail-text {\r\n\t\t\tfloat: left;\r\n\t\t\tpadding: 30px;\r\n\t\t\tmargin: 30px 20px 50px 40px;\r\n\r\n\t\t\t#card-text {\r\n\t\t\t\tfont-size: medium;\r\n\t\t\t\tpadding: 20px 30px 20px 24px;\r\n\t\t\t\tmargin: -20px;\r\n\t\t\t\tbackground: #ECECEC;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t#detail-intro {\r\n\t\t\tfloat: left;\r\n\t\t\tmargin: -10px 20px 30px 70px;\r\n\r\n\t\t\t#detail-intro-text {\r\n\t\t\t\tpadding: 5px 30px 20px 30px;\r\n\t\t\t\tmargin: -20px;\r\n\t\t\t\tbackground: #ECECEC;\r\n\t\t\t\tfont-size: medium;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.detail-comment {\r\n\t\t\tmargin: 10px 20px 20px 70px;\r\n\t\t}\r\n\t}\r\n</style>\n"],"sourceRoot":"src/components"}]}