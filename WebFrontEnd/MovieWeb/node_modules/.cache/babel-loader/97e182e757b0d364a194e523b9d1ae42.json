{"remainingRequest":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\babel-loader\\lib\\index.js!D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\src\\components\\user\\MsgPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\src\\components\\user\\MsgPage.vue","mtime":1614739926557},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovSmF2YVdlYkFwcGxpY2F0aW9uL1dlYkZyb250RW5kL01vdmllV2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovSmF2YVdlYkFwcGxpY2F0aW9uL1dlYkZyb250RW5kL01vdmllV2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgTW9kYWwgfSBmcm9tICdhbnQtZGVzaWduLXZ1ZSc7CmltcG9ydCB7IG1hcE11dGF0aW9ucywgbWFwU3RhdGUgfSBmcm9tICJ2dWV4IjsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiBbJ21vcGVuJywgJ21zZ051bSddLAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfdGhpcy5hbGxNc2coKTsKCiAgICAgICAgICAgICAgaWYgKF90aGlzLm1zZ051bSA9PSAwKSB7CiAgICAgICAgICAgICAgICBfdGhpcy5idXR0b25Vc2FibGUgPSBmYWxzZTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXMuYnV0dG9uVXNhYmxlID0gdHJ1ZTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIF90aGlzLnZpc2libGUgPSBtb3BlbjsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZShbJ3JlcXVlc3RQYXRoJywgJ3VzZXJJbmZvJ10pKSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYnV0dG9uVXNhYmxlOiB0cnVlLAogICAgICB2aXNpYmxlOiBmYWxzZSwKICAgICAgY2hpbGRyZW5EcmF3ZXI6IGZhbHNlLAogICAgICBtc2c6IHsKICAgICAgICBhZG1pbk5hbWU6ICdBbnQgRGVzaWduIFRpdGxlIDEnLAogICAgICAgIGhlYWRQaWM6ICdkZWZhdWx0LmpwZycsCiAgICAgICAgY29udGVudDogJ2VuZW5uZW5lbmVuZW5lJywKICAgICAgICBjcmVhdGVkVGltZTogJzIwMjAtMS0xJywKICAgICAgICBoYXNSZWFkOiAwCiAgICAgIH0sCiAgICAgIGRhdGFTb3VyY2U6IG51bGwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBhbGxNc2c6IGZ1bmN0aW9uIGFsbE1zZygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgX3lpZWxkJF90aGlzMiQkZ2V0LCBkYXRhOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kZ2V0KF90aGlzMi4kc3RvcmUuc3RhdGUucmVxdWVzdFBhdGggKyAnYnVsbGV0aW4vdXNlci8nICsgX3RoaXMyLnVzZXJJbmZvLnVpZCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpczIkJGdldCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRfdGhpczIkJGdldC5kYXRhOwoKICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMCkgewogICAgICAgICAgICAgICAgICBfdGhpczIuZGF0YVNvdXJjZSA9IGRhdGEuZGF0YTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgYWxsUmVhZDogZnVuY3Rpb24gYWxsUmVhZCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgX3lpZWxkJF90aGlzMyQkZ2V0LCBkYXRhLCBpOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy4kZ2V0KF90aGlzMy4kc3RvcmUuc3RhdGUucmVxdWVzdFBhdGggKyAnYnVsbGV0aW4vdXNlci9yZWFkX2FsbC8nICsgX3RoaXMzLnVzZXJJbmZvLnVpZCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpczMkJGdldCA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRfdGhpczMkJGdldC5kYXRhOwoKICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT0gMCkgewogICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgX3RoaXMzLmRhdGFTb3VyY2UubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczMuZGF0YVNvdXJjZVtpXS5oYXNSZWFkID0gMTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX3RoaXMzLmJ1dHRvblVzYWJsZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICByZWFkVGhpczogZnVuY3Rpb24gcmVhZFRoaXMoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIHBhcmFtcywgX3lpZWxkJF90aGlzNCRheGlvcyRwLCBkYXRhOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcGFyYW1zID0gewogICAgICAgICAgICAgICAgICB1aWQ6IF90aGlzNC51c2VySW5mby51aWQsCiAgICAgICAgICAgICAgICAgIGJpZDogX3RoaXM0Lm1zZy5pZAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuYXhpb3MucG9zdChfdGhpczQuJHN0b3JlLnN0YXRlLnJlcXVlc3RQYXRoICsgJ2J1bGxldGluL3VzZXIvcmVhZF90aGlzJywgcGFyYW1zKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX3lpZWxkJF90aGlzNCRheGlvcyRwID0gX2NvbnRleHQ0LnNlbnQ7CiAgICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJF90aGlzNCRheGlvcyRwLmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNob3dEcmF3ZXI6IGZ1bmN0aW9uIHNob3dEcmF3ZXIoKSB7CiAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgb25DbG9zZTogZnVuY3Rpb24gb25DbG9zZSgpIHsKICAgICAgdGhpcy4kZW1pdCgiY2xvc2VNc2dXaW5kb3ciKTsKICAgICAgdGhpcy52aXNpYmxlID0gZmFsc2U7CiAgICB9LAogICAgc2hvd0NoaWxkcmVuV2luZG93OiBmdW5jdGlvbiBzaG93Q2hpbGRyZW5XaW5kb3coaXRlbSkgewogICAgICB0aGlzLm1zZyA9IGl0ZW07CiAgICAgIHRoaXMuY2hpbGRyZW5EcmF3ZXIgPSB0cnVlOwogICAgICB0aGlzLnJlYWRUaGlzKCk7CiAgICB9LAogICAgaGFuZGxlT2s6IGZ1bmN0aW9uIGhhbmRsZU9rKGUpIHsKICAgICAgdGhpcy5jaGlsZHJlbkRyYXdlciA9IGZhbHNlOwogICAgICB0aGlzLmFsbE1zZygpOwogICAgfSwKICAgIGhhbmRsZUNhbmNlbDogZnVuY3Rpb24gaGFuZGxlQ2FuY2VsKGUpIHsKICAgICAgdGhpcy5jaGlsZHJlbkRyYXdlciA9IGZhbHNlOwogICAgICB0aGlzLmFsbE1zZygpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["MsgPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,SACA,KADA,QAEA,gBAFA;AAGA,SACA,YADA,EAEA,QAFA,QAGA,MAHA;AAIA,eAAA;AACA,EAAA,KAAA,EAAA,CAAA,OAAA,EAAA,QAAA,CADA;AAEA,EAAA,OAFA,qBAEA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,cAAA,KAAA,CAAA,MAAA;;AACA,kBAAA,KAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,gBAAA,KAAA,CAAA,YAAA,GAAA,KAAA;AACA,eAFA,MAEA;AACA,gBAAA,KAAA,CAAA,YAAA,GAAA,IAAA;AACA;;AACA,cAAA,KAAA,CAAA,OAAA,GAAA,KAAA;;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA,GAVA;AAWA,EAAA,QAAA,oBACA,QAAA,CAAA,CAAA,aAAA,EAAA,UAAA,CAAA,CADA,CAXA;AAcA,EAAA,IAdA,kBAcA;AACA,WAAA;AACA,MAAA,YAAA,EAAA,IADA;AAEA,MAAA,OAAA,EAAA,KAFA;AAGA,MAAA,cAAA,EAAA,KAHA;AAIA,MAAA,GAAA,EAAA;AACA,QAAA,SAAA,EAAA,oBADA;AAEA,QAAA,OAAA,EAAA,aAFA;AAGA,QAAA,OAAA,EAAA,gBAHA;AAIA,QAAA,WAAA,EAAA,UAJA;AAKA,QAAA,OAAA,EAAA;AALA,OAJA;AAWA,MAAA,UAAA,EAAA;AAXA,KAAA;AAaA,GA5BA;AA6BA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAGA,MAAA,CAAA,IAAA,CAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,WAAA,GAAA,gBAAA,GAAA,MAAA,CAAA,QAAA,CAAA,GAAA,CAHA;;AAAA;AAAA;AAEA,gBAAA,IAFA,sBAEA,IAFA;;AAIA,oBAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,kBAAA,MAAA,CAAA,UAAA,GAAA,IAAA,CAAA,IAAA;AACA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA,KARA;AASA,IAAA,OATA,qBASA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAGA,MAAA,CAAA,IAAA,CAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,WAAA,GAAA,yBAAA,GAAA,MAAA,CAAA,QAAA,CAAA,GAAA,CAHA;;AAAA;AAAA;AAEA,gBAAA,IAFA,sBAEA,IAFA;;AAIA,oBAAA,IAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,uBAAA,CAAA,GAAA,CAAA,EAAA,CAAA,GAAA,MAAA,CAAA,UAAA,CAAA,MAAA,EAAA,CAAA,EAAA,EAAA;AACA,oBAAA,MAAA,CAAA,UAAA,CAAA,CAAA,EAAA,OAAA,GAAA,CAAA;AACA;;AACA,kBAAA,MAAA,CAAA,YAAA,GAAA,KAAA;AACA;;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA,KAnBA;AAoBA,IAAA,QApBA,sBAoBA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MADA,GACA;AACA,kBAAA,GAAA,EAAA,MAAA,CAAA,QAAA,CAAA,GADA;AAEA,kBAAA,GAAA,EAAA,MAAA,CAAA,GAAA,CAAA;AAFA,iBADA;AAAA;AAAA,uBAOA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,WAAA,GAAA,yBAAA,EAAA,MAAA,CAPA;;AAAA;AAAA;AAMA,gBAAA,IANA,yBAMA,IANA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA,KA5BA;AA6BA,IAAA,UA7BA,wBA6BA;AACA,WAAA,OAAA,GAAA,IAAA;AACA,KA/BA;AAgCA,IAAA,OAhCA,qBAgCA;AACA,WAAA,KAAA,CAAA,gBAAA;AACA,WAAA,OAAA,GAAA,KAAA;AACA,KAnCA;AAoCA,IAAA,kBApCA,8BAoCA,IApCA,EAoCA;AACA,WAAA,GAAA,GAAA,IAAA;AACA,WAAA,cAAA,GAAA,IAAA;AACA,WAAA,QAAA;AACA,KAxCA;AAyCA,IAAA,QAzCA,oBAyCA,CAzCA,EAyCA;AACA,WAAA,cAAA,GAAA,KAAA;AACA,WAAA,MAAA;AACA,KA5CA;AA6CA,IAAA,YA7CA,wBA6CA,CA7CA,EA6CA;AACA,WAAA,cAAA,GAAA,KAAA;AACA,WAAA,MAAA;AACA;AAhDA;AA7BA,CAAA","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<a-drawer title=\"我的消息\" width=\"520\" :closable=\"false\" :visible=\"visible\" @close=\"onClose\">\r\n\t\t\t<a-list item-layout=\"horizontal\" :data-source=\"dataSource\">\r\n\t\t\t\t<a-list-item slot=\"renderItem\" slot-scope=\"item, index\">\r\n\t\t\t\t\t<a-list-item-meta :description=\"item.content\">\r\n\t\t\t\t\t\t<a slot=\"title\" @click=\"showChildrenWindow(item)\">{{ item.adminName }}</a>\r\n\t\t\t\t\t\t<a-avatar slot=\"avatar\" :src=\"requestPath + 'userpic/' + item.headPic\" />\r\n\t\t\t\t\t</a-list-item-meta>\r\n\t\t\t\t\t<a slot=\"actions\" v-if=\"item.hasRead==0\">标为已读</a>\r\n\t\t\t\t\t<span slot=\"actions\" v-else>已读</span>\r\n\t\t\t\t</a-list-item>\r\n\t\t\t</a-list>\r\n\t\t\t<a-divider />\r\n\t\t\t<div style=\"margin-top: 10px;\">\r\n\t\t\t\t<a-button type=\"primary\" @click=\"allRead\" :disabled=\"!buttonUsable\">\r\n\t\t\t\t\t全部已读\r\n\t\t\t\t</a-button>\r\n\t\t\t</div>\r\n\t\t\t<a-modal v-model=\"childrenDrawer\" title=\"信息详情\" @ok=\"handleOk\" @cancel=\"handleCancel\">\r\n\t\t\t\t<p style=\"font-size: 16px;\" v-if=\"msg.adminEmail\"> From: {{msg.adminName}} ({{msg.adminEmail}})</p>\r\n\t\t\t\t<p style=\"font-size: 16px;\" v-else> From: {{msg.adminName}}</p>\r\n\t\t\t\t<p style=\"font-size: 16px;\"> Time: {{msg.createdTime}}</p>\r\n\t\t\t\t<p style=\"font-size: 16px;\"> Msg: {{msg.content}}</p>\r\n\t\t\t</a-modal>\r\n\t\t</a-drawer>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tModal\r\n\t} from 'ant-design-vue';\r\n\timport {\r\n\t\tmapMutations,\r\n\t\tmapState\r\n\t} from \"vuex\";\r\n\texport default {\r\n\t\tprops: ['mopen', 'msgNum'],\r\n\t\tasync created() {\r\n\t\t\tthis.allMsg();\r\n\t\t\tif (this.msgNum == 0) {\r\n\t\t\t\tthis.buttonUsable = false;\r\n\t\t\t} else {\r\n\t\t\t\tthis.buttonUsable = true;\r\n\t\t\t}\r\n\t\t\tthis.visible = mopen;\t\t\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState(['requestPath', 'userInfo']),\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tbuttonUsable: true,\r\n\t\t\t\tvisible: false,\r\n\t\t\t\tchildrenDrawer: false,\r\n\t\t\t\tmsg: {\r\n\t\t\t\t\tadminName: 'Ant Design Title 1',\r\n\t\t\t\t\theadPic: 'default.jpg',\r\n\t\t\t\t\tcontent: 'enennenenenene',\r\n\t\t\t\t\tcreatedTime: '2020-1-1',\r\n\t\t\t\t\thasRead: 0,\r\n\t\t\t\t},\r\n\t\t\t\tdataSource: null,\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync allMsg() {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await this.$get(this.$store.state.requestPath + 'bulletin/user/' + this.userInfo.uid);\r\n\t\t\t\tif (data.code == 0) {\r\n\t\t\t\t\tthis.dataSource = data.data;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync allRead() {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await this.$get(this.$store.state.requestPath + 'bulletin/user/read_all/' + this.userInfo.uid);\r\n\t\t\t\tif (data.code == 0) {\r\n\t\t\t\t\tfor (var i = 0; i < this.dataSource.length; i++) {\r\n\t\t\t\t\t\tthis.dataSource[i].hasRead = 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.buttonUsable = false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync readThis() {\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tuid: this.userInfo.uid,\r\n\t\t\t\t\tbid: this.msg.id,\r\n\t\t\t\t};\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await this.axios.post(this.$store.state.requestPath + 'bulletin/user/read_this' , params);\r\n\t\t\t}, \r\n\t\t\tshowDrawer() {\r\n\t\t\t\tthis.visible = true;\r\n\t\t\t},\r\n\t\t\tonClose() {\r\n\t\t\t\tthis.$emit(\"closeMsgWindow\");\r\n\t\t\t\tthis.visible = false;\r\n\t\t\t},\r\n\t\t\tshowChildrenWindow(item) {\r\n\t\t\t\tthis.msg = item;\r\n\t\t\t\tthis.childrenDrawer = true;\r\n\t\t\t\tthis.readThis();\r\n\t\t\t},\r\n\t\t\thandleOk(e) {\r\n\t\t\t\tthis.childrenDrawer = false;\r\n\t\t\t\tthis.allMsg();\r\n\t\t\t},\r\n\t\t\thandleCancel(e){\r\n\t\t\t\tthis.childrenDrawer = false;\r\n\t\t\t\tthis.allMsg();\r\n\t\t\t}\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<style>\r\n</style>\n"],"sourceRoot":"src/components/user"}]}