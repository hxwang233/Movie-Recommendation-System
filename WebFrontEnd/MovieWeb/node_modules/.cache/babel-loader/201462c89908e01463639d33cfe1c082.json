{"remainingRequest":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\babel-loader\\lib\\index.js!D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\src\\components\\user\\Layout.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\src\\components\\user\\Layout.vue","mtime":1614739913643},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRDovSmF2YVdlYkFwcGxpY2F0aW9uL1dlYkZyb250RW5kL01vdmllV2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovSmF2YVdlYkFwcGxpY2F0aW9uL1dlYkZyb250RW5kL01vdmllV2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IE1zZ1BhZ2UgZnJvbSAiLi9Nc2dQYWdlLnZ1ZSI7CmltcG9ydCBIaXN0b3J5Vmlld1BhZ2UgZnJvbSAiLi9IaXN0b3J5Vmlld1BhZ2UudnVlIjsKaW1wb3J0IHsgbWFwTXV0YXRpb25zLCBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgTXNnUGFnZTogTXNnUGFnZSwKICAgIEhpc3RvcnlWaWV3UGFnZTogSGlzdG9yeVZpZXdQYWdlCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaG9wZW46IGZhbHNlLAogICAgICBtb3BlbjogZmFsc2UsCiAgICAgIG1zZ051bTogMAogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfdGhpcy5nZXRNc2dOdW0oKTsKCiAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKFsncmVxdWVzdFBhdGgnLCAndXNlckluZm8nXSkpLCB7fSwgewogICAgdGl0bGU6IGZ1bmN0aW9uIHRpdGxlKCkgewogICAgICByZXR1cm4gdGhpcy4kcm91dGUubWV0YS50aXRsZTsKICAgIH0KICB9KSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcE11dGF0aW9ucyhbJ2xvZ291dCddKSksIHt9LCB7CiAgICBnZXRNc2dOdW06IGZ1bmN0aW9uIGdldE1zZ051bSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgX3lpZWxkJF90aGlzMiQkZ2V0LCBkYXRhOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczIuJHN0b3JlLnN0YXRlLnVzZXJJbmZvKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kZ2V0KF90aGlzMi4kc3RvcmUuc3RhdGUucmVxdWVzdFBhdGggKyAnbXNnX251bS8nICsgX3RoaXMyLnVzZXJJbmZvLnVpZCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpczIkJGdldCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgZGF0YSA9IF95aWVsZCRfdGhpczIkJGdldC5kYXRhOwogICAgICAgICAgICAgICAgX3RoaXMyLm1zZ051bSA9IGRhdGEuZGF0YTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygidXNlckluZm8gbm90IGZvdW5kIik7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHVzZXJMb2dvdXQ6IGZ1bmN0aW9uIHVzZXJMb2dvdXQoKSB7CiAgICAgIHRoaXMubG9nb3V0KCk7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICBwYXRoOiAnLycKICAgICAgfSk7CiAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2VzcygnICjvv6PvuLbvv6Mp4oaX776eIOaEn+iwouaCqOeahOS9v+eUqH4gJywgMik7CiAgICB9LAogICAgc2hvd0hpc3RvcnlWaWV3V2luZG93OiBmdW5jdGlvbiBzaG93SGlzdG9yeVZpZXdXaW5kb3coKSB7CiAgICAgIHRoaXMuaG9wZW4gPSB0cnVlOwogICAgfSwKICAgIGNsb3NlSGlzdG9yeVZpZXdXaW5kb3c6IGZ1bmN0aW9uIGNsb3NlSGlzdG9yeVZpZXdXaW5kb3coKSB7CiAgICAgIHRoaXMuaG9wZW4gPSBmYWxzZTsKICAgIH0sCiAgICBzaG93TXNnV2luZG93OiBmdW5jdGlvbiBzaG93TXNnV2luZG93KCkgewogICAgICB0aGlzLm1vcGVuID0gdHJ1ZTsKICAgIH0sCiAgICBjbG9zZU1zZ1dpbmRvdzogZnVuY3Rpb24gY2xvc2VNc2dXaW5kb3coKSB7CiAgICAgIHRoaXMubW9wZW4gPSBmYWxzZTsKICAgICAgdGhpcy5nZXRNc2dOdW0oKTsKICAgIH0KICB9KQp9Ow=="},{"version":3,"sources":["Layout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwDA,OAAA,OAAA,MAAA,eAAA;AACA,OAAA,eAAA,MAAA,uBAAA;AACA,SACA,YADA,EAEA,QAFA,QAGA,MAHA;AAIA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,OAAA,EAAA,OADA;AAEA,IAAA,eAAA,EAAA;AAFA,GADA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,KADA;AAEA,MAAA,KAAA,EAAA,KAFA;AAGA,MAAA,MAAA,EAAA;AAHA,KAAA;AAKA,GAXA;AAYA,EAAA,OAZA,qBAYA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,cAAA,KAAA,CAAA,SAAA;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,GAdA;AAeA,EAAA,QAAA,kCACA,QAAA,CAAA,CAAA,aAAA,EAAA,UAAA,CAAA,CADA;AAEA,IAAA,KAFA,mBAEA;AACA,aAAA,KAAA,MAAA,CAAA,IAAA,CAAA,KAAA;AACA;AAJA,IAfA;AAqBA,EAAA,OAAA,kCACA,YAAA,CAAA,CAAA,QAAA,CAAA,CADA;AAEA,IAAA,SAFA,uBAEA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,QADA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAIA,MAAA,CAAA,IAAA,CAAA,MAAA,CAAA,MAAA,CAAA,KAAA,CAAA,WAAA,GAAA,UAAA,GAAA,MAAA,CAAA,QAAA,CAAA,GAAA,CAJA;;AAAA;AAAA;AAGA,gBAAA,IAHA,sBAGA,IAHA;AAKA,gBAAA,MAAA,CAAA,MAAA,GAAA,IAAA,CAAA,IAAA;AALA;AAAA;;AAAA;AAOA,gBAAA,OAAA,CAAA,GAAA,CAAA,oBAAA;;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA,KAXA;AAYA,IAAA,UAZA,wBAYA;AACA,WAAA,MAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,IAAA,EAAA;AADA,OAAA;AAGA,WAAA,QAAA,CAAA,OAAA,CAAA,mBAAA,EAAA,CAAA;AACA,KAlBA;AAmBA,IAAA,qBAnBA,mCAmBA;AACA,WAAA,KAAA,GAAA,IAAA;AACA,KArBA;AAsBA,IAAA,sBAtBA,oCAsBA;AACA,WAAA,KAAA,GAAA,KAAA;AACA,KAxBA;AAyBA,IAAA,aAzBA,2BAyBA;AACA,WAAA,KAAA,GAAA,IAAA;AACA,KA3BA;AA4BA,IAAA,cA5BA,4BA4BA;AACA,WAAA,KAAA,GAAA,KAAA;AACA,WAAA,SAAA;AACA;AA/BA;AArBA,CAAA","sourcesContent":["<template>\r\n\t<a-layout id=\"components-layout-demo-fixed\">\r\n\t\t<!-- <a-layout-header :style=\"{ position: 'fixed', zIndex: 1, width: '100%' }\"> -->\r\n\t\t<a-layout-header :style=\"{zIndex: 1, width: '100%' }\">\r\n\t\t\t<div class=\"logo\" />\r\n\t\t\t<a-menu theme=\"dark\" mode=\"horizontal\" :default-selected-keys=\"[title]\" :style=\"{ lineHeight: '64px'}\">\r\n\t\t\t\t<!-- <a-menu-item :key=i v-for=\"i in 3\" @click=\"navMove(i)\">nav {{i}}</a-menu-item> -->\r\n\t\t\t\t<a-menu-item key=\"推荐库\">\r\n\t\t\t\t\t<router-link to=\"/home/nav1\"><span>首页</span></router-link>\r\n\t\t\t\t</a-menu-item>\r\n\t\t\t\t<a-menu-item key=\"影视库\">\r\n\t\t\t\t\t<router-link to=\"/home/nav2\"><span>影视库</span></router-link>\r\n\t\t\t\t</a-menu-item>\r\n\t\t\t\t<!-- 判断是否为null -->\r\n\t\t\t\t<a-dropdown :style=\"{float: 'right', 'margin-right':'-10px', 'fontSize':'18px'}\"  placement=\"bottomRight\" size=\"large\" v-if=\"userInfo\">\r\n\t\t\t\t\t<a class=\"ant-dropdown-link\" @click=\"e => e.preventDefault()\">\r\n\t\t\t\t\t\t<a-badge :count=\"msgNum\">\r\n\t\t\t\t\t\t\t<a-avatar shape=\"square\" :src=\"requestPath + 'userpic/' +userInfo.headPic\" :alt=\"userInfo.name\"/>\r\n\t\t\t\t\t\t</a-badge><span style=\"margin-left: 20px;\">{{userInfo.name}}</span>\r\n\t\t\t\t\t\t<!--\r\n\t\t\t\t\t\t<a-icon type=\"user\" /> \r\n\t\t\t\t\t\t<a-icon type=\"down\" /> -->\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<a-menu slot=\"overlay\"  >\r\n\t\t\t\t\t\t<a-menu-item @click=\"showHistoryViewWindow()\">\r\n\t\t\t\t\t\t\t<a-icon type=\"sound\" /><span style=\"margin-left: 5px;\">历史浏览</span>\r\n\t\t\t\t\t\t\t<HistoryViewPage v-if=\"hopen\" :hopen=\"hopen\" @closeHistoryViewWindow=\"closeHistoryViewWindow\"></HistoryViewPage>\r\n\t\t\t\t\t\t</a-menu-item>\r\n\t\t\t\t\t\t<a-menu-item @click=\"showMsgWindow()\">\r\n\t\t\t\t\t\t\t<a-icon type=\"sound\" /><span style=\"margin-left: 5px;\">通知</span>\r\n\t\t\t\t\t\t\t<MsgPage v-if=\"mopen\" :mopen=\"mopen\" :msgNum=\"msgNum\" @closeMsgWindow=\"closeMsgWindow\"></MsgPage>\r\n\t\t\t\t\t\t</a-menu-item>\r\n\t\t\t\t\t\t<a-menu-item>\r\n\t\t\t\t\t\t\t<router-link to=\"/home/user_info\">\r\n\t\t\t\t\t\t\t\t<a-icon type=\"edit\" /><span style=\"margin-left: 10px;\">资料</span>\r\n\t\t\t\t\t\t\t</router-link>\r\n\t\t\t\t\t\t</a-menu-item>\r\n\t\t\t\t\t\t<a-menu-item @click=\"userLogout()\">\r\n\t\t\t\t\t\t\t<a-icon type=\"logout\" /><span style=\"margin-left: 5px;\">退出</span>\r\n\t\t\t\t\t\t</a-menu-item>\r\n\t\t\t\t\t</a-menu>\r\n\t\t\t\t</a-dropdown>\r\n\t\t\t\t<a-menu-item :style=\"{float: 'right', 'margin-right':'-25px'}\" @click=\"userLogout()\" v-else>\r\n\t\t\t\t\t<a-icon type=\"login\" />&nbsp;&nbsp; 登录\r\n\t\t\t\t</a-menu-item>\r\n\t\t\t</a-menu>\r\n\t\t</a-layout-header>\r\n\r\n\t\t<router-view></router-view>\r\n\t\t<a-layout-footer :style=\"{ textAlign: 'center' }\">\r\n\t\t\tHave a Nice Day! --Ant Design ©2020 Created--\r\n\t\t</a-layout-footer>\r\n\t</a-layout>\r\n</template>\r\n\r\n<script>\r\n\timport MsgPage from \"./MsgPage.vue\";\r\n\timport HistoryViewPage from \"./HistoryViewPage.vue\";\r\n\timport {\r\n\t\tmapMutations,\r\n\t\tmapState\r\n\t} from \"vuex\";\r\n\texport default {\r\n\t\tcomponents:{\r\n\t\t\tMsgPage,\r\n\t\t\tHistoryViewPage\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\thopen: false,\r\n\t\t\t\tmopen: false,\r\n\t\t\t\tmsgNum: 0,\r\n\t\t\t};\r\n\t\t},\r\n\t\tasync created() {\r\n\t\t\tthis.getMsgNum();\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState(['requestPath','userInfo']),\r\n\t\t\ttitle() {\r\n\t\t\t\treturn this.$route.meta.title;\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations(['logout']),\r\n\t\t\tasync getMsgNum() {\r\n\t\t\t\tif (this.$store.state.userInfo) {\r\n\t\t\t\t\tlet {\r\n\t\t\t\t\t\tdata\r\n\t\t\t\t\t} = await this.$get(this.$store.state.requestPath + 'msg_num/' + this.userInfo.uid);\r\n\t\t\t\t\tthis.msgNum = data.data;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(\"userInfo not found\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tuserLogout() {\r\n\t\t\t\tthis.logout();\r\n\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tpath: '/'\r\n\t\t\t\t});\r\n\t\t\t\tthis.$message.success(' (￣︶￣)↗ﾞ 感谢您的使用~ ', 2);\r\n\t\t\t},\r\n\t\t\tshowHistoryViewWindow(){\r\n\t\t\t\tthis.hopen = true;\r\n\t\t\t},\r\n\t\t\tcloseHistoryViewWindow(){\r\n\t\t\t\tthis.hopen = false;\r\n\t\t\t},\r\n\t\t\tshowMsgWindow(){\r\n\t\t\t\tthis.mopen = true;\r\n\t\t\t},\r\n\t\t\tcloseMsgWindow(){\r\n\t\t\t\tthis.mopen = false;\r\n\t\t\t\tthis.getMsgNum();\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t#components-layout-demo-fixed {\r\n\t\tbackground: rgba(255, 255, 255, 0.2);\r\n\r\n\t\t.logo {\r\n\t\t\twidth: 120px;\r\n\t\t\theight: 31px;\r\n\t\t\tbackground: rgba(255, 255, 255, 0.2);\r\n\t\t\tmargin: 16px 24px 16px 0;\r\n\t\t\tfloat: left;\r\n\t\t}\r\n\t}\r\n\t\r\n\t#components-badge-demo-dot .anticon-notification {\r\n\t  width: 16px;\r\n\t  height: 16px;\r\n\t  line-height: 16px;\r\n\t  font-size: 1px;\r\n\t}\r\n</style>\n"],"sourceRoot":"src/components/user"}]}