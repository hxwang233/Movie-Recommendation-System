{"remainingRequest":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\src\\components\\Register.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\src\\components\\Register.vue","mtime":1608468954875},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmF2YXRhci11cGxvYWRlcj4uYW50LXVwbG9hZCB7Cgl3aWR0aDogMTI4cHg7CgloZWlnaHQ6IDEyOHB4Owp9Ci5hbnQtdXBsb2FkLXNlbGVjdC1waWN0dXJlLWNhcmQgaSB7Cglmb250LXNpemU6IDMycHg7Cgljb2xvcjogIzk5OTsKfQouYW50LXVwbG9hZC1zZWxlY3QtcGljdHVyZS1jYXJkIC5hbnQtdXBsb2FkLXRleHQgewoJbWFyZ2luLXRvcDogOHB4OwoJY29sb3I6ICM2NjY7Cn0K"},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<p style=\"margin-top: -10px; color: #1890FF; text-decoration:underline; cursor:pointer\" @click=\"showDrawer\"> Register\r\n\t\t\tnow! </p>\r\n\t\t<a-drawer title=\"注册一个新账号\" :width=\"500\" :visible=\"visible\" :body-style=\"{ paddingBottom: '80px' }\" @close=\"onClose\">\r\n\t\t\t<a-form :form=\"form\" layout=\"vertical\" hide-required-mark>\r\n\t\t\t\t<a-row :gutter=\"16\">\r\n\t\t\t\t\t<a-col :span=\"12\">\r\n\t\t\t\t\t\t<a-form-item label=\"用户名*\">\r\n\t\t\t\t\t\t\t<a-input v-decorator=\"[\r\n                  'name',\r\n                  {\r\n                    rules: [{ required: true, message: 'User name can not be empty' }],\r\n                  },\r\n                ]\"\r\n\t\t\t\t\t\t\t placeholder=\"Please enter user name\" />\r\n\t\t\t\t\t\t</a-form-item>\r\n\t\t\t\t\t</a-col>\r\n\t\t\t\t</a-row>\r\n\t\t\t\t<a-row :gutter=\"16\">\r\n\t\t\t\t\t<a-col :span=\"12\">\r\n\t\t\t\t\t\t<a-form-item label=\"密码*\">\r\n\t\t\t\t\t\t\t<a-input v-decorator=\"[\r\n\t\t\t\t\t\t\t  'password',\r\n\t\t\t\t\t\t\t  { rules: [{ required: true, message: 'Password can not be empty' }] },\r\n\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t\t type=\"password\" placeholder=\"Password\">\r\n\t\t\t\t\t\t\t\t<a-icon slot=\"prefix\" type=\"lock\" style=\"color: rgba(0,0,0,.25)\" />\r\n\t\t\t\t\t\t\t</a-input>\r\n\t\t\t\t\t\t</a-form-item>\r\n\t\t\t\t\t</a-col>\r\n\t\t\t\t</a-row>\r\n\t\t\t\t<a-row :gutter=\"16\">\r\n\t\t\t\t\t<a-col :span=\"12\">\r\n\t\t\t\t\t\t<a-form-item label=\"性别\">\r\n\t\t\t\t\t\t\t<a-select v-decorator=\"['gender']\" placeholder=\"Please choose the gender\">\r\n\t\t\t\t\t\t\t\t<a-select-option value=\"M\">\r\n\t\t\t\t\t\t\t\t\t男性\r\n\t\t\t\t\t\t\t\t</a-select-option>\r\n\t\t\t\t\t\t\t\t<a-select-option value=\"F\">\r\n\t\t\t\t\t\t\t\t\t女性\r\n\t\t\t\t\t\t\t\t</a-select-option>\r\n\t\t\t\t\t\t\t</a-select>\r\n\t\t\t\t\t\t</a-form-item>\r\n\t\t\t\t\t</a-col>\r\n\t\t\t\t\t<a-col :span=\"12\">\r\n\t\t\t\t\t\t<a-form-item label=\"年龄段\">\r\n\t\t\t\t\t\t\t<a-select v-decorator=\"['age']\" placeholder=\"Please choose the age\">\r\n\t\t\t\t\t\t\t\t<a-select-option value=1>\r\n\t\t\t\t\t\t\t\t\tUnder 18\r\n\t\t\t\t\t\t\t\t</a-select-option>\r\n\t\t\t\t\t\t\t\t<a-select-option value=18>\r\n\t\t\t\t\t\t\t\t\t18-24\r\n\t\t\t\t\t\t\t\t</a-select-option>\r\n\t\t\t\t\t\t\t\t<a-select-option value=25>\r\n\t\t\t\t\t\t\t\t\t25-34\r\n\t\t\t\t\t\t\t\t</a-select-option>\r\n\t\t\t\t\t\t\t\t<a-select-option value=35>\r\n\t\t\t\t\t\t\t\t\t35-44\r\n\t\t\t\t\t\t\t\t</a-select-option>\r\n\t\t\t\t\t\t\t\t<a-select-option value=45>\r\n\t\t\t\t\t\t\t\t\t45-49\r\n\t\t\t\t\t\t\t\t</a-select-option>\r\n\t\t\t\t\t\t\t\t<a-select-option value=50>\r\n\t\t\t\t\t\t\t\t\t50-55\r\n\t\t\t\t\t\t\t\t</a-select-option>\r\n\t\t\t\t\t\t\t\t<a-select-option value=56>\r\n\t\t\t\t\t\t\t\t\t56+\r\n\t\t\t\t\t\t\t\t</a-select-option>\r\n\t\t\t\t\t\t\t</a-select>\r\n\t\t\t\t\t\t</a-form-item>\r\n\t\t\t\t\t</a-col>\r\n\t\t\t\t</a-row>\r\n\t\t\t\t<a-row :gutter=\"16\">\r\n\t\t\t\t\t<a-col :span=\"12\">\r\n\t\t\t\t\t\t<a-form-item label=\"职业\">\r\n\t\t\t\t\t\t\t<a-select v-decorator=\"['occupation']\" placeholder=\"Please choose the occupation\">\r\n\t\t\t\t\t\t\t\t<a-select-option :value=index v-for=\"(item, index) in occupationList\">\r\n\t\t\t\t\t\t\t\t\t{{item}}\r\n\t\t\t\t\t\t\t\t</a-select-option>\r\n\t\t\t\t\t\t\t</a-select>\r\n\t\t\t\t\t\t</a-form-item>\r\n\t\t\t\t\t</a-col>\r\n\t\t\t\t\t<a-col :span=\"12\">\r\n\t\t\t\t\t\t<a-form-item label=\"邮政编码\">\r\n\t\t\t\t\t\t\t<a-input v-decorator=\"['zipCode']\" placeholder=\"Please enter user zip-code\" />\r\n\t\t\t\t\t\t</a-form-item>\r\n\t\t\t\t\t</a-col>\r\n\t\t\t\t</a-row>\r\n\t\t\t\t<a-row :gutter=\"16\">\r\n\t\t\t\t\t<a-col :span=\"12\">\r\n\t\t\t\t\t\t<a-form-item label=\"头像\">\r\n\t\t\t\t\t\t\t<a-upload name=\"file\" list-type=\"picture-card\" class=\"avatar-uploader\" :show-upload-list=\"false\" :action=\"this.$store.state.requestPath + 'uploadHeadPic'\"\r\n\t\t\t\t\t\t\t :before-upload=\"beforeUpload\" @change=\"handleChange\">\r\n\t\t\t\t\t\t\t\t<img v-if=\"imageUrl\" :src=\"imageUrl\" alt=\"avatar\" style=\"width: 128px; height: 128px;\" />\r\n\t\t\t\t\t\t\t\t<div v-else>\r\n\t\t\t\t\t\t\t\t\t<a-icon :type=\"loading ? 'loading' : 'plus'\" />\r\n\t\t\t\t\t\t\t\t\t<div class=\"ant-upload-text\">\r\n\t\t\t\t\t\t\t\t\t\t上传\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</a-upload>\r\n\t\t\t\t\t\t</a-form-item>\r\n\t\t\t\t\t</a-col>\r\n\t\t\t\t</a-row>\r\n\t\t\t</a-form>\r\n\t\t\t<div :style=\"{\r\n\t\t\t  position: 'absolute',\r\n\t\t\t  right: 0,\r\n\t\t\t  bottom: 0,\r\n\t\t\t  width: '100%',\r\n\t\t\t  borderTop: '1px solid #e9e9e9',\r\n\t\t\t  padding: '10px 16px',\r\n\t\t\t  background: '#fff',\r\n\t\t\t  textAlign: 'right',\r\n\t\t\t  zIndex: 1,\r\n\t\t\t}\">\r\n\t\t\t\t<a-button :style=\"{ marginRight: '8px' }\" @click=\"onClose\">\r\n\t\t\t\t\tCancel\r\n\t\t\t\t</a-button>\r\n\t\t\t\t<a-button type=\"primary\" @click=\"handleSubmit\">\r\n\t\t\t\t\tSubmit\r\n\t\t\t\t</a-button>\r\n\t\t\t</div>\r\n\t\t</a-drawer>\r\n\t</div>\r\n</template>\r\n<script>\r\n\tfunction getBase64(img, callback) {\r\n\t\tconst reader = new FileReader();\r\n\t\treader.addEventListener('load', () => callback(reader.result));\r\n\t\treader.readAsDataURL(img);\r\n\t};\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tform: this.$form.createForm(this),\r\n\t\t\t\tvisible: false,\r\n\t\t\t\toccupationList: ['other', 'academic/educator', 'artist', 'clerical/admin', 'college/grad student',\r\n\t\t\t\t\t'customer service', 'doctor/health care', 'executive/managerial', 'farmer', 'homemaker', 'K-12 student',\r\n\t\t\t\t\t'lawyer', 'programmer', 'retired', 'sales/marketing', 'scientist', 'self-employed',\r\n\t\t\t\t\t'technician/engineer', 'tradesman/craftsman', 'unemployed', 'writer'\r\n\t\t\t\t],\r\n\t\t\t\tloading: false,\r\n\t\t\t\timageUrl: '',\r\n\t\t\t\tuser: {\r\n\t\t\t\t\t\"name\": \"undefine\",\r\n\t\t\t\t\t\"password\": \"undefine\",\r\n\t\t\t\t\t\"gender\": \"undefine\",\r\n\t\t\t\t\t\"age\": null,\r\n\t\t\t\t\t\"occupation\": null,\r\n\t\t\t\t\t\"zipCode\": \"undefine\",\r\n\t\t\t\t\t\"headPic\": \"default.jpg\"\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync userRegister() {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await this.axios.post(this.$store.state.requestPath + 'register/', this.user);\r\n\t\t\t\tif (data.code == 0) {\r\n\t\t\t\t\tthis.onClose();\r\n\t\t\t\t\tthis.$message.success(' (｡･∀･)ﾉﾞ 注册成功~ ', 1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$message.error(' (￣△￣；) 出错啦~ ', 2);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tshowDrawer() {\r\n\t\t\t\tthis.visible = true;\r\n\t\t\t},\r\n\t\t\tonClose() {\r\n\t\t\t\tthis.visible = false;\r\n\t\t\t},\r\n\t\t\thandleChange(info) {\r\n\t\t\t\tif (info.file.status === 'uploading') {\r\n\t\t\t\t\tthis.loading = true;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (info.file.status === 'done') {\r\n\t\t\t\t\t// 从前端获取上传的 img-url\r\n\t\t\t\t\tgetBase64(info.file.originFileObj, imageUrl => {\r\n\t\t\t\t\t\tthis.imageUrl = imageUrl;\r\n\t\t\t\t\t\tthis.loading = false;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tthis.user.headPic = info.file.response.data.src;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tbeforeUpload(file) {\r\n\t\t\t\tconst isJpgOrPng = file.type === 'image/jpeg' || file.type === 'image/png';\r\n\t\t\t\tif (!isJpgOrPng) {\r\n\t\t\t\t\tthis.$message.error('You can only upload JPG file!');\r\n\t\t\t\t}\r\n\t\t\t\tconst isLt2M = file.size / 1024 / 1024 < 2;\r\n\t\t\t\tif (!isLt2M) {\r\n\t\t\t\t\tthis.$message.error('Image must smaller than 2MB!');\r\n\t\t\t\t}\r\n\t\t\t\treturn isJpgOrPng && isLt2M;\r\n\t\t\t},\r\n\t\t\tasync handleSubmit(e) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tthis.form.validateFields((err, values) => {\r\n\t\t\t\t\tif (!err) {\r\n\t\t\t\t\t\tthis.user.name = values.name;\r\n\t\t\t\t\t\tthis.user.password = values.password;\r\n\t\t\t\t\t\tthis.user.gender = values.gender;\r\n\t\t\t\t\t\tthis.user.age = values.age;\r\n\t\t\t\t\t\tthis.user.occupation = values.occupation;\r\n\t\t\t\t\t\tthis.user.zipCode = values.zipCode;\r\n\t\t\t\t\t\tthis.userRegister();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n\r\n<style>\r\n\t.avatar-uploader>.ant-upload {\r\n\t\twidth: 128px;\r\n\t\theight: 128px;\r\n\t}\r\n\t.ant-upload-select-picture-card i {\r\n\t\tfont-size: 32px;\r\n\t\tcolor: #999;\r\n\t}\r\n\t.ant-upload-select-picture-card .ant-upload-text {\r\n\t\tmargin-top: 8px;\r\n\t\tcolor: #666;\r\n\t}\r\n</style>\n"]}]}