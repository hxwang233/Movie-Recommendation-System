{"remainingRequest":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\src\\components\\chart\\UserGender.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\src\\components\\chart\\UserGender.vue","mtime":1614589067259},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CglDaGFydAp9IGZyb20gJ0BhbnR2L2cyJzsKZXhwb3J0IGRlZmF1bHQgewoJZGF0YSgpIHsKCQlyZXR1cm4gewoJCQlkYXRhU291cmNlOiBbXSwKCQl9OwoJfSwKCW1ldGhvZHM6IHsKCQlhc3luYyBnZXRVc2VyQWdlRGF0YSgpIHsKCQkJbGV0IHsKCQkJCWRhdGEKCQkJfSA9IGF3YWl0IHRoaXMuJGdldCh0aGlzLiRzdG9yZS5zdGF0ZS5yZXF1ZXN0UGF0aCArICcvYWRtaW4vdXNlcl9nZW5kZXIvY2hhcnQnKTsKCQkJdGhpcy5kYXRhU291cmNlID0gZGF0YS5kYXRhOwoJCQljb25zb2xlLmxvZyhkYXRhLmRhdGEpCgkJfSwKCX0sCglhc3luYyBjcmVhdGVkKCkgewoJCXRoaXMuZ2V0VXNlckFnZURhdGEoKTsKCX0sCgl3YXRjaDogewoJCWRhdGFTb3VyY2U6IGFzeW5jIGZ1bmN0aW9uKG9iaikgewoJCQljb25zdCBjaGFydCA9IG5ldyBDaGFydCh7CgkJCSAgY29udGFpbmVyOiAnY29udGFpbmVyJywKCQkJICBhdXRvRml0OiB0cnVlLAoJCQkgIGhlaWdodDogNTAwCgkJCX0pOwoJCQljaGFydC5kYXRhKG9iaik7CgkJCWNoYXJ0LmxlZ2VuZChmYWxzZSk7CgkJCWNoYXJ0LnRvb2x0aXAoewoJCQkgIHNob3dNYXJrZXJzOiBmYWxzZQoJCQl9KTsKCQkJY2hhcnQuZmFjZXQoJ3JlY3QnLCB7CgkJCSAgZmllbGRzOiBbJ3R5cGUnXSwKCQkJICBwYWRkaW5nOiAyMCwKCQkJICBzaG93VGl0bGU6IGZhbHNlLAoJCQkgIGVhY2hWaWV3OiAodmlldywgZmFjZXQpID0+IHsKCQkJICAgIGNvbnN0IGRhdGEgPSBmYWNldC5kYXRhOwoJCQkgICAgbGV0IGNvbG9yOwoJCQkgICAgaWYgKGRhdGFbMF0udHlwZSA9PSAn55S35oCnJykgewoJCQkgICAgICBjb2xvciA9ICcjMDBhYWZmJzsKCQkJICAgIH0gZWxzZSB7CgkJCSAgICAgIGNvbG9yID0gJyNmZjU1MDAnOwoJCQkgICAgfQoJCQkgICAgZGF0YS5wdXNoKHsgdHlwZTogJ+WFtuS7licsIHZhbHVlOiBNYXRoLmZsb29yKDEwMCooMTAwIC0gZGF0YVswXS52YWx1ZSkpLzEwMCB9KTsKCQkJICAgIHZpZXcuZGF0YShkYXRhKTsKCQkJICAgIHZpZXcuY29vcmRpbmF0ZSgndGhldGEnLCB7CgkJCSAgICAgIHJhZGl1czogMC44LAoJCQkgICAgICBpbm5lclJhZGl1czogMC41CgkJCSAgICB9KTsKCQkJICAgIHZpZXcKCQkJICAgICAgLmludGVydmFsKCkKCQkJICAgICAgLmFkanVzdCgnc3RhY2snKQoJCQkgICAgICAucG9zaXRpb24oJ3ZhbHVlJykKCQkJICAgICAgLmNvbG9yKCd0eXBlJywgW2NvbG9yLCAnI2VjZWVmMSddKQoJCQkgICAgICAuc3R5bGUoewoJCQkgICAgICAgIG9wYWNpdHk6IDEsCgkJCSAgICAgIH0pOwoJCQkgICAgdmlldy5hbm5vdGF0aW9uKCkudGV4dCh7CgkJCSAgICAgIHBvc2l0aW9uOiBbICc1MCUnLCAnNTAlJyBdLAoJCQkgICAgICBjb250ZW50OiBkYXRhWzBdLnR5cGUsCgkJCSAgICAgIHN0eWxlOiB7CgkJCSAgICAgICAgZm9udFNpemU6IDEyLAoJCQkgICAgICAgIGZpbGw6ICcjOGM4YzhjJywKCQkJICAgICAgICBmb250V2VpZ2h0OiAzMDAsCgkJCSAgICAgICAgdGV4dEJhc2VsaW5lOiAnYm90dG9tJywKCQkJICAgICAgICB0ZXh0QWxpZ246ICdjZW50ZXInCgkJCSAgICAgIH0sCgkJCSAgICAgIG9mZnNldFk6IC0xMiwKCQkJICAgIH0pOwoJCQkKCQkJICAgIHZpZXcuYW5ub3RhdGlvbigpLnRleHQoewoJCQkgICAgICBwb3NpdGlvbjogWyc1MCUnLCAnNTAlJ10sCgkJCSAgICAgIGNvbnRlbnQ6IGRhdGFbMF0udmFsdWUsCgkJCSAgICAgIHN0eWxlOiB7CgkJCSAgICAgICAgZm9udFNpemU6IDE4LAoJCQkgICAgICAgIGZpbGw6ICcjMDAwJywKCQkJICAgICAgICBmb250V2VpZ2h0OiA1MDAsCgkJCSAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJwoJCQkgICAgICB9LAoJCQkgICAgICBvZmZzZXRZOiAxMCwKCQkJICAgIH0pOwoJCQkKCQkJICAgIHZpZXcuaW50ZXJhY3Rpb24oJ2VsZW1lbnQtYWN0aXZlJyk7CgkJCSAgfQoJCQl9KTsKCQkJY2hhcnQucmVuZGVyKCk7CgkJfQoJfSwKCn0K"},{"version":3,"sources":["UserGender.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"UserGender.vue","sourceRoot":"src/components/chart","sourcesContent":["<template>\r\n\t<div style=\"margin-top: 30px;\">\r\n\t\t<div id=\"container\"></div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tChart\r\n\t} from '@antv/g2';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdataSource: [],\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync getUserAgeData() {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await this.$get(this.$store.state.requestPath + '/admin/user_gender/chart');\r\n\t\t\t\tthis.dataSource = data.data;\r\n\t\t\t\tconsole.log(data.data)\r\n\t\t\t},\r\n\t\t},\r\n\t\tasync created() {\r\n\t\t\tthis.getUserAgeData();\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tdataSource: async function(obj) {\r\n\t\t\t\tconst chart = new Chart({\r\n\t\t\t\t  container: 'container',\r\n\t\t\t\t  autoFit: true,\r\n\t\t\t\t  height: 500\r\n\t\t\t\t});\r\n\t\t\t\tchart.data(obj);\r\n\t\t\t\tchart.legend(false);\r\n\t\t\t\tchart.tooltip({\r\n\t\t\t\t  showMarkers: false\r\n\t\t\t\t});\r\n\t\t\t\tchart.facet('rect', {\r\n\t\t\t\t  fields: ['type'],\r\n\t\t\t\t  padding: 20,\r\n\t\t\t\t  showTitle: false,\r\n\t\t\t\t  eachView: (view, facet) => {\r\n\t\t\t\t    const data = facet.data;\r\n\t\t\t\t    let color;\r\n\t\t\t\t    if (data[0].type == '男性') {\r\n\t\t\t\t      color = '#00aaff';\r\n\t\t\t\t    } else {\r\n\t\t\t\t      color = '#ff5500';\r\n\t\t\t\t    }\r\n\t\t\t\t    data.push({ type: '其他', value: Math.floor(100*(100 - data[0].value))/100 });\r\n\t\t\t\t    view.data(data);\r\n\t\t\t\t    view.coordinate('theta', {\r\n\t\t\t\t      radius: 0.8,\r\n\t\t\t\t      innerRadius: 0.5\r\n\t\t\t\t    });\r\n\t\t\t\t    view\r\n\t\t\t\t      .interval()\r\n\t\t\t\t      .adjust('stack')\r\n\t\t\t\t      .position('value')\r\n\t\t\t\t      .color('type', [color, '#eceef1'])\r\n\t\t\t\t      .style({\r\n\t\t\t\t        opacity: 1,\r\n\t\t\t\t      });\r\n\t\t\t\t    view.annotation().text({\r\n\t\t\t\t      position: [ '50%', '50%' ],\r\n\t\t\t\t      content: data[0].type,\r\n\t\t\t\t      style: {\r\n\t\t\t\t        fontSize: 12,\r\n\t\t\t\t        fill: '#8c8c8c',\r\n\t\t\t\t        fontWeight: 300,\r\n\t\t\t\t        textBaseline: 'bottom',\r\n\t\t\t\t        textAlign: 'center'\r\n\t\t\t\t      },\r\n\t\t\t\t      offsetY: -12,\r\n\t\t\t\t    });\r\n\t\t\t\t\r\n\t\t\t\t    view.annotation().text({\r\n\t\t\t\t      position: ['50%', '50%'],\r\n\t\t\t\t      content: data[0].value,\r\n\t\t\t\t      style: {\r\n\t\t\t\t        fontSize: 18,\r\n\t\t\t\t        fill: '#000',\r\n\t\t\t\t        fontWeight: 500,\r\n\t\t\t\t        textAlign: 'center'\r\n\t\t\t\t      },\r\n\t\t\t\t      offsetY: 10,\r\n\t\t\t\t    });\r\n\t\t\t\t\r\n\t\t\t\t    view.interaction('element-active');\r\n\t\t\t\t  }\r\n\t\t\t\t});\r\n\t\t\t\tchart.render();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t}\r\n</script>\r\n\r\n<style>\r\n</style>\n\n"]}]}