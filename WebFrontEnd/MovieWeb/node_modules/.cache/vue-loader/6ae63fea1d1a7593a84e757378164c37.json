{"remainingRequest":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\src\\components\\LoginPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\src\\components\\LoginPage.vue","mtime":1613551203490},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CgltYXBNdXRhdGlvbnMsCgltYXBTdGF0ZQp9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CglkYXRhKCkgewoJCXJldHVybiB7CgkJCXVzZXI6IHsKCQkJCSJuYW1lIjogIndoeCIsCgkJCQkicGFzc3dvcmQiOiAiMTIzIiwKCQkJfSwKCQl9Cgl9LAoJYmVmb3JlQ3JlYXRlKCkgewoJCXRoaXMuZm9ybSA9IHRoaXMuJGZvcm0uY3JlYXRlRm9ybSh0aGlzLCB7CgkJCW5hbWU6ICdub3JtYWxfbG9naW4nCgkJfSk7Cgl9LAoJY29tcHV0ZWQ6IHsKCQkuLi5tYXBTdGF0ZShbJ3JlcXVlc3RQYXRoJ10pCgl9LAoJbWV0aG9kczogewoJCS4uLm1hcE11dGF0aW9ucyhbImxvZ2luIl0pLAoJCWFzeW5jIHVzZXJMb2dpbihpc0FkbWltKSB7CgkJCWxldCBwYXJtID0gJ3VzZXJMb2dpbi8nCgkJCWlmKGlzQWRtaW0pewoJCQkJcGFybSA9ICdhZG1pbkxvZ2luLycKCQkJfQoJCQlsZXQgewoJCQkJZGF0YQoJCQl9ID0gYXdhaXQgdGhpcy5heGlvcy5wb3N0KHRoaXMucmVxdWVzdFBhdGggKyBwYXJtLCB0aGlzLnVzZXIpOwoJCQlpZiAoZGF0YS5jb2RlID09IDApIHsKCQkJCXRoaXMuJG1lc3NhZ2Uuc3VjY2VzcygnICjvvaHvvaXiiIDvvaUp776J776eIOeZu+W9leaIkOWKn34gJywgMSk7CgkJCQl0aGlzLmxvZ2luKGRhdGEuZGF0YSk7CgkJCQlpZighaXNBZG1pbSl7CgkJCQkJdGhpcy4kcm91dGVyLnB1c2goewoJCQkJCQlwYXRoOiAnL2hvbWUnCgkJCQkJfSk7CgkJCQl9ZWxzZXsKCQkJCQl0aGlzLiRyb3V0ZXIucHVzaCh7CgkJCQkJCXBhdGg6ICcvYWRtaW4nCgkJCQkJfSk7CgkJCQl9CgoJCQl9IGVsc2UgewoJCQkJdGhpcy4kbWVzc2FnZS5lcnJvcignICjvv6PilrPvv6PvvJspIOi0puWPt+WQjeaIluWvhueggemUmeivr34gJywgMik7CgkJCX0KCQl9LAoJCWFzeW5jIGhhbmRsZVN1Ym1pdChlKSB7CgkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJdGhpcy5mb3JtLnZhbGlkYXRlRmllbGRzKChlcnIsIHZhbHVlcykgPT4gewoJCQkJaWYgKCFlcnIpIHsKCQkJCQl0aGlzLnVzZXIubmFtZSA9IHZhbHVlcy51c2VyTmFtZTsKCQkJCQl0aGlzLnVzZXIucGFzc3dvcmQgPSB2YWx1ZXMucGFzc3dvcmQ7CgkJCQkJdGhpcy51c2VyTG9naW4odmFsdWVzLmFkbWluKTsKCQkJCX0KCQkJfSk7CgkJfSwKCX0KfQo="},{"version":3,"sources":["LoginPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LoginPage.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n\t<div id=\"whole-login\">\r\n\t\t<div>\r\n\t\t\t<h1 @click=\"userLogin()\">登录</h1>\r\n\t\t\t<a-form id=\"components-form-demo-normal-login\" :form=\"form\" class=\"login-form\" @submit=\"handleSubmit\">\r\n\t\t\t\t<a-form-item>\r\n\t\t\t\t\t<a-input v-decorator=\"[\r\n\t\t          'userName',\r\n\t\t          { rules: [{ required: true, message: 'Please input your username!' }] },\r\n\t\t        ]\"\r\n\t\t\t\t\t placeholder=\"Username\">\r\n\t\t\t\t\t\t<a-icon slot=\"prefix\" type=\"user\" style=\"color: rgba(0,0,0,.25)\" />\r\n\t\t\t\t\t</a-input>\r\n\t\t\t\t</a-form-item>\r\n\t\t\t\t<a-form-item style=\"margin-top: -10px;\">\r\n\t\t\t\t\t<a-input v-decorator=\"[\r\n\t\t          'password',\r\n\t\t          { rules: [{ required: true, message: 'Please input your Password!' }] },\r\n\t\t        ]\"\r\n\t\t\t\t\t type=\"password\" placeholder=\"Password\">\r\n\t\t\t\t\t\t<a-icon slot=\"prefix\" type=\"lock\" style=\"color: rgba(0,0,0,.25)\" />\r\n\t\t\t\t\t</a-input>\r\n\t\t\t\t</a-form-item>\r\n\t\t\t\t<a-form-item style=\"margin: -20px 0 -5px 0;\">\r\n\t\t\t\t\t<a-checkbox v-decorator=\"[\r\n\t\t\t\t\t  'admin',\r\n\t\t\t\t\t  {\r\n\t\t\t\t\t    valuePropName: 'checked',\r\n\t\t\t\t\t    initialValue: false,\r\n\t\t\t\t\t  },\r\n\t\t\t\t\t]\" >\r\n\t\t\t\t\t\tAdmin Access\r\n\t\t\t\t\t</a-checkbox>\r\n\t\t\t\t</a-form-item>\r\n\t\t\t\t<a-form-item>\r\n\t\t\t\t\t<a-checkbox v-decorator=\"[\r\n\t\t          'remember',\r\n\t\t          {\r\n\t\t            valuePropName: 'checked',\r\n\t\t            initialValue: true,\r\n\t\t          },\r\n\t\t        ]\">\r\n\t\t\t\t\t\tRemember me\r\n\t\t\t\t\t</a-checkbox>\r\n\t\t\t\t\t<a class=\"login-form-forgot\" href=\"\">\r\n\t\t\t\t\t\tForgot password\r\n\t\t\t\t\t</a>\r\n\r\n\t\t\t\t\t<a-button style=\"margin-top: 15px;\" type=\"primary\" html-type=\"submit\" class=\"login-form-button\">\r\n\t\t\t\t\t\tLog in\r\n\t\t\t\t\t</a-button>\r\n\t\t\t\t\tOr\r\n\t\t\t\t\t<router-view></router-view>\r\n\t\t\t\t</a-form-item>\r\n\t\t\t</a-form>\r\n\t\t</div>\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmapMutations,\r\n\t\tmapState\r\n\t} from \"vuex\";\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tuser: {\r\n\t\t\t\t\t\"name\": \"whx\",\r\n\t\t\t\t\t\"password\": \"123\",\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t},\r\n\t\tbeforeCreate() {\r\n\t\t\tthis.form = this.$form.createForm(this, {\r\n\t\t\t\tname: 'normal_login'\r\n\t\t\t});\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState(['requestPath'])\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations([\"login\"]),\r\n\t\t\tasync userLogin(isAdmim) {\r\n\t\t\t\tlet parm = 'userLogin/'\r\n\t\t\t\tif(isAdmim){\r\n\t\t\t\t\tparm = 'adminLogin/'\r\n\t\t\t\t}\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await this.axios.post(this.requestPath + parm, this.user);\r\n\t\t\t\tif (data.code == 0) {\r\n\t\t\t\t\tthis.$message.success(' (｡･∀･)ﾉﾞ 登录成功~ ', 1);\r\n\t\t\t\t\tthis.login(data.data);\r\n\t\t\t\t\tif(!isAdmim){\r\n\t\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\t\tpath: '/home'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\t\tpath: '/admin'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$message.error(' (￣△￣；) 账号名或密码错误~ ', 2);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync handleSubmit(e) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tthis.form.validateFields((err, values) => {\r\n\t\t\t\t\tif (!err) {\r\n\t\t\t\t\t\tthis.user.name = values.userName;\r\n\t\t\t\t\t\tthis.user.password = values.password;\r\n\t\t\t\t\t\tthis.userLogin(values.admin);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang='scss'>\r\n\t#whole-login {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t\theight: 100vh;\r\n\t\tbackground-image: url('/login_bg.jpg');\r\n\t\tbackground-repeat: no-repeat;\r\n\t\tbackground-size: 100% 100%;\r\n\t}\r\n\r\n\t#components-form-demo-normal-login {\r\n\t\t.login-form {\r\n\t\t\tmax-width: 300px;\r\n\t\t}\r\n\r\n\t\t.login-form-forgot {\r\n\t\t\tfloat: right;\r\n\t\t}\r\n\r\n\t\t.login-form-button {\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\t}\r\n</style>\n"]}]}