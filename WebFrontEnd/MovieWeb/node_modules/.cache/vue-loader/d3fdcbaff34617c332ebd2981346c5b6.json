{"remainingRequest":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\src\\components\\chart\\UserAge.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\src\\components\\chart\\UserAge.vue","mtime":1614586571066},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CglDaGFydAp9IGZyb20gJ0BhbnR2L2cyJzsKZXhwb3J0IGRlZmF1bHQgewoJZGF0YSgpIHsKCQlyZXR1cm4gewoJCQlkYXRhU291cmNlOiBbXSwKCQl9OwoJfSwKCW1ldGhvZHM6IHsKCQlhc3luYyBnZXRVc2VyQWdlRGF0YSgpIHsKCQkJbGV0IHsKCQkJCWRhdGEKCQkJfSA9IGF3YWl0IHRoaXMuJGdldCh0aGlzLiRzdG9yZS5zdGF0ZS5yZXF1ZXN0UGF0aCArICcvYWRtaW4vdXNlcl9hZ2UvY2hhcnQnKTsKCQkJdGhpcy5kYXRhU291cmNlID0gZGF0YS5kYXRhOwoJCX0sCgl9LAoJYXN5bmMgY3JlYXRlZCgpIHsKCQl0aGlzLmdldFVzZXJBZ2VEYXRhKCk7Cgl9LAoJd2F0Y2g6IHsKCQlkYXRhU291cmNlOiBhc3luYyBmdW5jdGlvbihvYmopIHsKCQkJY29uc3QgY2hhcnQgPSBuZXcgQ2hhcnQoewoJCQkgIGNvbnRhaW5lcjogJ2NvbnRhaW5lcicsCgkJCSAgYXV0b0ZpdDogdHJ1ZSwKCQkJICBoZWlnaHQ6IDUwMCwKCQkJICBwYWRkaW5nOiBbNTAsIDIwLCA1MCwgMjBdLAoJCQl9KTsKCQkJY2hhcnQuZGF0YShvYmopOwoJCQljaGFydC5zY2FsZSgndmFsdWUnLCB7CgkJCSAgYWxpYXM6ICfkurrmlbAnLAoJCQl9KTsKCQkJCgkJCWNoYXJ0LmF4aXMoJ3R5cGUnLCB7CgkJCSAgdGlja0xpbmU6IHsKCQkJICAgIGFsaWduVGljazogZmFsc2UsCgkJCSAgfSwKCQkJfSk7CgkJCWNoYXJ0LmF4aXMoJ3ZhbHVlJywgZmFsc2UpOwoJCQkKCQkJY2hhcnQudG9vbHRpcCh7CgkJCSAgc2hvd01hcmtlcnM6IGZhbHNlLAoJCQl9KTsKCQkJY2hhcnQuaW50ZXJ2YWwoKS5wb3NpdGlvbigndHlwZSp2YWx1ZScpOwoJCQljaGFydC5pbnRlcmFjdGlvbignZWxlbWVudC1hY3RpdmUnKTsKCQkJCgkJCS8vIOa3u+WKoOaWh+acrOagh+azqAoJCQlvYmouZm9yRWFjaCgoaXRlbSkgPT4gewoJCQkgIGNoYXJ0CgkJCSAgICAuYW5ub3RhdGlvbigpCgkJCSAgICAudGV4dCh7CgkJCSAgICAgIHBvc2l0aW9uOiBbaXRlbS50eXBlLCBpdGVtLnZhbHVlXSwKCQkJICAgICAgY29udGVudDogaXRlbS52YWx1ZSwKCQkJICAgICAgc3R5bGU6IHsKCQkJICAgICAgICB0ZXh0QWxpZ246ICdjZW50ZXInLAoJCQkgICAgICB9LAoJCQkgICAgICBvZmZzZXRZOiAtMzAsCgkJCSAgICB9KQoJCQkgICAgLnRleHQoewoJCQkgICAgICBwb3NpdGlvbjogW2l0ZW0udHlwZSwgaXRlbS52YWx1ZV0sCgkJCSAgICAgIGNvbnRlbnQ6IChpdGVtLnBlcmNlbnQgKiAxMDApLnRvRml4ZWQoMCkgKyAnJScsCgkJCSAgICAgIHN0eWxlOiB7CgkJCSAgICAgICAgdGV4dEFsaWduOiAnY2VudGVyJywKCQkJICAgICAgfSwKCQkJICAgICAgb2Zmc2V0WTogLTEyLAoJCQkgICAgfSk7CgkJCX0pOwoJCQljaGFydC5yZW5kZXIoKTsKCQl9Cgl9LAoKfQo="},{"version":3,"sources":["UserAge.vue"],"names":[],"mappings":";;;;;;;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"UserAge.vue","sourceRoot":"src/components/chart","sourcesContent":["<template>\r\n\t<div style=\"margin-top: 30px;\">\r\n\t\t<div id=\"container\"></div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tChart\r\n\t} from '@antv/g2';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tdataSource: [],\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync getUserAgeData() {\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await this.$get(this.$store.state.requestPath + '/admin/user_age/chart');\r\n\t\t\t\tthis.dataSource = data.data;\r\n\t\t\t},\r\n\t\t},\r\n\t\tasync created() {\r\n\t\t\tthis.getUserAgeData();\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\tdataSource: async function(obj) {\r\n\t\t\t\tconst chart = new Chart({\r\n\t\t\t\t  container: 'container',\r\n\t\t\t\t  autoFit: true,\r\n\t\t\t\t  height: 500,\r\n\t\t\t\t  padding: [50, 20, 50, 20],\r\n\t\t\t\t});\r\n\t\t\t\tchart.data(obj);\r\n\t\t\t\tchart.scale('value', {\r\n\t\t\t\t  alias: '人数',\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tchart.axis('type', {\r\n\t\t\t\t  tickLine: {\r\n\t\t\t\t    alignTick: false,\r\n\t\t\t\t  },\r\n\t\t\t\t});\r\n\t\t\t\tchart.axis('value', false);\r\n\t\t\t\t\r\n\t\t\t\tchart.tooltip({\r\n\t\t\t\t  showMarkers: false,\r\n\t\t\t\t});\r\n\t\t\t\tchart.interval().position('type*value');\r\n\t\t\t\tchart.interaction('element-active');\r\n\t\t\t\t\r\n\t\t\t\t// 添加文本标注\r\n\t\t\t\tobj.forEach((item) => {\r\n\t\t\t\t  chart\r\n\t\t\t\t    .annotation()\r\n\t\t\t\t    .text({\r\n\t\t\t\t      position: [item.type, item.value],\r\n\t\t\t\t      content: item.value,\r\n\t\t\t\t      style: {\r\n\t\t\t\t        textAlign: 'center',\r\n\t\t\t\t      },\r\n\t\t\t\t      offsetY: -30,\r\n\t\t\t\t    })\r\n\t\t\t\t    .text({\r\n\t\t\t\t      position: [item.type, item.value],\r\n\t\t\t\t      content: (item.percent * 100).toFixed(0) + '%',\r\n\t\t\t\t      style: {\r\n\t\t\t\t        textAlign: 'center',\r\n\t\t\t\t      },\r\n\t\t\t\t      offsetY: -12,\r\n\t\t\t\t    });\r\n\t\t\t\t});\r\n\t\t\t\tchart.render();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t}\r\n</script>\r\n\r\n<style>\r\n</style>\n\n"]}]}