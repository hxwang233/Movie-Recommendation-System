{"remainingRequest":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\src\\components\\admin\\BulletinList.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\src\\components\\admin\\BulletinList.vue","mtime":1614343865879},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBsb2NhbGUgZnJvbSAnYW50LWRlc2lnbi12dWUvZXMvZGF0ZS1waWNrZXIvbG9jYWxlL3poX0NOJzsKaW1wb3J0IHsKCW1hcE11dGF0aW9ucywKCW1hcFN0YXRlCn0gZnJvbSAidnVleCI7CmNvbnN0IGNvbHVtbnMgPSBbewoJCXRpdGxlOiAn5o6l5pS255So5oi3JywKCQlkYXRhSW5kZXg6ICd1c2VyTmFtZScsCgkJc2NvcGVkU2xvdHM6IHsKCQkJY3VzdG9tUmVuZGVyOiAndXNlck5hbWUnCgkJfSwKCX0sCgl7CgkJdGl0bGU6ICfnvJbovpEnLAoJCWRhdGFJbmRleDogJ2FkbWluTmFtZScsCgkJd2lkdGg6ICczMDBweCcsCgkJc2NvcGVkU2xvdHM6IHsKCQkJY3VzdG9tUmVuZGVyOiAnYWRtaW5OYW1lJwoJCX0sCgl9LAoJewoJCXRpdGxlOiAn5YWs5ZGK5YaF5a65JywKCQlkYXRhSW5kZXg6ICdjb250ZW50JywKCQlzY29wZWRTbG90czogewoJCQljdXN0b21SZW5kZXI6ICdjb250ZW50JwoJCX0sCgl9LAoJewoJCXRpdGxlOiAn5Yib5bu65pe26Ze0JywKCQlkYXRhSW5kZXg6ICdjcmVhdGVkVGltZScsCgl9LAoJewoJCXRpdGxlOiAn5pON5L2cJywKCQlkYXRhSW5kZXg6ICdhY3Rpb24nLAoJCXNjb3BlZFNsb3RzOiB7CgkJCWN1c3RvbVJlbmRlcjogJ2FjdGlvbicKCQl9LAoJfSwKXTsKY29sdW1ucy5mb3JFYWNoKChyKSA9PiB7CglyLmFsaWduID0gJ2NlbnRlcicKfSk7CgpleHBvcnQgZGVmYXVsdCB7CglkYXRhKCkgewoJCXJldHVybiB7CgkJCWxvY2FsZSwKCQkJcGFyYW1zOiB7CgkJCQlrZXk6IG51bGwsCgkJCQlzdGFydFRpbWU6IG51bGwsCgkJCQllbmRUaW1lOiBudWxsLAoJCQkJZ2VuZGVyOiBudWxsLAoJCQkJYWdlOiBudWxsLAoJCQkJb2NjdXBhdGlvbjogbnVsbCwKCQkJfSwKCQkJY29sbGFwc2VkOiB0cnVlLAoJCQlkYXRhU291cmNlOiBudWxsLAoJCQlwYWdlOiAxLAoJCQlwYWdlU2l6ZTogMTAsCgkJCWRhdGFsb2FkaW5nOiB0cnVlLAoJCQl2aXNpYmxlOiBmYWxzZSwKCQkJbW9kaWZ5OiBmYWxzZSwKCQkJbW9kaWZ5UmVjb3JkOiB7CgkJCQljcmVhdGVkVGltZTogbnVsbCwKCQkJCW1vZGlmeVJlY29yZDogbnVsbCwKCQkJfSwKCQkJbmV3Q29udGVudDogbnVsbCwKCQkJY29sdW1ucywKCQkJYWdlTGlzdDogbnVsbCwKCQkJb2NjdXBhdGlvbkxpc3Q6IG51bGwsCgkJfTsKCX0sCgljb21wdXRlZDogewoJCS4uLm1hcFN0YXRlKFsncmVxdWVzdFBhdGgnLCAndXNlckluZm8nXSkKCX0sCglhc3luYyBjcmVhdGVkKCkgewoJCXRoaXMuZ2V0QWxsQWdlKCk7CgkJdGhpcy5nZXRBbGxPY2N1cGF0aW9uKCk7CgkJdGhpcy5nZXRBbGxCdWxsZXRpbigpOwoJfSwKCW1ldGhvZHM6IHsKCQlhc3luYyBnZXRBbGxBZ2UoKSB7CgkJCWlmICh0aGlzLiRzdG9yZS5zdGF0ZS51c2VySW5mbykgewoJCQkJbGV0IHsKCQkJCQlkYXRhCgkJCQl9ID0gYXdhaXQgdGhpcy4kZ2V0KHRoaXMuJHN0b3JlLnN0YXRlLnJlcXVlc3RQYXRoICsgJ2FsbEFnZScpOwoJCQkJdGhpcy5hZ2VMaXN0ID0gZGF0YS5kYXRhOwoJCQl9IGVsc2UgewoJCQkJY29uc29sZS5sb2coInVzZXJJbmZvIG5vdCBmb3VuZCIpOwoJCQl9CgkJfSwKCQlhc3luYyBnZXRBbGxPY2N1cGF0aW9uKCkgewoJCQlpZiAodGhpcy4kc3RvcmUuc3RhdGUudXNlckluZm8pIHsKCQkJCWxldCB7CgkJCQkJZGF0YQoJCQkJfSA9IGF3YWl0IHRoaXMuJGdldCh0aGlzLiRzdG9yZS5zdGF0ZS5yZXF1ZXN0UGF0aCArICdhbGxPY2N1cGF0aW9uJyk7CgkJCQl0aGlzLm9jY3VwYXRpb25MaXN0ID0gZGF0YS5kYXRhOwoJCQl9IGVsc2UgewoJCQkJY29uc29sZS5sb2coInVzZXJJbmZvIG5vdCBmb3VuZCIpOwoJCQl9CgkJfSwKCQlhc3luYyBnZXRBbGxCdWxsZXRpbigpIHsKCQkJdGhpcy5kYXRhbG9hZGluZyA9IHRydWU7CgkJCWlmICh0aGlzLiRzdG9yZS5zdGF0ZS51c2VySW5mbykgewoJCQkJbGV0IHsKCQkJCQlkYXRhCgkJCQl9ID0gYXdhaXQgdGhpcy4kZ2V0KHRoaXMuJHN0b3JlLnN0YXRlLnJlcXVlc3RQYXRoICsgJ2J1bGxldGluJyk7CgkJCQl0aGlzLmRhdGFTb3VyY2UgPSBkYXRhLmRhdGE7CgkJCQl0aGlzLmRhdGFsb2FkaW5nID0gZmFsc2U7CgkJCX0gZWxzZSB7CgkJCQljb25zb2xlLmxvZygidXNlckluZm8gbm90IGZvdW5kIik7CgkJCX0KCQl9LAoJCWFzeW5jIHNlYXJjaCgpIHsKCQkJdGhpcy5kYXRhbG9hZGluZyA9IHRydWU7CgkJCWxldCB7CgkJCQlkYXRhCgkJCX0gPSBhd2FpdCB0aGlzLmF4aW9zLnBvc3QodGhpcy5yZXF1ZXN0UGF0aCArICdidWxsZXRpbi9zZWxlY3QnLCB0aGlzLnBhcmFtcyk7CgkJCXRoaXMuZGF0YVNvdXJjZSA9IGRhdGEuZGF0YTsKCQkJdGhpcy5kYXRhbG9hZGluZyA9IGZhbHNlOwoJCX0sCgkJb25DaGFuZ2UoZGF0ZSwgZGF0ZVN0cmluZykgewoJCQl0aGlzLnBhcmFtcy5zdGFydFRpbWUgPSBkYXRlU3RyaW5nWzBdOwoJCQl0aGlzLnBhcmFtcy5lbmRUaW1lID0gZGF0ZVN0cmluZ1sxXTsKCQl9LAoJCWFzeW5jIGNvbmZpcm0oYmlkLCB1aWQpIHsKCQkJY29uc29sZS5sb2coJ2RlbDonICsgYmlkICsgJyAnICsgdWlkKTsKCQkJbGV0IHBhcmFtcyA9IHsKCQkJCWJpZDogYmlkLAoJCQkJdWlkOiB1aWQsCgkJCX0KCQkJbGV0IHsKCQkJCWRhdGEKCQkJfSA9IGF3YWl0IHRoaXMuYXhpb3MucG9zdCh0aGlzLnJlcXVlc3RQYXRoICsgJ2J1bGxldGluL2RlbGV0ZScsIHBhcmFtcyk7CgkJCWlmIChkYXRhLmNvZGUgPT0gMCkgewoJCQkJdGhpcy5nZXRBbGxCdWxsZXRpbigpOwoJCQkJdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfliKDpmaTmiJDlip8nKTsKCQkJfSBlbHNlIHsKCQkJCXRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WIoOmZpOWksei0pScpOwoJCQl9CgkJfSwKCQlhc3luYyBoYW5kbGVPayhlKSB7CgkJCWlmICh0aGlzLm5ld0NvbnRlbnQgIT0gbnVsbCAmJiB0aGlzLm5ld0NvbnRlbnQgIT0gIiIpIHsKCQkJCXRoaXMubW9kaWZ5UmVjb3JkLmNvbnRlbnQgPSB0aGlzLm5ld0NvbnRlbnQ7CgkJCQljb25zb2xlLmxvZyh0aGlzLm1vZGlmeVJlY29yZCkKCQkJCWxldCB7CgkJCQkJZGF0YQoJCQkJfSA9IGF3YWl0IHRoaXMuYXhpb3MucG9zdCh0aGlzLnJlcXVlc3RQYXRoICsgJ2J1bGxldGluL21vZGlmeScsIHRoaXMubW9kaWZ5UmVjb3JkKTsKCQkJCWlmIChkYXRhLmNvZGUgPT0gMCkgewoJCQkJCXRoaXMuZ2V0QWxsQnVsbGV0aW4oKTsKCQkJCQl0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+S/ruaUueaIkOWKnycpOwoJCQkJfSBlbHNlIHsKCQkJCQl0aGlzLiRtZXNzYWdlLmVycm9yKCfkv67mlLnlpLHotKUnKTsKCQkJCX0KCQkJfQoJCQl0aGlzLm5ld0NvbnRlbnQgPSBudWxsOwoJCQl0aGlzLm1vZGlmeSA9IGZhbHNlOwoJCX0sCgkJY2FuY2VsKGUpIHsKCQkJdGhpcy5uZXdDb250ZW50ID0gbnVsbDsKCQkJdGhpcy5tb2RpZnkgPSBmYWxzZTsKCQl9LAoJCWp1bXAoKSB7CgkJCXRoaXMuJHJvdXRlci5wdXNoKCcvYWRtaW4vYWRkX2J1bGxldGluJyk7CgkJfSwKCQl1cGRhdGVQb3BXaW5TdGF0ZShzdGF0ZSkgewoJCQl0aGlzLnZpc2libGUgPSBzdGF0ZTsKCQl9LAoJCWFzeW5jIHVwZGF0ZURhdGFTb3VyY2UoKSB7CgkJCXRoaXMuZ2V0QWxsQnVsbGV0aW4oKTsKCQl9LAoJCXNob3dNb2RpZnlXaW5kb3cocmVjb3JkKSB7CgkJCXRoaXMubW9kaWZ5UmVjb3JkID0gcmVjb3JkOwoJCQl0aGlzLm1vZGlmeSA9IHRydWU7CgkJfSwKCX0sCn07Cg=="},{"version":3,"sources":["BulletinList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BulletinList.vue","sourceRoot":"src/components/admin","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<div>\r\n\t\t\t<a-button type=\"primary\" icon=\"plus-circle\" @click=\"jump\">\r\n\t\t\t\t添加\r\n\t\t\t</a-button>\r\n\t\t\t<div style=\"display: flex; justify-content: flex-start;\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t搜关键字：\r\n\t\t\t\t\t<a-input style=\"width:250px; margin: 20px 0 ;\" v-model=\"params.key\" placeholder=\"用户名/管理员/管理员邮箱\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style=\"margin: 20px 0 0 50px\">\r\n\t\t\t\t\t公告时间区间：\r\n\t\t\t\t\t<a-range-picker @change=\"onChange\" style=\"width:250px; \" :locale=\"locale\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<a-button type=\"primary\" icon=\"search\" style=\"margin: 20px 0 0 60px\" @click=\"search\">\r\n\t\t\t\t\t搜索\r\n\t\t\t\t</a-button>\r\n\t\t\t</div>\r\n\t\t\t<div v-show=\"!collapsed\" style=\"display: flex; \">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t用户职业：\r\n\t\t\t\t\t<a-select v-model=\"params.occupation\" style=\"width: 200px;\" placeholder=\"选择职业\" :allowClear=\"true\">\r\n\t\t\t\t\t\t<a-select-option :value=key v-for=\"(value, key) in occupationList\">\r\n\t\t\t\t\t\t\t{{value}}\r\n\t\t\t\t\t\t</a-select-option>\r\n\t\t\t\t\t</a-select>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style=\"margin-left: 40px;\">\r\n\t\t\t\t\t用户年龄段：\r\n\t\t\t\t\t<a-select v-model=\"params.age\" style=\"width: 150px;\" placeholder=\"选择年龄段\" :allowClear=\"true\">\r\n\t\t\t\t\t\t<a-select-option :value=key v-for=\"(value, key) in ageList\">\r\n\t\t\t\t\t\t\t{{value}}\r\n\t\t\t\t\t\t</a-select-option>\r\n\t\t\t\t\t</a-select>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style=\"margin-left: 40px;\">\r\n\t\t\t\t\t用户性别：\r\n\t\t\t\t\t<a-select v-model=\"params.gender\" style=\"width: 150px;\" placeholder=\"选择性别\" :allowClear=\"true\">\r\n\t\t\t\t\t\t<a-select-option value=\"M\">男</a-select-option>\r\n\t\t\t\t\t\t<a-select-option value=\"F\">女</a-select-option>\r\n\t\t\t\t\t</a-select>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<a-divider style=\"color: #999999; margin-top: 5px;\">\r\n\t\t\t\t<a-icon @click=\"collapsed=!collapsed\" :type=\"collapsed?'down-circle':'up-circle'\" />\r\n\t\t\t\t{{collapsed?\"展开\":\"收起\"}}更多选项\r\n\t\t\t</a-divider>\r\n\r\n\r\n\t\t\t<a-table :columns=\"columns\" :data-source=\"dataSource\" :loading=\"dataloading\" :pagination=\" {pageSize:pageSize}\"\r\n\t\t\t :scroll=\"{ y: 360 }\">\r\n\t\t\t\t<span slot=\"userName\" slot-scope=\"text, record\">\r\n\t\t\t\t\t<a-popover placement=\"bottom\">\r\n\t\t\t\t\t\t<template slot=\"content\">\r\n\t\t\t\t\t\t\t<div>性别：{{record.userGender==\"M\"?\"男\":\"女\"}}</div>\r\n\t\t\t\t\t\t\t<div>年龄：{{ageList[record.userAge]}}</div>\r\n\t\t\t\t\t\t\t<div>职业：{{occupationList[record.userOccupation]}}</div>\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<b>{{text}}</b>\r\n\t\t\t\t\t</a-popover>\r\n\t\t\t\t</span>\r\n\t\t\t\t<span slot=\"adminName\" slot-scope=\"text, record\">\r\n\t\t\t\t\t<b>{{text}}</b>\r\n\t\t\t\t\t<div style=\"text-decoration: underline;\">{{record.adminEmail}}</div>\r\n\t\t\t\t</span>\r\n\t\t\t\t<span slot=\"content\" slot-scope=\"text, record\">\r\n\t\t\t\t\t<a-popover placement=\"bottom\">\r\n\t\t\t\t\t\t<template slot=\"content\">\r\n\t\t\t\t\t\t\t{{record.content}}\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<div v-limit=\"[record.content,12]\" v-text=\"record.content\"></div>\r\n\t\t\t\t\t</a-popover>\r\n\t\t\t\t</span>\r\n\t\t\t\t<span slot=\"action\" slot-scope=\"text, record\">\r\n\t\t\t\t\t<div style=\"display: flex; justify-content: center;\">\r\n\t\t\t\t\t\t<a-popconfirm title=\"是否确定删除？\" ok-text=\"是\" cancel-text=\"否\" @confirm=\"confirm(record.id, record.uid)\" @cancel=\"cancel\">\r\n\t\t\t\t\t\t\t<a>删除</a>\r\n\t\t\t\t\t\t</a-popconfirm>\r\n\t\t\t\t\t\t<a-divider type=\"vertical\" />\r\n\t\t\t\t\t\t<p style=\"cursor: pointer; color: #18aeff;\" @click=\"showModifyWindow(record)\"> 修改 </p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</span>\r\n\t\t\t</a-table>\r\n\t\t\t<a-modal v-model=\"modify\" title=\"修改公告 (所有接收方)\" @ok=\"handleOk\" :afterClose=\"cancel\">\r\n\t\t\t\t<p>发出时间：{{modifyRecord.createdTime}}</p>\r\n\t\t\t\t<p>原公告：{{modifyRecord.content}}</p>\r\n\t\t\t\t<p>修改为：</p>\r\n\t\t\t\t<a-input type=\"textarea\" v-model=\"newContent\" />\r\n\t\t\t</a-modal>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport locale from 'ant-design-vue/es/date-picker/locale/zh_CN';\r\n\timport {\r\n\t\tmapMutations,\r\n\t\tmapState\r\n\t} from \"vuex\";\r\n\tconst columns = [{\r\n\t\t\ttitle: '接收用户',\r\n\t\t\tdataIndex: 'userName',\r\n\t\t\tscopedSlots: {\r\n\t\t\t\tcustomRender: 'userName'\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '编辑',\r\n\t\t\tdataIndex: 'adminName',\r\n\t\t\twidth: '300px',\r\n\t\t\tscopedSlots: {\r\n\t\t\t\tcustomRender: 'adminName'\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '公告内容',\r\n\t\t\tdataIndex: 'content',\r\n\t\t\tscopedSlots: {\r\n\t\t\t\tcustomRender: 'content'\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '创建时间',\r\n\t\t\tdataIndex: 'createdTime',\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '操作',\r\n\t\t\tdataIndex: 'action',\r\n\t\t\tscopedSlots: {\r\n\t\t\t\tcustomRender: 'action'\r\n\t\t\t},\r\n\t\t},\r\n\t];\r\n\tcolumns.forEach((r) => {\r\n\t\tr.align = 'center'\r\n\t});\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tlocale,\r\n\t\t\t\tparams: {\r\n\t\t\t\t\tkey: null,\r\n\t\t\t\t\tstartTime: null,\r\n\t\t\t\t\tendTime: null,\r\n\t\t\t\t\tgender: null,\r\n\t\t\t\t\tage: null,\r\n\t\t\t\t\toccupation: null,\r\n\t\t\t\t},\r\n\t\t\t\tcollapsed: true,\r\n\t\t\t\tdataSource: null,\r\n\t\t\t\tpage: 1,\r\n\t\t\t\tpageSize: 10,\r\n\t\t\t\tdataloading: true,\r\n\t\t\t\tvisible: false,\r\n\t\t\t\tmodify: false,\r\n\t\t\t\tmodifyRecord: {\r\n\t\t\t\t\tcreatedTime: null,\r\n\t\t\t\t\tmodifyRecord: null,\r\n\t\t\t\t},\r\n\t\t\t\tnewContent: null,\r\n\t\t\t\tcolumns,\r\n\t\t\t\tageList: null,\r\n\t\t\t\toccupationList: null,\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState(['requestPath', 'userInfo'])\r\n\t\t},\r\n\t\tasync created() {\r\n\t\t\tthis.getAllAge();\r\n\t\t\tthis.getAllOccupation();\r\n\t\t\tthis.getAllBulletin();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync getAllAge() {\r\n\t\t\t\tif (this.$store.state.userInfo) {\r\n\t\t\t\t\tlet {\r\n\t\t\t\t\t\tdata\r\n\t\t\t\t\t} = await this.$get(this.$store.state.requestPath + 'allAge');\r\n\t\t\t\t\tthis.ageList = data.data;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(\"userInfo not found\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync getAllOccupation() {\r\n\t\t\t\tif (this.$store.state.userInfo) {\r\n\t\t\t\t\tlet {\r\n\t\t\t\t\t\tdata\r\n\t\t\t\t\t} = await this.$get(this.$store.state.requestPath + 'allOccupation');\r\n\t\t\t\t\tthis.occupationList = data.data;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(\"userInfo not found\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync getAllBulletin() {\r\n\t\t\t\tthis.dataloading = true;\r\n\t\t\t\tif (this.$store.state.userInfo) {\r\n\t\t\t\t\tlet {\r\n\t\t\t\t\t\tdata\r\n\t\t\t\t\t} = await this.$get(this.$store.state.requestPath + 'bulletin');\r\n\t\t\t\t\tthis.dataSource = data.data;\r\n\t\t\t\t\tthis.dataloading = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(\"userInfo not found\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync search() {\r\n\t\t\t\tthis.dataloading = true;\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await this.axios.post(this.requestPath + 'bulletin/select', this.params);\r\n\t\t\t\tthis.dataSource = data.data;\r\n\t\t\t\tthis.dataloading = false;\r\n\t\t\t},\r\n\t\t\tonChange(date, dateString) {\r\n\t\t\t\tthis.params.startTime = dateString[0];\r\n\t\t\t\tthis.params.endTime = dateString[1];\r\n\t\t\t},\r\n\t\t\tasync confirm(bid, uid) {\r\n\t\t\t\tconsole.log('del:' + bid + ' ' + uid);\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tbid: bid,\r\n\t\t\t\t\tuid: uid,\r\n\t\t\t\t}\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await this.axios.post(this.requestPath + 'bulletin/delete', params);\r\n\t\t\t\tif (data.code == 0) {\r\n\t\t\t\t\tthis.getAllBulletin();\r\n\t\t\t\t\tthis.$message.success('删除成功');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$message.error('删除失败');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync handleOk(e) {\r\n\t\t\t\tif (this.newContent != null && this.newContent != \"\") {\r\n\t\t\t\t\tthis.modifyRecord.content = this.newContent;\r\n\t\t\t\t\tconsole.log(this.modifyRecord)\r\n\t\t\t\t\tlet {\r\n\t\t\t\t\t\tdata\r\n\t\t\t\t\t} = await this.axios.post(this.requestPath + 'bulletin/modify', this.modifyRecord);\r\n\t\t\t\t\tif (data.code == 0) {\r\n\t\t\t\t\t\tthis.getAllBulletin();\r\n\t\t\t\t\t\tthis.$message.success('修改成功');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$message.error('修改失败');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.newContent = null;\r\n\t\t\t\tthis.modify = false;\r\n\t\t\t},\r\n\t\t\tcancel(e) {\r\n\t\t\t\tthis.newContent = null;\r\n\t\t\t\tthis.modify = false;\r\n\t\t\t},\r\n\t\t\tjump() {\r\n\t\t\t\tthis.$router.push('/admin/add_bulletin');\r\n\t\t\t},\r\n\t\t\tupdatePopWinState(state) {\r\n\t\t\t\tthis.visible = state;\r\n\t\t\t},\r\n\t\t\tasync updateDataSource() {\r\n\t\t\t\tthis.getAllBulletin();\r\n\t\t\t},\r\n\t\t\tshowModifyWindow(record) {\r\n\t\t\t\tthis.modifyRecord = record;\r\n\t\t\t\tthis.modify = true;\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n</style>\n"]}]}