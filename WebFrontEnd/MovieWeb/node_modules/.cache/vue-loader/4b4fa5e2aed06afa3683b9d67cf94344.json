{"remainingRequest":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\src\\components\\user\\Layout.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\src\\components\\user\\Layout.vue","mtime":1617006939160},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBNc2dQYWdlIGZyb20gIi4vTXNnUGFnZS52dWUiOwppbXBvcnQgUmVzZXRQd2RQYWdlIGZyb20gIi4vUmVzZXRQd2RQYWdlLnZ1ZSI7CmltcG9ydCBIaXN0b3J5Vmlld1BhZ2UgZnJvbSAiLi9IaXN0b3J5Vmlld1BhZ2UudnVlIjsKaW1wb3J0IFNlYXJjaFJlc3VsdFBhZ2UgZnJvbSAiLi9TZWFyY2hSZXN1bHRQYWdlLnZ1ZSI7CmltcG9ydCB7CgltYXBNdXRhdGlvbnMsCgltYXBTdGF0ZQp9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7Cgljb21wb25lbnRzOiB7CgkJTXNnUGFnZSwKCQlSZXNldFB3ZFBhZ2UsCgkJSGlzdG9yeVZpZXdQYWdlLAoJCVNlYXJjaFJlc3VsdFBhZ2UKCX0sCglkYXRhKCkgewoJCXJldHVybiB7CgkJCXZhbHVlOiBudWxsLAoJCQlzb3BlbjogZmFsc2UsCgkJCWhvcGVuOiBmYWxzZSwKCQkJbW9wZW46IGZhbHNlLAoJCQlwd2Q6IGZhbHNlLAoJCQltc2dOdW06IDAsCgkJfTsKCX0sCglhc3luYyBjcmVhdGVkKCkgewoJCXRoaXMuZ2V0TXNnTnVtKCk7Cgl9LAoJY29tcHV0ZWQ6IHsKCQkuLi5tYXBTdGF0ZShbJ3JlcXVlc3RQYXRoJywgJ3VzZXJJbmZvJywncGljUmVxdWVzdFBhdGgnXSksCgkJdGl0bGUoKSB7CgkJCXJldHVybiB0aGlzLiRyb3V0ZS5tZXRhLnRpdGxlOwoJCX0sCgl9LAoJbWV0aG9kczogewoJCS4uLm1hcE11dGF0aW9ucyhbJ2xvZ291dCddKSwKCQlhc3luYyBnZXRNc2dOdW0oKSB7CgkJCWlmICh0aGlzLiRzdG9yZS5zdGF0ZS51c2VySW5mbykgewoJCQkJbGV0IHsKCQkJCQlkYXRhCgkJCQl9ID0gYXdhaXQgdGhpcy4kZ2V0KHRoaXMuJHN0b3JlLnN0YXRlLnJlcXVlc3RQYXRoICsgJ21zZ19udW0vJyArIHRoaXMudXNlckluZm8udWlkKTsKCQkJCXRoaXMubXNnTnVtID0gZGF0YS5kYXRhOwoJCQl9IGVsc2UgewoJCQkJY29uc29sZS5sb2coInVzZXJJbmZvIG5vdCBmb3VuZCIpOwoJCQl9CgkJfSwKCQl1c2VyTG9nb3V0KCkgewoJCQl0aGlzLmxvZ291dCgpOwoJCQl0aGlzLiRyb3V0ZXIucHVzaCh7CgkJCQlwYXRoOiAnLycKCQkJfSk7CgkJCXRoaXMuJG1lc3NhZ2Uuc3VjY2VzcygnICjvv6PvuLbvv6Mp4oaX776eIOaEn+iwouaCqOeahOS9v+eUqH4gJywgMik7CgkJfSwKCQlvblNlYXJjaCh2YWx1ZSkgewoJCQlpZiAodmFsdWUubGVuZ3RoID09IDAgfHwgdmFsdWUgPT0gbnVsbCB8fCB2YWx1ZS5yZXBsYWNlKC8oXnMqKXwocyokKS9nLCAiIikubGVuZ3RoID09IDApIHsKCQkJCWNvbnNvbGUubG9nKCLovpPlhaXkuI3og73kuLrnqboiKTsKCQkJCXJldHVybjsKCQkJfQoJCQl0aGlzLnZhbHVlID0gdmFsdWU7CgkJCXRoaXMuc29wZW4gPSB0cnVlOwoJCX0sCgkJY2xvc2VSZXNXaW5kb3coKSB7CgkJCXRoaXMuc29wZW4gPSBmYWxzZTsKCQl9LAoJCXNob3dIaXN0b3J5Vmlld1dpbmRvdygpIHsKCQkJdGhpcy5ob3BlbiA9IHRydWU7CgkJfSwKCQljbG9zZUhpc3RvcnlWaWV3V2luZG93KCkgewoJCQl0aGlzLmhvcGVuID0gZmFsc2U7CgkJfSwKCQlzaG93TXNnV2luZG93KCkgewoJCQl0aGlzLm1vcGVuID0gdHJ1ZTsKCQl9LAoJCWNsb3NlTXNnV2luZG93KCkgewoJCQl0aGlzLm1vcGVuID0gZmFsc2U7CgkJCXRoaXMuZ2V0TXNnTnVtKCk7CgkJfSwKCQlvcGVuUmV3dFB3ZFdpbmRvdygpIHsKCQkJdGhpcy5wd2QgPSB0cnVlOwoJCX0sCgkJY2xvc2VSZXNldFB3ZFBhZ2UoKSB7CgkJCXRoaXMucHdkID0gZmFsc2U7CgkJfQoJfQp9Cg=="},{"version":3,"sources":["Layout.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Layout.vue","sourceRoot":"src/components/user","sourcesContent":["<template>\r\n\t<a-layout id=\"components-layout-demo-fixed\">\r\n\t\t<!-- <a-layout-header :style=\"{ position: 'fixed', zIndex: 1, width: '100%' }\"> -->\r\n\t\t<a-layout-header :style=\"{zIndex: 1, width: '100%' }\">\r\n\t\t\t<div class=\"logo\" />\r\n\t\t\t<a-menu theme=\"dark\" mode=\"horizontal\" :default-selected-keys=\"[title]\" :style=\"{ lineHeight: '64px'}\">\r\n\t\t\t\t<!-- <a-menu-item :key=i v-for=\"i in 3\" @click=\"navMove(i)\">nav {{i}}</a-menu-item> -->\r\n\t\t\t\t<a-menu-item key=\"推荐库\">\r\n\t\t\t\t\t<router-link to=\"/home/nav1\">\r\n\t\t\t\t\t\t<a-icon type=\"project\" theme=\"filled\" /><span>首页</span></router-link>\r\n\t\t\t\t</a-menu-item>\r\n\t\t\t\t<a-menu-item key=\"影视库\">\r\n\t\t\t\t\t<router-link to=\"/home/nav2\">\r\n\t\t\t\t\t\t<a-icon type=\"video-camera\" theme=\"filled\" /><span>影视库</span></router-link>\r\n\t\t\t\t</a-menu-item>\r\n\t\t\t\t<a-menu-item disabled>\r\n\t\t\t\t\t<a-input-search placeholder=\"搜索电影...\" size=\"large\" @search=\"onSearch\" style=\"margin: 12px 0 0 20px;\">\r\n\t\t\t\t\t\t<a-button slot=\"enterButton\">\r\n\t\t\t\t\t\t\t<a-icon type=\"search\" />\r\n\t\t\t\t\t\t</a-button>\r\n\t\t\t\t\t</a-input-search>\r\n\t\t\t\t\t<SearchResultPage v-if=\"sopen\" :sopen=\"sopen\" :value=\"value\" @closeResWindow=\"closeResWindow\"></SearchResultPage>\r\n\t\t\t\t</a-menu-item>\r\n\t\t\t\t<!-- 判断是否为null -->\r\n\t\t\t\t<a-dropdown :style=\"{float: 'right', 'margin-right':'-10px', 'fontSize':'18px'}\" placement=\"bottomRight\" size=\"large\"\r\n\t\t\t\t v-if=\"userInfo\">\r\n\t\t\t\t\t<a class=\"ant-dropdown-link\" @click=\"e => e.preventDefault()\">\r\n\t\t\t\t\t\t<a-badge :count=\"msgNum\">\r\n\t\t\t\t\t\t\t<a-avatar shape=\"square\" :src=\"picRequestPath + 'headpic/' +userInfo.headPic\" :alt=\"userInfo.name\" />\r\n\t\t\t\t\t\t</a-badge><span style=\"margin-left: 20px;\">{{userInfo.name}}</span>\r\n\t\t\t\t\t\t<!--\r\n\t\t\t\t\t\t<a-icon type=\"user\" /> \r\n\t\t\t\t\t\t<a-icon type=\"down\" /> -->\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\t<a-menu slot=\"overlay\">\r\n\t\t\t\t\t\t<a-menu-item @click=\"showHistoryViewWindow()\">\r\n\t\t\t\t\t\t\t<a-icon type=\"reload\" /><span style=\"margin-left: 5px;\">历史浏览</span>\r\n\t\t\t\t\t\t\t<HistoryViewPage v-if=\"hopen\" :hopen=\"hopen\" @closeHistoryViewWindow=\"closeHistoryViewWindow\"></HistoryViewPage>\r\n\t\t\t\t\t\t</a-menu-item>\r\n\t\t\t\t\t\t<a-menu-item @click=\"showMsgWindow()\">\r\n\t\t\t\t\t\t\t<a-icon type=\"sound\" /><span style=\"margin-left: 5px;\">通知</span>\r\n\t\t\t\t\t\t\t<MsgPage v-if=\"mopen\" :mopen=\"mopen\" :msgNum=\"msgNum\" @closeMsgWindow=\"closeMsgWindow\"></MsgPage>\r\n\t\t\t\t\t\t</a-menu-item>\r\n\t\t\t\t\t\t<a-menu-item>\r\n\t\t\t\t\t\t\t<router-link to=\"/home/user_info\">\r\n\t\t\t\t\t\t\t\t<a-icon type=\"edit\" /><span style=\"margin-left: 10px;\">资料</span>\r\n\t\t\t\t\t\t\t</router-link>\r\n\t\t\t\t\t\t</a-menu-item>\r\n\t\t\t\t\t\t<a-menu-item>\r\n\t\t\t\t\t\t\t<a @click=\"openRewtPwdWindow\"><a-icon type=\"tool\" /><span style=\"margin-left: 10px;\">修改密码</span></a>\r\n\t\t\t\t\t\t\t<ResetPwdPage v-if=\"pwd\" :pwd=\"pwd\" @closeResetPwdPage=\"closeResetPwdPage\"></ResetPwdPage>\r\n\t\t\t\t\t\t</a-menu-item>\r\n\t\t\t\t\t\t<a-menu-item @click=\"userLogout()\">\r\n\t\t\t\t\t\t\t<a-icon type=\"poweroff\" /><span style=\"margin-left: 5px;\">退出</span>\r\n\t\t\t\t\t\t</a-menu-item>\r\n\t\t\t\t\t</a-menu>\r\n\t\t\t\t</a-dropdown>\r\n\t\t\t\t<a-menu-item :style=\"{float: 'right', 'margin-right':'-25px'}\" @click=\"userLogout()\" v-else>\r\n\t\t\t\t\t<a-icon type=\"login\" />&nbsp;&nbsp; 登录\r\n\t\t\t\t</a-menu-item>\r\n\t\t\t</a-menu>\r\n\t\t</a-layout-header>\r\n\r\n\t\t<router-view></router-view>\r\n\t\t<a-layout-footer :style=\"{ textAlign: 'center' }\">\r\n\t\t\tHave a Nice Day! --Ant Design ©2020 Created--\r\n\t\t</a-layout-footer>\r\n\t</a-layout>\r\n</template>\r\n\r\n<script>\r\n\timport MsgPage from \"./MsgPage.vue\";\r\n\timport ResetPwdPage from \"./ResetPwdPage.vue\";\r\n\timport HistoryViewPage from \"./HistoryViewPage.vue\";\r\n\timport SearchResultPage from \"./SearchResultPage.vue\";\r\n\timport {\r\n\t\tmapMutations,\r\n\t\tmapState\r\n\t} from \"vuex\";\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tMsgPage,\r\n\t\t\tResetPwdPage,\r\n\t\t\tHistoryViewPage,\r\n\t\t\tSearchResultPage\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tvalue: null,\r\n\t\t\t\tsopen: false,\r\n\t\t\t\thopen: false,\r\n\t\t\t\tmopen: false,\r\n\t\t\t\tpwd: false,\r\n\t\t\t\tmsgNum: 0,\r\n\t\t\t};\r\n\t\t},\r\n\t\tasync created() {\r\n\t\t\tthis.getMsgNum();\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState(['requestPath', 'userInfo','picRequestPath']),\r\n\t\t\ttitle() {\r\n\t\t\t\treturn this.$route.meta.title;\r\n\t\t\t},\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations(['logout']),\r\n\t\t\tasync getMsgNum() {\r\n\t\t\t\tif (this.$store.state.userInfo) {\r\n\t\t\t\t\tlet {\r\n\t\t\t\t\t\tdata\r\n\t\t\t\t\t} = await this.$get(this.$store.state.requestPath + 'msg_num/' + this.userInfo.uid);\r\n\t\t\t\t\tthis.msgNum = data.data;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(\"userInfo not found\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tuserLogout() {\r\n\t\t\t\tthis.logout();\r\n\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tpath: '/'\r\n\t\t\t\t});\r\n\t\t\t\tthis.$message.success(' (￣︶￣)↗ﾞ 感谢您的使用~ ', 2);\r\n\t\t\t},\r\n\t\t\tonSearch(value) {\r\n\t\t\t\tif (value.length == 0 || value == null || value.replace(/(^s*)|(s*$)/g, \"\").length == 0) {\r\n\t\t\t\t\tconsole.log(\"输入不能为空\");\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.value = value;\r\n\t\t\t\tthis.sopen = true;\r\n\t\t\t},\r\n\t\t\tcloseResWindow() {\r\n\t\t\t\tthis.sopen = false;\r\n\t\t\t},\r\n\t\t\tshowHistoryViewWindow() {\r\n\t\t\t\tthis.hopen = true;\r\n\t\t\t},\r\n\t\t\tcloseHistoryViewWindow() {\r\n\t\t\t\tthis.hopen = false;\r\n\t\t\t},\r\n\t\t\tshowMsgWindow() {\r\n\t\t\t\tthis.mopen = true;\r\n\t\t\t},\r\n\t\t\tcloseMsgWindow() {\r\n\t\t\t\tthis.mopen = false;\r\n\t\t\t\tthis.getMsgNum();\r\n\t\t\t},\r\n\t\t\topenRewtPwdWindow() {\r\n\t\t\t\tthis.pwd = true;\r\n\t\t\t},\r\n\t\t\tcloseResetPwdPage() {\r\n\t\t\t\tthis.pwd = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t#components-layout-demo-fixed {\r\n\t\tbackground: rgba(255, 255, 255, 0.2);\r\n\r\n\t\t.logo {\r\n\t\t\twidth: 120px;\r\n\t\t\theight: 31px;\r\n\t\t\tbackground: rgba(255, 255, 255, 0.2);\r\n\t\t\tmargin: 16px 24px 16px 0;\r\n\t\t\tfloat: left;\r\n\t\t}\r\n\t}\r\n\r\n\t#components-badge-demo-dot .anticon-notification {\r\n\t\twidth: 16px;\r\n\t\theight: 16px;\r\n\t\tline-height: 16px;\r\n\t\tfont-size: 1px;\r\n\t}\r\n</style>\n"]}]}