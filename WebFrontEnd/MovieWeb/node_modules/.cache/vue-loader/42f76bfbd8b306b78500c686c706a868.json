{"remainingRequest":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\src\\components\\admin\\BulletinAddPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\src\\components\\admin\\BulletinAddPage.vue","mtime":1614351937440},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\JavaWebApplication\\WebFrontEnd\\MovieWeb\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CgltYXBNdXRhdGlvbnMsCgltYXBTdGF0ZQp9IGZyb20gInZ1ZXgiOwpjb25zdCBjb2x1bW5zID0gW3sKCQl0aXRsZTogJ+eUqOaIt+WQjScsCgkJZGF0YUluZGV4OiAnbmFtZScsCgkJc2NvcGVkU2xvdHM6IHsKCQkJY3VzdG9tUmVuZGVyOiAnbmFtZScKCQl9LAoJfSwKCXsKCQl0aXRsZTogJ+aAp+WIqycsCgkJZGF0YUluZGV4OiAnZ2VuZGVyJywKCQlzY29wZWRTbG90czogewoJCQljdXN0b21SZW5kZXI6ICdnZW5kZXInCgkJfSwKCX0sCgoJewoJCXRpdGxlOiAn5bm06b6EJywKCQlkYXRhSW5kZXg6ICdhZ2UnLAoJCXNjb3BlZFNsb3RzOiB7CgkJCWN1c3RvbVJlbmRlcjogJ2FnZScKCQl9LAoJfSwKCXsKCQl0aXRsZTogJ+iBjOS4micsCgkJZGF0YUluZGV4OiAnb2NjdXBhdGlvbicsCgkJc2NvcGVkU2xvdHM6IHsKCQkJY3VzdG9tUmVuZGVyOiAnb2NjdXBhdGlvbicKCQl9LAoJfSwKCXsKCQl0aXRsZTogJ+mCrue8licsCgkJZGF0YUluZGV4OiAnemlwQ29kZScsCgl9LApdOwpjb2x1bW5zLmZvckVhY2goKHIpID0+IHsKCXIuYWxpZ24gPSAnY2VudGVyJwp9KTsKCmV4cG9ydCBkZWZhdWx0IHsKCWRhdGEoKSB7CgkJcmV0dXJuIHsKCQkJc2VhcmNoUGFyYW1zOiB7CgkJCQlrZXk6IG51bGwsCgkJCQlhZ2U6IG51bGwsCgkJCQlvY2N1cGF0aW9uOiBudWxsLAoJCQkJZ2VuZGVyOiBudWxsLAoJCQl9LAoJCQlhZGRQYXJhbXM6IHsKCQkJCWFkbWluSWQ6IDAsCgkJCQl1c2VySWRzOiBbXSwKCQkJCWNvbnRlbnQ6IG51bGwsCgkJCX0sCgkJCWFkZDogZmFsc2UsCgkJCWRhdGFTb3VyY2U6IG51bGwsCgkJCXBhZ2U6IDEsCgkJCXBhZ2VTaXplOiAxMCwKCQkJZGF0YWxvYWRpbmc6IHRydWUsCgkJCWNvbHVtbnMsCgkJCWNvbGxhcHNlZDogdHJ1ZSwKCQkJYWdlTGlzdDogewoJCQkJMTogIlVuZGVyIDE4IiwKCQkJCTE4OiAiMTgtMjQiLAoJCQkJMjU6ICIyNS0zNCIsCgkJCQkzNTogIjM1LTQ0IiwKCQkJCTQ1OiAiNDUtNDkiLAoJCQkJNTA6ICI1MC01NSIsCgkJCQk1NjogIjU2KyIKCQkJfSwKCQkJb2NjdXBhdGlvbkxpc3Q6IFsnb3RoZXInLCAnYWNhZGVtaWMvZWR1Y2F0b3InLCAnYXJ0aXN0JywgJ2NsZXJpY2FsL2FkbWluJywgJ2NvbGxlZ2UvZ3JhZCBzdHVkZW50JywKCQkJCSdjdXN0b21lciBzZXJ2aWNlJywgJ2RvY3Rvci9oZWFsdGggY2FyZScsICdleGVjdXRpdmUvbWFuYWdlcmlhbCcsICdmYXJtZXInLCAnaG9tZW1ha2VyJywgJ0stMTIgc3R1ZGVudCcsCgkJCQknbGF3eWVyJywgJ3Byb2dyYW1tZXInLCAncmV0aXJlZCcsICdzYWxlcy9tYXJrZXRpbmcnLCAnc2NpZW50aXN0JywgJ3NlbGYtZW1wbG95ZWQnLAoJCQkJJ3RlY2huaWNpYW4vZW5naW5lZXInLCAndHJhZGVzbWFuL2NyYWZ0c21hbicsICd1bmVtcGxveWVkJywgJ3dyaXRlcicKCQkJXSwKCQl9OwoJfSwKCWNvbXB1dGVkOiB7CgkJLi4ubWFwU3RhdGUoWydyZXF1ZXN0UGF0aCcsICd1c2VySW5mbyddKSwKCQlyb3dTZWxlY3Rpb24oKSB7CgkJCXJldHVybiB7CgkJCQlvblNlbGVjdDogKHJlY29yZCwgc2VsZWN0ZWQsIHNlbGVjdGVkUm93cykgPT4gewoJCQkJCXRoaXMuYWRkUGFyYW1zLnVzZXJJZHMgPSBbXQoJCQkJCWZvciAodmFyIGkgPSAwOyBpIDwgc2VsZWN0ZWRSb3dzLmxlbmd0aDsgaSsrKSB7CgkJCQkJCXRoaXMuYWRkUGFyYW1zLnVzZXJJZHMucHVzaChzZWxlY3RlZFJvd3NbaV0udWlkKTsKCQkJCQl9CgkJCQl9LAoJCQkJb25TZWxlY3RBbGw6IChzZWxlY3RlZCwgc2VsZWN0ZWRSb3dzLCBjaGFuZ2VSb3dzKSA9PiB7CgkJCQkJdGhpcy5hZGRQYXJhbXMudXNlcklkcyA9IFtdCgkJCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxlY3RlZFJvd3MubGVuZ3RoOyBpKyspIHsKCQkJCQkJdGhpcy5hZGRQYXJhbXMudXNlcklkcy5wdXNoKHNlbGVjdGVkUm93c1tpXS51aWQpOwoJCQkJCX0KCQkJCX0sCgkJCX0KCQl9LAoJfSwKCWFzeW5jIGNyZWF0ZWQoKSB7CgkJdGhpcy5nZXRBbGxBZ2UoKTsKCQl0aGlzLmdldEFsbE9jY3VwYXRpb24oKTsKCQl0aGlzLmdldEFsbFVzZXIoKTsKCX0sCgltZXRob2RzOiB7CgkJYXN5bmMgZ2V0QWxsQWdlKCkgewoJCQlpZiAodGhpcy4kc3RvcmUuc3RhdGUudXNlckluZm8pIHsKCQkJCWxldCB7CgkJCQkJZGF0YQoJCQkJfSA9IGF3YWl0IHRoaXMuJGdldCh0aGlzLiRzdG9yZS5zdGF0ZS5yZXF1ZXN0UGF0aCArICdhbGxBZ2UnKTsKCQkJCXRoaXMuYWdlTGlzdCA9IGRhdGEuZGF0YTsKCQkJfSBlbHNlIHsKCQkJCWNvbnNvbGUubG9nKCJ1c2VySW5mbyBub3QgZm91bmQiKTsKCQkJfQoJCX0sCgkJYXN5bmMgZ2V0QWxsT2NjdXBhdGlvbigpIHsKCQkJaWYgKHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJJbmZvKSB7CgkJCQlsZXQgewoJCQkJCWRhdGEKCQkJCX0gPSBhd2FpdCB0aGlzLiRnZXQodGhpcy4kc3RvcmUuc3RhdGUucmVxdWVzdFBhdGggKyAnYWxsT2NjdXBhdGlvbicpOwoJCQkJdGhpcy5vY2N1cGF0aW9uTGlzdCA9IGRhdGEuZGF0YTsKCQkJfSBlbHNlIHsKCQkJCWNvbnNvbGUubG9nKCJ1c2VySW5mbyBub3QgZm91bmQiKTsKCQkJfQoJCX0sCgkJYXN5bmMgZ2V0QWxsVXNlcigpIHsKCQkJdGhpcy5kYXRhbG9hZGluZyA9IHRydWU7CgkJCWlmICh0aGlzLiRzdG9yZS5zdGF0ZS51c2VySW5mbykgewoJCQkJbGV0IHsKCQkJCQlkYXRhCgkJCQl9ID0gYXdhaXQgdGhpcy4kZ2V0KHRoaXMuJHN0b3JlLnN0YXRlLnJlcXVlc3RQYXRoICsgJ2FsbFVzZXInKTsKCQkJCXRoaXMuZGF0YVNvdXJjZSA9IGRhdGEuZGF0YTsKCQkJCXRoaXMuZGF0YWxvYWRpbmcgPSBmYWxzZTsKCQkJfSBlbHNlIHsKCQkJCWNvbnNvbGUubG9nKCJ1c2VySW5mbyBub3QgZm91bmQiKTsKCQkJfQoJCX0sCgkJYXN5bmMgYWRkQnVsbGV0aW4oKSB7CgkJCWlmICh0aGlzLmFkZFBhcmFtcy51c2VySWRzLmxlbmd0aD09MCl7CgkJCQl0aGlzLiRtZXNzYWdlLndhcm5pbmcoJ+ivt+mAieaLqeWFrOWRiuaOpeaUtuaWuScpOwoJCQkJdGhpcy5hZGQgPSBmYWxzZTsKCQkJCXJldHVybjsKCQkJfQoJCQl0aGlzLmFkZFBhcmFtcy5hZG1pbklkID0gdGhpcy51c2VySW5mby51aWQ7CgkJCWxldCB7CgkJCQlkYXRhCgkJCX0gPSBhd2FpdCB0aGlzLmF4aW9zLnBvc3QodGhpcy5yZXF1ZXN0UGF0aCArICcvYnVsbGV0aW4vYWRkJywgdGhpcy5hZGRQYXJhbXMpOwoJCQlpZiAoZGF0YS5jb2RlID09IDApIHsKCQkJCXRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5Y+R5biD5oiQ5YqfJyk7CgkJCQl0aGlzLmFkZCA9IGZhbHNlOwoJCQl9IGVsc2UgewoJCQkJdGhpcy4kbWVzc2FnZS5lcnJvcign5Y+R5biD5aSx6LSlJyk7CgkJCX0KCQl9LAoJCWFzeW5jIHNlYXJjaCgpIHsKCQkJdGhpcy5kYXRhbG9hZGluZyA9IHRydWU7CgkJCWxldCB7CgkJCQlkYXRhCgkJCX0gPSBhd2FpdCB0aGlzLmF4aW9zLnBvc3QodGhpcy5yZXF1ZXN0UGF0aCArICdzZWFyY2hVc2VyJywgdGhpcy5zZWFyY2hQYXJhbXMpOwoJCQl0aGlzLmRhdGFTb3VyY2UgPSBkYXRhLmRhdGE7CgkJCXRoaXMuZGF0YWxvYWRpbmcgPSBmYWxzZTsKCQl9LAoJCWNhbmNlbChlKSB7CgkJCWNvbnNvbGUubG9nKGUpOwoJCX0sCgkJc2hvd0FkZFdpbmRvdygpIHsKCQkJdGhpcy5hZGQgPSB0cnVlOwoJCX0sCgl9LAp9Owo="},{"version":3,"sources":["BulletinAddPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BulletinAddPage.vue","sourceRoot":"src/components/admin","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<div>\r\n\t\t\t<div style=\"display: flex; justify-content: space-between;\">\r\n\t\t\t\t<div style=\"display: flex; justify-content: flex-start;\">\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t搜关键字：\r\n\t\t\t\t\t\t<a-input style=\"width:200px; margin: 20px 0 ;\" v-model=\"searchParams.key\" placeholder=\"用户名/邮编\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div style=\"margin: 20px 0 0 25px\">\r\n\t\t\t\t\t\t性别：\r\n\t\t\t\t\t\t<a-select v-model=\"searchParams.gender\" style=\"width: 150px;\" placeholder=\"选择性别\" :allowClear=\"true\">\r\n\t\t\t\t\t\t\t<a-select-option value=\"M\">男</a-select-option>\r\n\t\t\t\t\t\t\t<a-select-option value=\"F\">女</a-select-option>\r\n\t\t\t\t\t\t</a-select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<a-button type=\"primary\" icon=\"search\" style=\"margin: 20px 0 0 50px\" @click=\"search\">\r\n\t\t\t\t\t\t搜索用户\r\n\t\t\t\t\t</a-button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<a-button type=\"danger\" icon=\"edit\" style=\"margin-top: 25px\" @click=\"showAddWindow\">\r\n\t\t\t\t\t发布公告\r\n\t\t\t\t</a-button>\r\n\t\t\t</div>\r\n\t\t\t<div v-show=\"!collapsed\" style=\"display: flex; justify-content: flex-start;\">\r\n\t\t\t\t<div>\r\n\t\t\t\t\t职业类型：\r\n\t\t\t\t\t<a-select v-model=\"searchParams.occupation\" style=\"width: 200px;\" placeholder=\"选择职业\" :allowClear=\"true\">\r\n\t\t\t\t\t\t<a-select-option :value=key v-for=\"(value, key) in occupationList\">\r\n\t\t\t\t\t\t\t{{value}}\r\n\t\t\t\t\t\t</a-select-option>\r\n\t\t\t\t\t</a-select>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div style=\"margin-left: 25px;\">\r\n\t\t\t\t\t年龄：\r\n\t\t\t\t\t<a-select v-model=\"searchParams.age\" style=\"width: 150px;\" placeholder=\"选择年龄段\" :allowClear=\"true\">\r\n\t\t\t\t\t\t<a-select-option :value=key v-for=\"(value, key) in ageList\">\r\n\t\t\t\t\t\t\t{{value}}\r\n\t\t\t\t\t\t</a-select-option>\r\n\t\t\t\t\t</a-select>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<a-divider style=\"color: #999999; margin-top: 10px;\">\r\n\t\t\t\t<a-icon @click=\"collapsed=!collapsed\" :type=\"collapsed?'down-circle':'up-circle'\" />\r\n\t\t\t\t{{collapsed?\"展开\":\"收起\"}}更多选项\r\n\t\t\t</a-divider>\r\n\t\t</div>\r\n\t\t\r\n\t\t<a-modal v-model=\"add\" title=\"发布公告\" @ok=\"addBulletin\" :afterClose=\"cancel\">\r\n\t\t\t<p>编辑：{{userInfo.name}}</p>\r\n\t\t\t<p>请输入公告：</p>\r\n\t\t\t<a-input type=\"textarea\" v-model=\"addParams.content\" />\r\n\t\t</a-modal>\r\n\t\t\r\n\t\t<a-table :columns=\"columns\" :data-source=\"dataSource\" :loading=\"dataloading\" :pagination=\" {pageSize:pageSize}\"\r\n\t\t :row-selection=\"rowSelection\" :scroll=\"{ y: 280 }\">\r\n\t\t\t<b slot=\"name\" slot-scope=\"text\">{{ text }}</b>\r\n\t\t\t<span slot=\"gender\" slot-scope=\"text\">{{ text==\"M\"?\"男\":\"女\" }}</span>\r\n\t\t\t<span slot=\"age\" slot-scope=\"text\" v-text=\"ageList[text]\"></span>\r\n\t\t\t<span slot=\"occupation\" slot-scope=\"text\" v-text=\"occupationList[text]\"></span>\r\n\t\t</a-table>\r\n\t</div>\r\n\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tmapMutations,\r\n\t\tmapState\r\n\t} from \"vuex\";\r\n\tconst columns = [{\r\n\t\t\ttitle: '用户名',\r\n\t\t\tdataIndex: 'name',\r\n\t\t\tscopedSlots: {\r\n\t\t\t\tcustomRender: 'name'\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '性别',\r\n\t\t\tdataIndex: 'gender',\r\n\t\t\tscopedSlots: {\r\n\t\t\t\tcustomRender: 'gender'\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\t{\r\n\t\t\ttitle: '年龄',\r\n\t\t\tdataIndex: 'age',\r\n\t\t\tscopedSlots: {\r\n\t\t\t\tcustomRender: 'age'\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '职业',\r\n\t\t\tdataIndex: 'occupation',\r\n\t\t\tscopedSlots: {\r\n\t\t\t\tcustomRender: 'occupation'\r\n\t\t\t},\r\n\t\t},\r\n\t\t{\r\n\t\t\ttitle: '邮编',\r\n\t\t\tdataIndex: 'zipCode',\r\n\t\t},\r\n\t];\r\n\tcolumns.forEach((r) => {\r\n\t\tr.align = 'center'\r\n\t});\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tsearchParams: {\r\n\t\t\t\t\tkey: null,\r\n\t\t\t\t\tage: null,\r\n\t\t\t\t\toccupation: null,\r\n\t\t\t\t\tgender: null,\r\n\t\t\t\t},\r\n\t\t\t\taddParams: {\r\n\t\t\t\t\tadminId: 0,\r\n\t\t\t\t\tuserIds: [],\r\n\t\t\t\t\tcontent: null,\r\n\t\t\t\t},\r\n\t\t\t\tadd: false,\r\n\t\t\t\tdataSource: null,\r\n\t\t\t\tpage: 1,\r\n\t\t\t\tpageSize: 10,\r\n\t\t\t\tdataloading: true,\r\n\t\t\t\tcolumns,\r\n\t\t\t\tcollapsed: true,\r\n\t\t\t\tageList: {\r\n\t\t\t\t\t1: \"Under 18\",\r\n\t\t\t\t\t18: \"18-24\",\r\n\t\t\t\t\t25: \"25-34\",\r\n\t\t\t\t\t35: \"35-44\",\r\n\t\t\t\t\t45: \"45-49\",\r\n\t\t\t\t\t50: \"50-55\",\r\n\t\t\t\t\t56: \"56+\"\r\n\t\t\t\t},\r\n\t\t\t\toccupationList: ['other', 'academic/educator', 'artist', 'clerical/admin', 'college/grad student',\r\n\t\t\t\t\t'customer service', 'doctor/health care', 'executive/managerial', 'farmer', 'homemaker', 'K-12 student',\r\n\t\t\t\t\t'lawyer', 'programmer', 'retired', 'sales/marketing', 'scientist', 'self-employed',\r\n\t\t\t\t\t'technician/engineer', 'tradesman/craftsman', 'unemployed', 'writer'\r\n\t\t\t\t],\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState(['requestPath', 'userInfo']),\r\n\t\t\trowSelection() {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tonSelect: (record, selected, selectedRows) => {\r\n\t\t\t\t\t\tthis.addParams.userIds = []\r\n\t\t\t\t\t\tfor (var i = 0; i < selectedRows.length; i++) {\r\n\t\t\t\t\t\t\tthis.addParams.userIds.push(selectedRows[i].uid);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonSelectAll: (selected, selectedRows, changeRows) => {\r\n\t\t\t\t\t\tthis.addParams.userIds = []\r\n\t\t\t\t\t\tfor (var i = 0; i < selectedRows.length; i++) {\r\n\t\t\t\t\t\t\tthis.addParams.userIds.push(selectedRows[i].uid);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t},\r\n\t\tasync created() {\r\n\t\t\tthis.getAllAge();\r\n\t\t\tthis.getAllOccupation();\r\n\t\t\tthis.getAllUser();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync getAllAge() {\r\n\t\t\t\tif (this.$store.state.userInfo) {\r\n\t\t\t\t\tlet {\r\n\t\t\t\t\t\tdata\r\n\t\t\t\t\t} = await this.$get(this.$store.state.requestPath + 'allAge');\r\n\t\t\t\t\tthis.ageList = data.data;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(\"userInfo not found\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync getAllOccupation() {\r\n\t\t\t\tif (this.$store.state.userInfo) {\r\n\t\t\t\t\tlet {\r\n\t\t\t\t\t\tdata\r\n\t\t\t\t\t} = await this.$get(this.$store.state.requestPath + 'allOccupation');\r\n\t\t\t\t\tthis.occupationList = data.data;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(\"userInfo not found\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync getAllUser() {\r\n\t\t\t\tthis.dataloading = true;\r\n\t\t\t\tif (this.$store.state.userInfo) {\r\n\t\t\t\t\tlet {\r\n\t\t\t\t\t\tdata\r\n\t\t\t\t\t} = await this.$get(this.$store.state.requestPath + 'allUser');\r\n\t\t\t\t\tthis.dataSource = data.data;\r\n\t\t\t\t\tthis.dataloading = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.log(\"userInfo not found\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync addBulletin() {\r\n\t\t\t\tif (this.addParams.userIds.length==0){\r\n\t\t\t\t\tthis.$message.warning('请选择公告接收方');\r\n\t\t\t\t\tthis.add = false;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tthis.addParams.adminId = this.userInfo.uid;\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await this.axios.post(this.requestPath + '/bulletin/add', this.addParams);\r\n\t\t\t\tif (data.code == 0) {\r\n\t\t\t\t\tthis.$message.success('发布成功');\r\n\t\t\t\t\tthis.add = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$message.error('发布失败');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync search() {\r\n\t\t\t\tthis.dataloading = true;\r\n\t\t\t\tlet {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await this.axios.post(this.requestPath + 'searchUser', this.searchParams);\r\n\t\t\t\tthis.dataSource = data.data;\r\n\t\t\t\tthis.dataloading = false;\r\n\t\t\t},\r\n\t\t\tcancel(e) {\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t},\r\n\t\t\tshowAddWindow() {\r\n\t\t\t\tthis.add = true;\r\n\t\t\t},\r\n\t\t},\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n</style>\n"]}]}